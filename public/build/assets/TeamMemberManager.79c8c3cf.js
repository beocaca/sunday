import{J as S}from"./ActionMessage.573a1b0b.js";import{J as L}from"./ActionSection.d33c4220.js";import{J as A}from"./Button.477681d3.js";import{J as N}from"./ConfirmationModal.a1a61d14.js";import{J as V}from"./DangerButton.335aa55c.js";import{J as P}from"./DialogModal.d1e7aea7.js";import{J as z,a as D}from"./Label.93f1bb65.js";import{J as E,a as I}from"./InputError.a7480a18.js";import{J as O}from"./SecondaryButton.2123890a.js";import{J as U}from"./SectionBorder.a2811464.js";import{_ as q}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as l,o as m,c as i,a as s,b as t,e as b,d as r,F as p,f,n as u,g as a,t as v}from"./app.e6e97f3c.js";import"./SectionTitle.e8cffaaf.js";import"./Modal.1dbb4fb9.js";const G={components:{JetActionMessage:S,JetActionSection:L,JetButton:A,JetConfirmationModal:N,JetDangerButton:V,JetDialogModal:P,JetFormSection:z,JetInput:E,JetInputError:I,JetLabel:D,JetSecondaryButton:O,JetSectionBorder:U},props:["team","availableRoles","userPermissions"],data(){return{addTeamMemberForm:this.$inertia.form({email:"",role:null},{bag:"addTeamMember",resetOnSuccess:!0}),updateRoleForm:this.$inertia.form({role:null},{bag:"updateRole",resetOnSuccess:!1}),leaveTeamForm:this.$inertia.form({},{bag:"leaveTeam"}),removeTeamMemberForm:this.$inertia.form({},{bag:"removeTeamMember"}),currentlyManagingRole:!1,managingRoleFor:null,confirmingLeavingTeam:!1,teamMemberBeingRemoved:null}},methods:{addTeamMember(){this.addTeamMemberForm.post("/teams/"+this.team.id+"/members",{preserveScroll:!0})},manageRole(d){this.managingRoleFor=d,this.updateRoleForm.role=d.membership.role,this.currentlyManagingRole=!0},updateRole(){this.updateRoleForm.put("/teams/"+this.team.id+"/members/"+this.managingRoleFor.id,{preserveScroll:!0}).then(()=>{this.currentlyManagingRole=!1})},confirmLeavingTeam(){this.confirmingLeavingTeam=!0},leaveTeam(){this.leaveTeamForm.delete("/teams/"+this.team.id+"/members/"+this.$page.props.user.id)},confirmTeamMemberRemoval(d){this.teamMemberBeingRemoved=d},removeTeamMember(){this.removeTeamMemberForm.delete("/teams/"+this.team.id+"/members/"+this.teamMemberBeingRemoved.id,{preserveScroll:!0,preserveState:!0}).then(()=>{this.teamMemberBeingRemoved=null})},displayableRole(d){return this.availableRoles.find(n=>n.key==d).name}}},H={key:0},K=a(" Add Team Member "),Q=a(" Add a new team member to your team, allowing them to collaborate with you. "),W=r("div",{class:"col-span-6"},[r("div",{class:"max-w-xl text-sm text-gray-600"}," Please provide the email address of the person you would like to add to this team. The email address must be associated with an existing account. ")],-1),X={class:"col-span-6 sm:col-span-4"},Y={key:0,class:"col-span-6 lg:col-span-4"},Z={class:"mt-1 border border-gray-200 rounded-lg cursor-pointer"},$=["onClick"],ee={class:"flex items-center"},oe={key:0,class:"w-5 h-5 ml-2 text-green-400",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24"},te=r("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),se=[te],re={class:"mt-2 text-xs text-gray-600"},ne=a(" Added. "),me=a(" Add "),ie={key:1},ae=a(" Team Members "),le=a(" All of the people that are part of this team. "),de={class:"space-y-6"},ce={class:"flex items-center justify-between"},_e={class:"flex items-center"},ue=["src"],be={class:"ml-4"},ge={class:"flex items-center"},ve=["onClick"],he={key:1,class:"ml-2 text-sm text-gray-400"},pe=["onClick"],fe=a(" Manage Role "),ye={key:0},ke={class:"mt-1 border border-gray-200 rounded-lg cursor-pointer"},Me=["onClick"],Te={class:"flex items-center"},Re={key:0,class:"w-5 h-5 ml-2 text-green-400",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24"},xe=r("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Fe=[xe],Ce={class:"mt-2 text-xs text-gray-600"},je=a(" Nevermind "),we=a(" Save "),Je=a(" Leave Team "),Be=a(" Are you sure you would like to leave this team? "),Se=a(" Nevermind "),Le=a(" Leave "),Ae=a(" Remove Team Member "),Ne=a(" Are you sure you would like to remove this person from the team? "),Ve=a(" Nevermind "),Pe=a(" Remove ");function ze(d,n,c,De,e,_){const y=l("jet-section-border"),k=l("jet-label"),F=l("jet-input"),M=l("jet-input-error"),C=l("jet-action-message"),T=l("jet-button"),j=l("jet-form-section"),w=l("jet-action-section"),h=l("jet-secondary-button"),J=l("jet-dialog-modal"),R=l("jet-danger-button"),x=l("jet-confirmation-modal");return m(),i("div",null,[c.userPermissions.canAddTeamMembers?(m(),i("div",H,[s(y),s(j,{onSubmitted:_.addTeamMember},{title:t(()=>[K]),description:t(()=>[Q]),form:t(()=>[W,r("div",X,[s(k,{for:"email",value:"Email"}),s(F,{id:"name",type:"text",class:"block w-full mt-1",modelValue:e.addTeamMemberForm.email,"onUpdate:modelValue":n[0]||(n[0]=o=>e.addTeamMemberForm.email=o)},null,8,["modelValue"]),s(M,{message:d.addTeamMemberform.errors.email,class:"mt-2"},null,8,["message"])]),c.availableRoles.length>0?(m(),i("div",Y,[s(k,{for:"roles",value:"Role"}),s(M,{message:d.addTeamMemberform.errors.role,class:"mt-2"},null,8,["message"]),r("div",Z,[(m(!0),i(p,null,f(c.availableRoles,(o,g)=>(m(),i("div",{class:u(["px-4 py-3",{"border-t border-gray-200":g>0}]),onClick:B=>e.addTeamMemberForm.role=o.key,key:o.id},[r("div",{class:u({"opacity-50":e.addTeamMemberForm.role&&e.addTeamMemberForm.role!=o.key})},[r("div",ee,[r("div",{class:u(["text-sm text-gray-600",{"font-semibold":e.addTeamMemberForm.role==o.key}])},v(o.name),3),e.addTeamMemberForm.role==o.key?(m(),i("svg",oe,se)):b("",!0)]),r("div",re,v(o.description),1)],2)],10,$))),128))])])):b("",!0)]),actions:t(()=>[s(C,{on:e.addTeamMemberForm.recentlySuccessful,class:"mr-3"},{default:t(()=>[ne]),_:1},8,["on"]),s(T,{class:u({"opacity-25":e.addTeamMemberForm.processing}),disabled:e.addTeamMemberForm.processing},{default:t(()=>[me]),_:1},8,["class","disabled"])]),_:1},8,["onSubmitted"])])):b("",!0),c.team.users.length>0?(m(),i("div",ie,[s(y),s(w,{class:"mt-10 sm:mt-0"},{title:t(()=>[ae]),description:t(()=>[le]),content:t(()=>[r("div",de,[(m(!0),i(p,null,f(c.team.users,o=>(m(),i("div",ce,[r("div",_e,[r("img",{class:"w-8 h-8 rounded-full",src:o.profile_photo_url},null,8,ue),r("div",be,v(o.name),1)]),r("div",ge,[c.userPermissions.canAddTeamMembers&&c.availableRoles.length>0?(m(),i("button",{key:0,class:"ml-2 text-sm text-gray-400 underline",onClick:g=>_.manageRole(o)},v(_.displayableRole(o.membership.role)),9,ve)):c.availableRoles.length>0?(m(),i("div",he,v(_.displayableRole(o.membership.role)),1)):b("",!0),d.$page.props.user.id===o.id?(m(),i("button",{key:2,class:"ml-6 text-sm text-red-500 cursor-pointer focus:outline-none",onClick:n[1]||(n[1]=(...g)=>_.confirmLeavingTeam&&_.confirmLeavingTeam(...g))}," Leave ")):b("",!0),c.userPermissions.canRemoveTeamMembers?(m(),i("button",{key:3,class:"ml-6 text-sm text-red-500 cursor-pointer focus:outline-none",onClick:g=>_.confirmTeamMemberRemoval(o)}," Remove ",8,pe)):b("",!0)])]))),256))])]),_:1})])):b("",!0),s(J,{show:e.currentlyManagingRole,onClose:n[3]||(n[3]=o=>e.currentlyManagingRole=!1)},{title:t(()=>[fe]),content:t(()=>[e.managingRoleFor?(m(),i("div",ye,[r("div",ke,[(m(!0),i(p,null,f(c.availableRoles,(o,g)=>(m(),i("div",{class:u(["px-4 py-3",{"border-t border-gray-200":g>0}]),onClick:B=>e.updateRoleForm.role=o.key},[r("div",{class:u({"opacity-50":e.updateRoleForm.role&&e.updateRoleForm.role!=o.key})},[r("div",Te,[r("div",{class:u(["text-sm text-gray-600",{"font-semibold":e.updateRoleForm.role==o.key}])},v(o.name),3),e.updateRoleForm.role==o.key?(m(),i("svg",Re,Fe)):b("",!0)]),r("div",Ce,v(o.description),1)],2)],10,Me))),256))])])):b("",!0)]),footer:t(()=>[s(h,{onClick:n[2]||(n[2]=o=>e.currentlyManagingRole=!1)},{default:t(()=>[je]),_:1}),s(T,{class:u(["ml-2",{"opacity-25":e.updateRoleForm.processing}]),onClick:_.updateRole,disabled:e.updateRoleForm.processing},{default:t(()=>[we]),_:1},8,["onClick","class","disabled"])]),_:1},8,["show"]),s(x,{show:e.confirmingLeavingTeam,onClose:n[5]||(n[5]=o=>e.confirmingLeavingTeam=!1)},{title:t(()=>[Je]),content:t(()=>[Be]),footer:t(()=>[s(h,{onClick:n[4]||(n[4]=o=>e.confirmingLeavingTeam=!1)},{default:t(()=>[Se]),_:1}),s(R,{class:u(["ml-2",{"opacity-25":e.leaveTeamForm.processing}]),onClick:_.leaveTeam,disabled:e.leaveTeamForm.processing},{default:t(()=>[Le]),_:1},8,["onClick","class","disabled"])]),_:1},8,["show"]),s(x,{show:e.teamMemberBeingRemoved,onClose:n[7]||(n[7]=o=>e.teamMemberBeingRemoved=null)},{title:t(()=>[Ae]),content:t(()=>[Ne]),footer:t(()=>[s(h,{onClick:n[6]||(n[6]=o=>e.teamMemberBeingRemoved=null)},{default:t(()=>[Ve]),_:1}),s(R,{class:u(["ml-2",{"opacity-25":e.removeTeamMemberForm.processing}]),onClick:_.removeTeamMember,disabled:e.removeTeamMemberForm.processing},{default:t(()=>[Pe]),_:1},8,["onClick","class","disabled"])]),_:1},8,["show"])])}const eo=q(G,[["render",ze]]);export{eo as default};
