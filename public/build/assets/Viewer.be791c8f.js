import{r as ct,t as un,a as dt,b as cn,f as _e}from"./index.590f4998.js";import{C as Me,L as Rt,k as W,o as O,d as E,b as c,j as P,w as C,g as x,t as N,i as ie,B as dn,n as Le,q as pe,p as ys,f as gs,h as Wt,a as Ve,x as mn,F as Ae,e as Ze,m as we,l as ke}from"./app.3ce0088d.js";import{_ as le}from"./plugin-vue_export-helper.21dcd24c.js";import{I as hn}from"./ItemGroupCell.b94df27d.js";import{J as ps}from"./DialogModal.7ab1b676.js";import{J as ws}from"./Button.2e6d22da.js";function fn(s,e){ct(2,arguments);var t=un(s),n=dt(e);return isNaN(n)?new Date(NaN):(n&&t.setDate(t.getDate()+n),t)}var yn=6e4;function gn(s,e){ct(2,arguments);var t=dt(e);return cn(s,t*yn)}function Pa(s,e){ct(2,arguments);var t=dt(e);return fn(s,-t)}class ee extends Error{}class pn extends ee{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class wn extends ee{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class Tn extends ee{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class nt extends ee{}class Ts extends ee{constructor(e){super(`Invalid unit ${e}`)}}class $ extends ee{}class Y extends ee{constructor(){super("Zone is an abstract class")}}const d="numeric",R="short",L="long",He={year:d,month:d,day:d},mt={year:d,month:R,day:d},ks={year:d,month:R,day:d,weekday:R},ht={year:d,month:L,day:d},ft={year:d,month:L,day:d,weekday:L},yt={hour:d,minute:d},gt={hour:d,minute:d,second:d},pt={hour:d,minute:d,second:d,timeZoneName:R},wt={hour:d,minute:d,second:d,timeZoneName:L},Tt={hour:d,minute:d,hour12:!1},kt={hour:d,minute:d,second:d,hour12:!1},vt={hour:d,minute:d,second:d,hour12:!1,timeZoneName:R},St={hour:d,minute:d,second:d,hour12:!1,timeZoneName:L},Ot={year:d,month:d,day:d,hour:d,minute:d},bt={year:d,month:d,day:d,hour:d,minute:d,second:d},Et={year:d,month:R,day:d,hour:d,minute:d},_t={year:d,month:R,day:d,hour:d,minute:d,second:d},vs={year:d,month:R,day:d,weekday:R,hour:d,minute:d},Mt={year:d,month:L,day:d,hour:d,minute:d,timeZoneName:R},Dt={year:d,month:L,day:d,hour:d,minute:d,second:d,timeZoneName:R},It={year:d,month:L,day:d,weekday:L,hour:d,minute:d,timeZoneName:L},Nt={year:d,month:L,day:d,weekday:L,hour:d,minute:d,second:d,timeZoneName:L};function w(s){return typeof s=="undefined"}function X(s){return typeof s=="number"}function qe(s){return typeof s=="number"&&s%1===0}function kn(s){return typeof s=="string"}function vn(s){return Object.prototype.toString.call(s)==="[object Date]"}function z(){try{return typeof Intl!="undefined"&&Intl.DateTimeFormat}catch{return!1}}function ve(){return!w(Intl.DateTimeFormat.prototype.formatToParts)}function Ss(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Sn(s){return Array.isArray(s)?s:[s]}function zt(s,e,t){if(s.length!==0)return s.reduce((n,r)=>{const i=[e(r),r];return n&&t(n[0],i[0])===n[0]?n:i},null)[1]}function Os(s,e){return e.reduce((t,n)=>(t[n]=s[n],t),{})}function oe(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function q(s,e,t){return qe(s)&&s>=e&&s<=t}function On(s,e){return s-e*Math.floor(s/e)}function re(s,e=2){return s.toString().length<e?("0".repeat(e)+s).slice(-e):s.toString()}function M(s){if(!(w(s)||s===null||s===""))return parseInt(s,10)}function xt(s){if(!(w(s)||s===null||s==="")){const e=parseFloat("0."+s)*1e3;return Math.floor(e)}}function Ct(s,e,t=!1){const n=10**e;return(t?Math.trunc:Math.round)(s*n)/n}function Se(s){return s%4===0&&(s%100!==0||s%400===0)}function Te(s){return Se(s)?366:365}function Ue(s,e){const t=On(e-1,12)+1,n=s+(e-t)/12;return t===2?Se(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function Lt(s){let e=Date.UTC(s.year,s.month-1,s.day,s.hour,s.minute,s.second,s.millisecond);return s.year<100&&s.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function Re(s){const e=(s+Math.floor(s/4)-Math.floor(s/100)+Math.floor(s/400))%7,t=s-1,n=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return e===4||n===3?53:52}function rt(s){return s>99?s:s>60?1900+s:2e3+s}function bs(s,e,t,n=null){const r=new Date(s),i={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(i.timeZone=n);const a=Object.assign({timeZoneName:e},i),o=z();if(o&&ve()){const l=new Intl.DateTimeFormat(t,a).formatToParts(r).find(u=>u.type.toLowerCase()==="timezonename");return l?l.value:null}else if(o){const l=new Intl.DateTimeFormat(t,i).format(r);return new Intl.DateTimeFormat(t,a).format(r).substring(l.length).replace(/^[, \u200e]+/,"")}else return null}function Pe(s,e){let t=parseInt(s,10);Number.isNaN(t)&&(t=0);const n=parseInt(e,10)||0,r=t<0||Object.is(t,-0)?-n:n;return t*60+r}function Es(s){const e=Number(s);if(typeof s=="boolean"||s===""||Number.isNaN(e))throw new $(`Invalid unit value ${s}`);return e}function We(s,e,t){const n={};for(const r in s)if(oe(s,r)){if(t.indexOf(r)>=0)continue;const i=s[r];if(i==null)continue;n[e(r)]=Es(i)}return n}function ze(s,e){const t=Math.trunc(Math.abs(s/60)),n=Math.trunc(Math.abs(s%60)),r=s>=0?"+":"-";switch(e){case"short":return`${r}${re(t,2)}:${re(n,2)}`;case"narrow":return`${r}${t}${n>0?`:${n}`:""}`;case"techie":return`${r}${re(t,2)}${re(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function je(s){return Os(s,["hour","minute","second","millisecond"])}const _s=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;function T(s){return JSON.stringify(s,Object.keys(s).sort())}const bn=["January","February","March","April","May","June","July","August","September","October","November","December"],Ms=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],En=["J","F","M","A","M","J","J","A","S","O","N","D"];function Ds(s){switch(s){case"narrow":return En;case"short":return Ms;case"long":return bn;case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Is=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ns=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],_n=["M","T","W","T","F","S","S"];function xs(s){switch(s){case"narrow":return _n;case"short":return Ns;case"long":return Is;case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Cs=["AM","PM"],Mn=["Before Christ","Anno Domini"],Dn=["BC","AD"],In=["B","A"];function Ls(s){switch(s){case"narrow":return In;case"short":return Dn;case"long":return Mn;default:return null}}function Nn(s){return Cs[s.hour<12?0:1]}function xn(s,e){return xs(e)[s.weekday-1]}function Cn(s,e){return Ds(e)[s.month-1]}function Ln(s,e){return Ls(e)[s.year<0?0:1]}function Fn(s,e,t="always",n=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(s)===-1;if(t==="auto"&&i){const y=s==="days";switch(e){case 1:return y?"tomorrow":`next ${r[s][0]}`;case-1:return y?"yesterday":`last ${r[s][0]}`;case 0:return y?"today":`this ${r[s][0]}`}}const a=Object.is(e,-0)||e<0,o=Math.abs(e),l=o===1,u=r[s],f=n?l?u[1]:u[2]||u[1]:l?r[s][0]:s;return a?`${o} ${f} ago`:`in ${o} ${f}`}function $n(s){const e=Os(s,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hour12"]),t=T(e),n="EEEE, LLLL d, yyyy, h:mm a";switch(t){case T(He):return"M/d/yyyy";case T(mt):return"LLL d, yyyy";case T(ks):return"EEE, LLL d, yyyy";case T(ht):return"LLLL d, yyyy";case T(ft):return"EEEE, LLLL d, yyyy";case T(yt):return"h:mm a";case T(gt):return"h:mm:ss a";case T(pt):return"h:mm a";case T(wt):return"h:mm a";case T(Tt):return"HH:mm";case T(kt):return"HH:mm:ss";case T(vt):return"HH:mm";case T(St):return"HH:mm";case T(Ot):return"M/d/yyyy, h:mm a";case T(Et):return"LLL d, yyyy, h:mm a";case T(Mt):return"LLLL d, yyyy, h:mm a";case T(It):return n;case T(bt):return"M/d/yyyy, h:mm:ss a";case T(_t):return"LLL d, yyyy, h:mm:ss a";case T(vs):return"EEE, d LLL yyyy, h:mm a";case T(Dt):return"LLLL d, yyyy, h:mm:ss a";case T(Nt):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return n}}function qt(s,e){let t="";for(const n of s)n.literal?t+=n.val:t+=e(n.val);return t}const Vn={D:He,DD:mt,DDD:ht,DDDD:ft,t:yt,tt:gt,ttt:pt,tttt:wt,T:Tt,TT:kt,TTT:vt,TTTT:St,f:Ot,ff:Et,fff:Mt,ffff:It,F:bt,FF:_t,FFF:Dt,FFFF:Nt};class D{static create(e,t={}){return new D(e,t)}static parseFormat(e){let t=null,n="",r=!1;const i=[];for(let a=0;a<e.length;a++){const o=e.charAt(a);o==="'"?(n.length>0&&i.push({literal:r,val:n}),t=null,n="",r=!r):r||o===t?n+=o:(n.length>0&&i.push({literal:!1,val:n}),n=o,t=o)}return n.length>0&&i.push({literal:r,val:n}),i}static macroTokenToFormatOpts(e){return Vn[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,Object.assign({},this.opts,t)).format()}formatDateTime(e,t={}){return this.loc.dtFormatter(e,Object.assign({},this.opts,t)).format()}formatDateTimeParts(e,t={}){return this.loc.dtFormatter(e,Object.assign({},this.opts,t)).formatToParts()}resolvedOptions(e,t={}){return this.loc.dtFormatter(e,Object.assign({},this.opts,t)).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return re(e,t);const n=Object.assign({},this.opts);return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,t){const n=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory"&&ve(),i=(h,I)=>this.loc.extract(e,h,I),a=h=>e.isOffsetFixed&&e.offset===0&&h.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,h.format):"",o=()=>n?Nn(e):i({hour:"numeric",hour12:!0},"dayperiod"),l=(h,I)=>n?Cn(e,h):i(I?{month:h}:{month:h,day:"numeric"},"month"),u=(h,I)=>n?xn(e,h):i(I?{weekday:h}:{weekday:h,month:"long",day:"numeric"},"weekday"),f=h=>{const I=D.macroTokenToFormatOpts(h);return I?this.formatWithSystemDefault(e,I):h},y=h=>n?Ln(e,h):i({era:h},"era"),b=h=>{switch(h){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return r?i({day:"numeric"},"day"):this.num(e.day);case"dd":return r?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return r?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return r?i({month:"numeric"},"month"):this.num(e.month);case"MM":return r?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return r?i({year:"numeric"},"year"):this.num(e.year);case"yy":return r?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return y("short");case"GG":return y("long");case"GGGGG":return y("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(h)}};return qt(D.parseFormat(t),b)}formatDurationFromString(e,t){const n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},r=l=>u=>{const f=n(u);return f?this.num(l.get(f),u.length):u},i=D.parseFormat(t),a=i.reduce((l,{literal:u,val:f})=>u?l:l.concat(f),[]),o=e.shiftTo(...a.map(n).filter(l=>l));return qt(i,r(o))}}class H{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class Oe{get type(){throw new Y}get name(){throw new Y}get universal(){throw new Y}offsetName(e,t){throw new Y}formatOffset(e,t){throw new Y}offset(e){throw new Y}equals(e){throw new Y}get isValid(){throw new Y}}let Je=null;class Ft extends Oe{static get instance(){return Je===null&&(Je=new Ft),Je}get type(){return"local"}get name(){return z()?new Intl.DateTimeFormat().resolvedOptions().timeZone:"local"}get universal(){return!1}offsetName(e,{format:t,locale:n}){return bs(e,t,n)}formatOffset(e,t){return ze(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="local"}get isValid(){return!0}}const An=RegExp(`^${_s.source}$`);let Fe={};function Zn(s){return Fe[s]||(Fe[s]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:s,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),Fe[s]}const Hn={year:0,month:1,day:2,hour:3,minute:4,second:5};function Un(s,e){const t=s.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(t),[,r,i,a,o,l,u]=n;return[a,r,i,o,l,u]}function Rn(s,e){const t=s.formatToParts(e),n=[];for(let r=0;r<t.length;r++){const{type:i,value:a}=t[r],o=Hn[i];w(o)||(n[o]=parseInt(a,10))}return n}let De={};class U extends Oe{static create(e){return De[e]||(De[e]=new U(e)),De[e]}static resetCache(){De={},Fe={}}static isValidSpecifier(e){return!!(e&&e.match(An))}static isValidZone(e){try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}static parseGMTOffset(e){if(e){const t=e.match(/^Etc\/GMT([+-]\d{1,2})$/i);if(t)return-60*parseInt(t[1])}return null}constructor(e){super(),this.zoneName=e,this.valid=U.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get universal(){return!1}offsetName(e,{format:t,locale:n}){return bs(e,t,n,this.name)}formatOffset(e,t){return ze(this.offset(e),t)}offset(e){const t=new Date(e),n=Zn(this.name),[r,i,a,o,l,u]=n.formatToParts?Rn(n,t):Un(n,t),y=Lt({year:r,month:i,day:a,hour:o===24?0:o,minute:l,second:u,millisecond:0});let b=+t;const h=b%1e3;return b-=h>=0?h:1e3+h,(y-b)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let Ge=null;class _ extends Oe{static get utcInstance(){return Ge===null&&(Ge=new _(0)),Ge}static instance(e){return e===0?_.utcInstance:new _(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new _(Pe(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${ze(this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return ze(this.fixed,t)}get universal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class Pt extends Oe{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get universal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function K(s,e){let t;if(w(s)||s===null)return e;if(s instanceof Oe)return s;if(kn(s)){const n=s.toLowerCase();return n==="local"?e:n==="utc"||n==="gmt"?_.utcInstance:(t=U.parseGMTOffset(s))!=null?_.instance(t):U.isValidSpecifier(n)?U.create(s):_.parseSpecifier(n)||new Pt(s)}else return X(s)?_.instance(s):typeof s=="object"&&s.offset&&typeof s.offset=="number"?s:new Pt(s)}let jt=()=>Date.now(),Ke=null,Bt=null,Yt=null,Jt=null,Gt=!1;class v{static get now(){return jt}static set now(e){jt=e}static get defaultZoneName(){return v.defaultZone.name}static set defaultZoneName(e){e?Ke=K(e):Ke=null}static get defaultZone(){return Ke||Ft.instance}static get defaultLocale(){return Bt}static set defaultLocale(e){Bt=e}static get defaultNumberingSystem(){return Yt}static set defaultNumberingSystem(e){Yt=e}static get defaultOutputCalendar(){return Jt}static set defaultOutputCalendar(e){Jt=e}static get throwOnInvalid(){return Gt}static set throwOnInvalid(e){Gt=e}static resetCaches(){S.resetCache(),U.resetCache()}}const he="Invalid Interval";function Wn(s,e){return!s||!s.isValid?k.invalid("missing or invalid start"):!e||!e.isValid?k.invalid("missing or invalid end"):e<s?k.invalid("end before start",`The end of an interval must be after its start, but you had start=${s.toISO()} and end=${e.toISO()}`):null}class k{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new $("need to specify a reason the Interval is invalid");const n=e instanceof H?e:new H(e,t);if(v.throwOnInvalid)throw new wn(n);return new k({invalid:n})}static fromDateTimes(e,t){const n=ge(e),r=ge(t),i=Wn(n,r);return i==null?new k({start:n,end:r}):i}static after(e,t){const n=Q(t),r=ge(e);return k.fromDateTimes(r,r.plus(n))}static before(e,t){const n=Q(t),r=ge(e);return k.fromDateTimes(r.minus(n),r)}static fromISO(e,t){const[n,r]=(e||"").split("/",2);if(n&&r){let i,a;try{i=m.fromISO(n,t),a=i.isValid}catch{a=!1}let o,l;try{o=m.fromISO(r,t),l=o.isValid}catch{l=!1}if(a&&l)return k.fromDateTimes(i,o);if(a){const u=p.fromISO(r,t);if(u.isValid)return k.after(i,u)}else if(l){const u=p.fromISO(n,t);if(u.isValid)return k.before(o,u)}}return k.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const t=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(t,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?k.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(ge).filter(a=>this.contains(a)).sort(),n=[];let{s:r}=this,i=0;for(;r<this.e;){const a=t[i]||this.e,o=+a>+this.e?this.e:a;n.push(k.fromDateTimes(r,o)),r=o,i+=1}return n}splitBy(e){const t=Q(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:n}=this,r,i;const a=[];for(;n<this.e;)r=n.plus(t),i=+r>+this.e?this.e:r,a.push(k.fromDateTimes(n,i)),n=i;return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return t>n?null:k.fromDateTimes(t,n)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return k.fromDateTimes(t,n)}static merge(e){const[t,n]=e.sort((r,i)=>r.s-i.s).reduce(([r,i],a)=>i?i.overlaps(a)||i.abutsStart(a)?[r,i.union(a)]:[r.concat([i]),a]:[r,a],[[],null]);return n&&t.push(n),t}static xor(e){let t=null,n=0;const r=[],i=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),a=Array.prototype.concat(...i),o=a.sort((l,u)=>l.time-u.time);for(const l of o)n+=l.type==="s"?1:-1,n===1?t=l.time:(t&&+t!=+l.time&&r.push(k.fromDateTimes(t,l.time)),t=null);return k.merge(r)}difference(...e){return k.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:he}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:he}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:he}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:he}toFormat(e,{separator:t=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:he}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):p.invalid(this.invalidReason)}mapEndpoints(e){return k.fromDateTimes(e(this.s),e(this.e))}}class Ie{static hasDST(e=v.defaultZone){const t=m.local().setZone(e).set({month:12});return!e.universal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return U.isValidSpecifier(e)&&U.isValidZone(e)}static normalizeZone(e){return K(e,v.defaultZone)}static months(e="long",{locale:t=null,numberingSystem:n=null,outputCalendar:r="gregory"}={}){return S.create(t,n,r).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:n=null,outputCalendar:r="gregory"}={}){return S.create(t,n,r).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:n=null}={}){return S.create(t,n,null).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:n=null}={}){return S.create(t,n,null).weekdays(e,!0)}static meridiems({locale:e=null}={}){return S.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return S.create(t,null,"gregory").eras(e)}static features(){let e=!1,t=!1,n=!1,r=!1;if(z()){e=!0,t=ve(),r=Ss();try{n=new Intl.DateTimeFormat("en",{timeZone:"America/New_York"}).resolvedOptions().timeZone==="America/New_York"}catch{n=!1}}return{intl:e,intlTokens:t,zones:n,relative:r}}}function Kt(s,e){const t=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=t(e)-t(s);return Math.floor(p.fromMillis(n).as("days"))}function zn(s,e,t){const n=[["years",(o,l)=>l.year-o.year],["months",(o,l)=>l.month-o.month+(l.year-o.year)*12],["weeks",(o,l)=>{const u=Kt(o,l);return(u-u%7)/7}],["days",Kt]],r={};let i,a;for(const[o,l]of n)if(t.indexOf(o)>=0){i=o;let u=l(s,e);a=s.plus({[o]:u}),a>e?(s=s.plus({[o]:u-1}),u-=1):s=a,r[o]=u}return[s,r,a,i]}function qn(s,e,t,n){let[r,i,a,o]=zn(s,e,t);const l=e-r,u=t.filter(y=>["hours","minutes","seconds","milliseconds"].indexOf(y)>=0);u.length===0&&(a<e&&(a=r.plus({[o]:1})),a!==r&&(i[o]=(i[o]||0)+l/(a-r)));const f=p.fromObject(Object.assign(i,n));return u.length>0?p.fromMillis(l,n).shiftTo(...u).plus(f):f}function ue(...s){const e=s.reduce((t,n)=>t+n.source,"");return RegExp(`^${e}$`)}function ce(...s){return e=>s.reduce(([t,n,r],i)=>{const[a,o,l]=i(e,r);return[Object.assign(t,a),n||o,l]},[{},null,1]).slice(0,2)}function be(s,...e){if(s==null)return[null,null];for(const[t,n]of e){const r=t.exec(s);if(r)return n(r)}return[null,null]}function Fs(...s){return(e,t)=>{const n={};let r;for(r=0;r<s.length;r++)n[s[r]]=M(e[t+r]);return[n,null,t+r]}}const $s=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Vs=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,As=RegExp(`${Vs.source}${$s.source}?`),$t=RegExp(`(?:T${As.source})?`),Pn=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,jn=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Bn=/(\d{4})-?(\d{3})/,Yn=Fs("weekYear","weekNumber","weekDay"),Jn=Fs("year","ordinal"),Gn=/(\d{4})-(\d\d)-(\d\d)/,Zs=RegExp(`${Vs.source} ?(?:${$s.source}|(${_s.source}))?`),Kn=RegExp(`(?: ${Zs.source})?`);function ae(s,e,t){const n=s[e];return w(n)?t:M(n)}function Hs(s,e){return[{year:ae(s,e),month:ae(s,e+1,1),day:ae(s,e+2,1)},null,e+3]}function de(s,e){return[{hour:ae(s,e,0),minute:ae(s,e+1,0),second:ae(s,e+2,0),millisecond:xt(s[e+3])},null,e+4]}function Ee(s,e){const t=!s[e]&&!s[e+1],n=Pe(s[e+1],s[e+2]),r=t?null:_.instance(n);return[{},r,e+3]}function Us(s,e){const t=s[e]?U.create(s[e]):null;return[{},t,e+1]}const Qn=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function Xn(s){const[e,t,n,r,i,a,o,l,u]=s,f=e[0]==="-",y=b=>b&&f?-b:b;return[{years:y(M(t)),months:y(M(n)),weeks:y(M(r)),days:y(M(i)),hours:y(M(a)),minutes:y(M(o)),seconds:y(M(l)),milliseconds:y(xt(u))}]}const er={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Vt(s,e,t,n,r,i,a){const o={year:e.length===2?rt(M(e)):M(e),month:Ms.indexOf(t)+1,day:M(n),hour:M(r),minute:M(i)};return a&&(o.second=M(a)),s&&(o.weekday=s.length>3?Is.indexOf(s)+1:Ns.indexOf(s)+1),o}const tr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function sr(s){const[,e,t,n,r,i,a,o,l,u,f,y]=s,b=Vt(e,r,n,t,i,a,o);let h;return l?h=er[l]:u?h=0:h=Pe(f,y),[b,new _(h)]}function nr(s){return s.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const rr=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ir=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ar=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Qt(s){const[,e,t,n,r,i,a,o]=s;return[Vt(e,r,n,t,i,a,o),_.utcInstance]}function or(s){const[,e,t,n,r,i,a,o]=s;return[Vt(e,o,t,n,r,i,a),_.utcInstance]}const lr=ue(Pn,$t),ur=ue(jn,$t),cr=ue(Bn,$t),dr=ue(As),mr=ce(Hs,de,Ee),hr=ce(Yn,de,Ee),fr=ce(Jn,de),yr=ce(de,Ee);function gr(s){return be(s,[lr,mr],[ur,hr],[cr,fr],[dr,yr])}function pr(s){return be(nr(s),[tr,sr])}function wr(s){return be(s,[rr,Qt],[ir,Qt],[ar,or])}function Tr(s){return be(s,[Qn,Xn])}const kr=ue(Gn,Kn),vr=ue(Zs),Sr=ce(Hs,de,Ee,Us),Or=ce(de,Ee,Us);function br(s){return be(s,[kr,Sr],[vr,Or])}const At={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},Xt={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Er=At.hanidec.replace(/[\[|\]]/g,"").split("");function _r(s){let e=parseInt(s,10);if(isNaN(e)){e="";for(let t=0;t<s.length;t++){const n=s.charCodeAt(t);if(s[t].search(At.hanidec)!==-1)e+=Er.indexOf(s[t]);else for(const r in Xt){const[i,a]=Xt[r];n>=i&&n<=a&&(e+=n-i)}}return parseInt(e,10)}else return e}function A({numberingSystem:s},e=""){return new RegExp(`${At[s||"latn"]}${e}`)}const Mr="missing Intl.DateTimeFormat.formatToParts support";function g(s,e=t=>t){return{regex:s,deser:([t])=>e(_r(t))}}const Dr=String.fromCharCode(160),Rs=`( |${Dr})`,Ws=new RegExp(Rs,"g");function Ir(s){return s.replace(/\./g,"\\.?").replace(Ws,Rs)}function es(s){return s.replace(/\./g,"").replace(Ws," ").toLowerCase()}function Z(s,e){return s===null?null:{regex:RegExp(s.map(Ir).join("|")),deser:([t])=>s.findIndex(n=>es(t)===es(n))+e}}function ts(s,e){return{regex:s,deser:([,t,n])=>Pe(t,n),groups:e}}function ss(s){return{regex:s,deser:([e])=>e}}function Nr(s){return s.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function xr(s,e){const t=A(e),n=A(e,"{2}"),r=A(e,"{3}"),i=A(e,"{4}"),a=A(e,"{6}"),o=A(e,"{1,2}"),l=A(e,"{1,3}"),u=A(e,"{1,6}"),f=A(e,"{1,9}"),y=A(e,"{2,4}"),b=A(e,"{4,6}"),h=B=>({regex:RegExp(Nr(B.val)),deser:([Be])=>Be,literal:!0}),j=(B=>{if(s.literal)return h(B);switch(B.val){case"G":return Z(e.eras("short",!1),0);case"GG":return Z(e.eras("long",!1),0);case"y":return g(u);case"yy":return g(y,rt);case"yyyy":return g(i);case"yyyyy":return g(b);case"yyyyyy":return g(a);case"M":return g(o);case"MM":return g(n);case"MMM":return Z(e.months("short",!0,!1),1);case"MMMM":return Z(e.months("long",!0,!1),1);case"L":return g(o);case"LL":return g(n);case"LLL":return Z(e.months("short",!1,!1),1);case"LLLL":return Z(e.months("long",!1,!1),1);case"d":return g(o);case"dd":return g(n);case"o":return g(l);case"ooo":return g(r);case"HH":return g(n);case"H":return g(o);case"hh":return g(n);case"h":return g(o);case"mm":return g(n);case"m":return g(o);case"q":return g(o);case"qq":return g(n);case"s":return g(o);case"ss":return g(n);case"S":return g(l);case"SSS":return g(r);case"u":return ss(f);case"a":return Z(e.meridiems(),0);case"kkkk":return g(i);case"kk":return g(y,rt);case"W":return g(o);case"WW":return g(n);case"E":case"c":return g(t);case"EEE":return Z(e.weekdays("short",!1,!1),1);case"EEEE":return Z(e.weekdays("long",!1,!1),1);case"ccc":return Z(e.weekdays("short",!0,!1),1);case"cccc":return Z(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return ts(new RegExp(`([+-]${o.source})(?::(${n.source}))?`),2);case"ZZZ":return ts(new RegExp(`([+-]${o.source})(${n.source})?`),2);case"z":return ss(/[a-z_+-/]{1,256}?/i);default:return h(B)}})(s)||{invalidReason:Mr};return j.token=s,j}const Cr={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function Lr(s,e,t){const{type:n,value:r}=s;if(n==="literal")return{literal:!0,val:r};const i=t[n];let a=Cr[n];if(typeof a=="object"&&(a=a[i]),a)return{literal:!1,val:a}}function Fr(s){return[`^${s.map(t=>t.regex).reduce((t,n)=>`${t}(${n.source})`,"")}$`,s]}function $r(s,e,t){const n=s.match(e);if(n){const r={};let i=1;for(const a in t)if(oe(t,a)){const o=t[a],l=o.groups?o.groups+1:1;!o.literal&&o.token&&(r[o.token.val[0]]=o.deser(n.slice(i,i+l))),i+=l}return[n,r]}else return[n,{}]}function Vr(s){const e=r=>{switch(r){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t;return w(s.Z)?w(s.z)?t=null:t=U.create(s.z):t=new _(s.Z),w(s.q)||(s.M=(s.q-1)*3+1),w(s.h)||(s.h<12&&s.a===1?s.h+=12:s.h===12&&s.a===0&&(s.h=0)),s.G===0&&s.y&&(s.y=-s.y),w(s.u)||(s.S=xt(s.u)),[Object.keys(s).reduce((r,i)=>{const a=e(i);return a&&(r[a]=s[i]),r},{}),t]}let Qe=null;function Ar(){return Qe||(Qe=m.fromMillis(1555555555555)),Qe}function Zr(s,e){if(s.literal)return s;const t=D.macroTokenToFormatOpts(s.val);if(!t)return s;const i=D.create(e,t).formatDateTimeParts(Ar()).map(a=>Lr(a,e,t));return i.includes(void 0)?s:i}function Hr(s,e){return Array.prototype.concat(...s.map(t=>Zr(t,e)))}function zs(s,e,t){const n=Hr(D.parseFormat(t),s),r=n.map(a=>xr(a,s)),i=r.find(a=>a.invalidReason);if(i)return{input:e,tokens:n,invalidReason:i.invalidReason};{const[a,o]=Fr(r),l=RegExp(a,"i"),[u,f]=$r(e,l,o),[y,b]=f?Vr(f):[null,null];if(oe(f,"a")&&oe(f,"H"))throw new nt("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:l,rawMatches:u,matches:f,result:y,zone:b}}}function Ur(s,e,t){const{result:n,zone:r,invalidReason:i}=zs(s,e,t);return[n,r,i]}const qs=[0,31,59,90,120,151,181,212,243,273,304,334],Ps=[0,31,60,91,121,152,182,213,244,274,305,335];function V(s,e){return new H("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${s}, which is invalid`)}function js(s,e,t){const n=new Date(Date.UTC(s,e-1,t)).getUTCDay();return n===0?7:n}function Bs(s,e,t){return t+(Se(s)?Ps:qs)[e-1]}function Ys(s,e){const t=Se(s)?Ps:qs,n=t.findIndex(i=>i<e),r=e-t[n];return{month:n+1,day:r}}function it(s){const{year:e,month:t,day:n}=s,r=Bs(e,t,n),i=js(e,t,n);let a=Math.floor((r-i+10)/7),o;return a<1?(o=e-1,a=Re(o)):a>Re(e)?(o=e+1,a=1):o=e,Object.assign({weekYear:o,weekNumber:a,weekday:i},je(s))}function ns(s){const{weekYear:e,weekNumber:t,weekday:n}=s,r=js(e,1,4),i=Te(e);let a=t*7+n-r-3,o;a<1?(o=e-1,a+=Te(o)):a>i?(o=e+1,a-=Te(e)):o=e;const{month:l,day:u}=Ys(o,a);return Object.assign({year:o,month:l,day:u},je(s))}function Xe(s){const{year:e,month:t,day:n}=s,r=Bs(e,t,n);return Object.assign({year:e,ordinal:r},je(s))}function rs(s){const{year:e,ordinal:t}=s,{month:n,day:r}=Ys(e,t);return Object.assign({year:e,month:n,day:r},je(s))}function Rr(s){const e=qe(s.weekYear),t=q(s.weekNumber,1,Re(s.weekYear)),n=q(s.weekday,1,7);return e?t?n?!1:V("weekday",s.weekday):V("week",s.week):V("weekYear",s.weekYear)}function Wr(s){const e=qe(s.year),t=q(s.ordinal,1,Te(s.year));return e?t?!1:V("ordinal",s.ordinal):V("year",s.year)}function Js(s){const e=qe(s.year),t=q(s.month,1,12),n=q(s.day,1,Ue(s.year,s.month));return e?t?n?!1:V("day",s.day):V("month",s.month):V("year",s.year)}function Gs(s){const{hour:e,minute:t,second:n,millisecond:r}=s,i=q(e,0,23)||e===24&&t===0&&n===0&&r===0,a=q(t,0,59),o=q(n,0,59),l=q(r,0,999);return i?a?o?l?!1:V("millisecond",r):V("second",n):V("minute",t):V("hour",e)}const et="Invalid DateTime",is=864e13;function Ne(s){return new H("unsupported zone",`the zone "${s.name}" is not supported`)}function tt(s){return s.weekData===null&&(s.weekData=it(s.c)),s.weekData}function fe(s,e){const t={ts:s.ts,zone:s.zone,c:s.c,o:s.o,loc:s.loc,invalid:s.invalid};return new m(Object.assign({},t,e,{old:t}))}function Ks(s,e,t){let n=s-e*60*1e3;const r=t.offset(n);if(e===r)return[n,e];n-=(r-e)*60*1e3;const i=t.offset(n);return r===i?[n,r]:[s-Math.min(r,i)*60*1e3,Math.max(r,i)]}function as(s,e){s+=e*60*1e3;const t=new Date(s);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function $e(s,e,t){return Ks(Lt(s),e,t)}function os(s,e){const t=s.o,n=s.c.year+Math.trunc(e.years),r=s.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,i=Object.assign({},s.c,{year:n,month:r,day:Math.min(s.c.day,Ue(n,r))+Math.trunc(e.days)+Math.trunc(e.weeks)*7}),a=p.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=Lt(i);let[l,u]=Ks(o,t,s.zone);return a!==0&&(l+=a,u=s.zone.offset(l)),{ts:l,o:u}}function ye(s,e,t,n,r){const{setZone:i,zone:a}=t;if(s&&Object.keys(s).length!==0){const o=e||a,l=m.fromObject(Object.assign(s,t,{zone:o,setZone:void 0}));return i?l:l.setZone(a)}else return m.invalid(new H("unparsable",`the input "${r}" can't be parsed as ${n}`))}function se(s,e,t=!0){return s.isValid?D.create(S.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(s,e):null}function ls(s,{suppressSeconds:e=!1,suppressMilliseconds:t=!1,includeOffset:n,includeZone:r=!1,spaceZone:i=!1,format:a="extended"}){let o=a==="basic"?"HHmm":"HH:mm";return(!e||s.second!==0||s.millisecond!==0)&&(o+=a==="basic"?"ss":":ss",(!t||s.millisecond!==0)&&(o+=".SSS")),(r||n)&&i&&(o+=" "),r?o+="z":n&&(o+=a==="basic"?"ZZZ":"ZZ"),se(s,o)}const Qs={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},zr={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},qr={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Xs=["year","month","day","hour","minute","second","millisecond"],Pr=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],jr=["year","ordinal","hour","minute","second","millisecond"];function us(s){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[s.toLowerCase()];if(!e)throw new Ts(s);return e}function cs(s,e){for(const o of Xs)w(s[o])&&(s[o]=Qs[o]);const t=Js(s)||Gs(s);if(t)return m.invalid(t);const n=v.now(),r=e.offset(n),[i,a]=$e(s,r,e);return new m({ts:i,zone:e,o:a})}function ds(s,e,t){const n=w(t.round)?!0:t.round,r=(a,o)=>(a=Ct(a,n||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(a,o)),i=a=>t.calendary?e.hasSame(s,a)?0:e.startOf(a).diff(s.startOf(a),a).get(a):e.diff(s,a).get(a);if(t.unit)return r(i(t.unit),t.unit);for(const a of t.units){const o=i(a);if(Math.abs(o)>=1)return r(o,a)}return r(0,t.units[t.units.length-1])}class m{constructor(e){const t=e.zone||v.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new H("invalid input"):null)||(t.isValid?null:Ne(t));this.ts=w(e.ts)?v.now():e.ts;let r=null,i=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[r,i]=[e.old.c,e.old.o];else{const o=t.offset(this.ts);r=as(this.ts,o),n=Number.isNaN(r.year)?new H("invalid input"):null,r=n?null:r,i=n?null:o}this._zone=t,this.loc=e.loc||S.create(),this.invalid=n,this.weekData=null,this.c=r,this.o=i,this.isLuxonDateTime=!0}static local(e,t,n,r,i,a,o){return w(e)?new m({ts:v.now()}):cs({year:e,month:t,day:n,hour:r,minute:i,second:a,millisecond:o},v.defaultZone)}static utc(e,t,n,r,i,a,o){return w(e)?new m({ts:v.now(),zone:_.utcInstance}):cs({year:e,month:t,day:n,hour:r,minute:i,second:a,millisecond:o},_.utcInstance)}static fromJSDate(e,t={}){const n=vn(e)?e.valueOf():NaN;if(Number.isNaN(n))return m.invalid("invalid input");const r=K(t.zone,v.defaultZone);return r.isValid?new m({ts:n,zone:r,loc:S.fromObject(t)}):m.invalid(Ne(r))}static fromMillis(e,t={}){if(X(e))return e<-is||e>is?m.invalid("Timestamp out of range"):new m({ts:e,zone:K(t.zone,v.defaultZone),loc:S.fromObject(t)});throw new $(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(X(e))return new m({ts:e*1e3,zone:K(t.zone,v.defaultZone),loc:S.fromObject(t)});throw new $("fromSeconds requires a numerical input")}static fromObject(e){const t=K(e.zone,v.defaultZone);if(!t.isValid)return m.invalid(Ne(t));const n=v.now(),r=t.offset(n),i=We(e,us,["zone","locale","outputCalendar","numberingSystem"]),a=!w(i.ordinal),o=!w(i.year),l=!w(i.month)||!w(i.day),u=o||l,f=i.weekYear||i.weekNumber,y=S.fromObject(e);if((u||a)&&f)throw new nt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&a)throw new nt("Can't mix ordinal dates with month/day");const b=f||i.weekday&&!u;let h,I,j=as(n,r);b?(h=Pr,I=zr,j=it(j)):a?(h=jr,I=qr,j=Xe(j)):(h=Xs,I=Qs);let B=!1;for(const me of h){const ln=i[me];w(ln)?B?i[me]=I[me]:i[me]=j[me]:B=!0}const Be=b?Rr(i):a?Wr(i):Js(i),Ut=Be||Gs(i);if(Ut)return m.invalid(Ut);const rn=b?ns(i):a?rs(i):i,[an,on]=$e(rn,r,t),Ye=new m({ts:an,zone:t,o:on,loc:y});return i.weekday&&u&&e.weekday!==Ye.weekday?m.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${Ye.toISO()}`):Ye}static fromISO(e,t={}){const[n,r]=gr(e);return ye(n,r,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[n,r]=pr(e);return ye(n,r,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[n,r]=wr(e);return ye(n,r,t,"HTTP",t)}static fromFormat(e,t,n={}){if(w(e)||w(t))throw new $("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:i=null}=n,a=S.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0}),[o,l,u]=Ur(a,e,t);return u?m.invalid(u):ye(o,l,n,`format ${t}`,e)}static fromString(e,t,n={}){return m.fromFormat(e,t,n)}static fromSQL(e,t={}){const[n,r]=br(e);return ye(n,r,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new $("need to specify a reason the DateTime is invalid");const n=e instanceof H?e:new H(e,t);if(v.throwOnInvalid)throw new pn(n);return new m({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?tt(this).weekYear:NaN}get weekNumber(){return this.isValid?tt(this).weekNumber:NaN}get weekday(){return this.isValid?tt(this).weekday:NaN}get ordinal(){return this.isValid?Xe(this.c).ordinal:NaN}get monthShort(){return this.isValid?Ie.months("short",{locale:this.locale})[this.month-1]:null}get monthLong(){return this.isValid?Ie.months("long",{locale:this.locale})[this.month-1]:null}get weekdayShort(){return this.isValid?Ie.weekdays("short",{locale:this.locale})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Ie.weekdays("long",{locale:this.locale})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.universal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return Se(this.year)}get daysInMonth(){return Ue(this.year,this.month)}get daysInYear(){return this.isValid?Te(this.year):NaN}get weeksInWeekYear(){return this.isValid?Re(this.weekYear):NaN}resolvedLocaleOpts(e={}){const{locale:t,numberingSystem:n,calendar:r}=D.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:n,outputCalendar:r}}toUTC(e=0,t={}){return this.setZone(_.instance(e),t)}toLocal(){return this.setZone(v.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:n=!1}={}){if(e=K(e,v.defaultZone),e.equals(this.zone))return this;if(e.isValid){let r=this.ts;if(t||n){const i=e.offset(this.ts),a=this.toObject();[r]=$e(a,i,e)}return fe(this,{ts:r,zone:e})}else return m.invalid(Ne(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:n}={}){const r=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:n});return fe(this,{loc:r})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=We(e,us,[]),n=!w(t.weekYear)||!w(t.weekNumber)||!w(t.weekday);let r;n?r=ns(Object.assign(it(this.c),t)):w(t.ordinal)?(r=Object.assign(this.toObject(),t),w(t.day)&&(r.day=Math.min(Ue(r.year,r.month),r.day))):r=rs(Object.assign(Xe(this.c),t));const[i,a]=$e(r,this.o,this.zone);return fe(this,{ts:i,o:a})}plus(e){if(!this.isValid)return this;const t=Q(e);return fe(this,os(this,t))}minus(e){if(!this.isValid)return this;const t=Q(e).negate();return fe(this,os(this,t))}startOf(e){if(!this.isValid)return this;const t={},n=p.normalizeUnit(e);switch(n){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0;break}if(n==="weeks"&&(t.weekday=1),n==="quarters"){const r=Math.ceil(this.month/3);t.month=(r-1)*3+1}return this.set(t)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,t={}){return this.isValid?D.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):et}toLocaleString(e=He){return this.isValid?D.create(this.loc.clone(e),e).formatDateTime(this):et}toLocaleParts(e={}){return this.isValid?D.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO(e={}){return this.isValid?`${this.toISODate(e)}T${this.toISOTime(e)}`:null}toISODate({format:e="extended"}={}){let t=e==="basic"?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(t="+"+t),se(this,t)}toISOWeekDate(){return se(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:n=!0,format:r="extended"}={}){return ls(this,{suppressSeconds:t,suppressMilliseconds:e,includeOffset:n,format:r})}toRFC2822(){return se(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return se(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return se(this,"yyyy-MM-dd")}toSQLTime({includeOffset:e=!0,includeZone:t=!1}={}){return ls(this,{includeOffset:e,includeZone:t,spaceZone:!0})}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():et}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t=Object.assign({},this.c);return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",n={}){if(!this.isValid||!e.isValid)return p.invalid(this.invalid||e.invalid,"created by diffing an invalid DateTime");const r=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},n),i=Sn(t).map(p.normalizeUnit),a=e.valueOf()>this.valueOf(),o=a?this:e,l=a?e:this,u=qn(o,l,i,r);return a?u.negate():u}diffNow(e="milliseconds",t={}){return this.diff(m.local(),e,t)}until(e){return this.isValid?k.fromDateTimes(this,e):this}hasSame(e,t){if(!this.isValid)return!1;if(t==="millisecond")return this.valueOf()===e.valueOf();{const n=e.valueOf();return this.startOf(t)<=n&&n<=this.endOf(t)}}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||m.fromObject({zone:this.zone}),n=e.padding?this<t?-e.padding:e.padding:0;return ds(t,this.plus(n),Object.assign(e,{numeric:"always",units:["years","months","days","hours","minutes","seconds"]}))}toRelativeCalendar(e={}){return this.isValid?ds(e.base||m.fromObject({zone:this.zone}),this,Object.assign(e,{numeric:"auto",units:["years","months","days"],calendary:!0})):null}static min(...e){if(!e.every(m.isDateTime))throw new $("min requires all arguments be DateTimes");return zt(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(m.isDateTime))throw new $("max requires all arguments be DateTimes");return zt(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,n={}){const{locale:r=null,numberingSystem:i=null}=n,a=S.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return zs(a,e,t)}static fromStringExplain(e,t,n={}){return m.fromFormatExplain(e,t,n)}static get DATE_SHORT(){return He}static get DATE_MED(){return mt}static get DATE_MED_WITH_WEEKDAY(){return ks}static get DATE_FULL(){return ht}static get DATE_HUGE(){return ft}static get TIME_SIMPLE(){return yt}static get TIME_WITH_SECONDS(){return gt}static get TIME_WITH_SHORT_OFFSET(){return pt}static get TIME_WITH_LONG_OFFSET(){return wt}static get TIME_24_SIMPLE(){return Tt}static get TIME_24_WITH_SECONDS(){return kt}static get TIME_24_WITH_SHORT_OFFSET(){return vt}static get TIME_24_WITH_LONG_OFFSET(){return St}static get DATETIME_SHORT(){return Ot}static get DATETIME_SHORT_WITH_SECONDS(){return bt}static get DATETIME_MED(){return Et}static get DATETIME_MED_WITH_SECONDS(){return _t}static get DATETIME_MED_WITH_WEEKDAY(){return vs}static get DATETIME_FULL(){return Mt}static get DATETIME_FULL_WITH_SECONDS(){return Dt}static get DATETIME_HUGE(){return It}static get DATETIME_HUGE_WITH_SECONDS(){return Nt}}function ge(s){if(m.isDateTime(s))return s;if(s&&s.valueOf&&X(s.valueOf()))return m.fromJSDate(s);if(s&&typeof s=="object")return m.fromObject(s);throw new $(`Unknown datetime argument: ${s}, of type ${typeof s}`)}let at={};function ot(s,e={}){const t=JSON.stringify([s,e]);let n=at[t];return n||(n=new Intl.DateTimeFormat(s,e),at[t]=n),n}let lt={};function Br(s,e={}){const t=JSON.stringify([s,e]);let n=lt[t];return n||(n=new Intl.NumberFormat(s,e),lt[t]=n),n}let ut={};function Yr(s,e={}){const{base:t,...n}=e,r=JSON.stringify([s,n]);let i=ut[r];return i||(i=new Intl.RelativeTimeFormat(s,e),ut[r]=i),i}let G=null;function Jr(){if(G)return G;if(z()){const s=new Intl.DateTimeFormat().resolvedOptions().locale;return G=!s||s==="und"?"en-US":s,G}else return G="en-US",G}function Gr(s){const e=s.indexOf("-u-");if(e===-1)return[s];{let t;const n=s.substring(0,e);try{t=ot(s).resolvedOptions()}catch{t=ot(n).resolvedOptions()}const{numberingSystem:r,calendar:i}=t;return[n,r,i]}}function Kr(s,e,t){return z()?((t||e)&&(s+="-u",t&&(s+=`-ca-${t}`),e&&(s+=`-nu-${e}`)),s):[]}function Qr(s){const e=[];for(let t=1;t<=12;t++){const n=m.utc(2016,t,1);e.push(s(n))}return e}function Xr(s){const e=[];for(let t=1;t<=7;t++){const n=m.utc(2016,11,13+t);e.push(s(n))}return e}function xe(s,e,t,n,r){const i=s.listingMode(t);return i==="error"?null:i==="en"?n(e):r(e)}function ei(s){return s.numberingSystem&&s.numberingSystem!=="latn"?!1:s.numberingSystem==="latn"||!s.locale||s.locale.startsWith("en")||z()&&new Intl.DateTimeFormat(s.intl).resolvedOptions().numberingSystem==="latn"}class ti{constructor(e,t,n){if(this.padTo=n.padTo||0,this.floor=n.floor||!1,!t&&z()){const r={useGrouping:!1};n.padTo>0&&(r.minimumIntegerDigits=n.padTo),this.inf=Br(e,r)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):Ct(e,3);return re(t,this.padTo)}}}class si{constructor(e,t,n){this.opts=n,this.hasIntl=z();let r;if(e.zone.universal&&this.hasIntl?(r="UTC",n.timeZoneName?this.dt=e:this.dt=e.offset===0?e:m.fromMillis(e.ts+e.offset*60*1e3)):e.zone.type==="local"?this.dt=e:(this.dt=e,r=e.zone.name),this.hasIntl){const i=Object.assign({},this.opts);r&&(i.timeZone=r),this.dtf=ot(t,i)}}format(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());{const e=$n(this.opts),t=S.create("en-US");return D.create(t).formatDateTimeFromString(this.dt,e)}}formatToParts(){return this.hasIntl&&ve()?this.dtf.formatToParts(this.dt.toJSDate()):[]}resolvedOptions(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}}}class ni{constructor(e,t,n){this.opts=Object.assign({style:"long"},n),!t&&Ss()&&(this.rtf=Yr(e,n))}format(e,t){return this.rtf?this.rtf.format(e,t):Fn(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}class S{static fromOpts(e){return S.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,t,n,r=!1){const i=e||v.defaultLocale,a=i||(r?"en-US":Jr()),o=t||v.defaultNumberingSystem,l=n||v.defaultOutputCalendar;return new S(a,o,l,i)}static resetCache(){G=null,at={},lt={},ut={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:n}={}){return S.create(e,t,n)}constructor(e,t,n,r){const[i,a,o]=Gr(e);this.locale=i,this.numberingSystem=t||a||null,this.outputCalendar=n||o||null,this.intl=Kr(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=ei(this)),this.fastNumbersCached}listingMode(e=!0){const t=z(),n=t&&ve(),r=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return!n&&!(r&&i)&&!e?"error":!n||r&&i?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:S.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone(Object.assign({},e,{defaultToEN:!0}))}redefaultToSystem(e={}){return this.clone(Object.assign({},e,{defaultToEN:!1}))}months(e,t=!1,n=!0){return xe(this,e,n,Ds,()=>{const r=t?{month:e,day:"numeric"}:{month:e},i=t?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=Qr(a=>this.extract(a,r,"month"))),this.monthsCache[i][e]})}weekdays(e,t=!1,n=!0){return xe(this,e,n,xs,()=>{const r=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=t?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=Xr(a=>this.extract(a,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(e=!0){return xe(this,void 0,e,()=>Cs,()=>{if(!this.meridiemCache){const t={hour:"numeric",hour12:!0};this.meridiemCache=[m.utc(2016,11,13,9),m.utc(2016,11,13,19)].map(n=>this.extract(n,t,"dayperiod"))}return this.meridiemCache})}eras(e,t=!0){return xe(this,e,t,Ls,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[m.utc(-40,1,1),m.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[e]})}extract(e,t,n){const r=this.dtFormatter(e,t),i=r.formatToParts(),a=i.find(o=>o.type.toLowerCase()===n);return a?a.value:null}numberFormatter(e={}){return new ti(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new si(e,this.intl,t)}relFormatter(e={}){return new ni(this.intl,this.isEnglish(),e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||z()&&new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}const ri="Invalid Duration",en={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},ii=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3}},en),F=146097/400,te=146097/4800,ai=Object.assign({years:{quarters:4,months:12,weeks:F/7,days:F,hours:F*24,minutes:F*24*60,seconds:F*24*60*60,milliseconds:F*24*60*60*1e3},quarters:{months:3,weeks:F/28,days:F/4,hours:F*24/4,minutes:F*24*60/4,seconds:F*24*60*60/4,milliseconds:F*24*60*60*1e3/4},months:{weeks:te/7,days:te,hours:te*24,minutes:te*24*60,seconds:te*24*60*60,milliseconds:te*24*60*60*1e3}},en),ne=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],oi=ne.slice(0).reverse();function J(s,e,t=!1){const n={values:t?e.values:Object.assign({},s.values,e.values||{}),loc:s.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||s.conversionAccuracy};return new p(n)}function li(s){return s<0?Math.floor(s):Math.ceil(s)}function tn(s,e,t,n,r){const i=s[r][t],a=e[t]/i,o=Math.sign(a)===Math.sign(n[r]),l=!o&&n[r]!==0&&Math.abs(a)<=1?li(a):Math.trunc(a);n[r]+=l,e[t]-=l*i}function ui(s,e){oi.reduce((t,n)=>w(e[n])?t:(t&&tn(s,e,t,e,n),n),null)}class p{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;this.values=e.values,this.loc=e.loc||S.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=t?ai:ii,this.isLuxonDuration=!0}static fromMillis(e,t){return p.fromObject(Object.assign({milliseconds:e},t))}static fromObject(e){if(e==null||typeof e!="object")throw new $(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new p({values:We(e,p.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:S.fromObject(e),conversionAccuracy:e.conversionAccuracy})}static fromISO(e,t){const[n]=Tr(e);if(n){const r=Object.assign(n,t);return p.fromObject(r)}else return p.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new $("need to specify a reason the Duration is invalid");const n=e instanceof H?e:new H(e,t);if(v.throwOnInvalid)throw new Tn(n);return new p({invalid:n})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new Ts(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const n=Object.assign({},t,{floor:t.round!==!1&&t.floor!==!1});return this.isValid?D.create(this.loc,n).formatDurationFromString(this,e):ri}toObject(e={}){if(!this.isValid)return{};const t=Object.assign({},this.values);return e.includeConfig&&(t.conversionAccuracy=this.conversionAccuracy,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Ct(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toJSON(){return this.toISO()}toString(){return this.toISO()}valueOf(){return this.as("milliseconds")}plus(e){if(!this.isValid)return this;const t=Q(e),n={};for(const r of ne)(oe(t.values,r)||oe(this.values,r))&&(n[r]=t.get(r)+this.get(r));return J(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const t=Q(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=Es(e(this.values[n],n));return J(this,{values:t},!0)}get(e){return this[p.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t=Object.assign(this.values,We(e,p.normalizeUnit,[]));return J(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:n}={}){const r=this.loc.clone({locale:e,numberingSystem:t}),i={loc:r};return n&&(i.conversionAccuracy=n),J(this,i)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return ui(this.matrix,e),J(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>p.normalizeUnit(a));const t={},n={},r=this.toObject();let i;for(const a of ne)if(e.indexOf(a)>=0){i=a;let o=0;for(const u in n)o+=this.matrix[u][a]*n[u],n[u]=0;X(r[a])&&(o+=r[a]);const l=Math.trunc(o);t[a]=l,n[a]=o-l;for(const u in r)ne.indexOf(u)>ne.indexOf(a)&&tn(this.matrix,r,u,t,a)}else X(r[a])&&(n[a]=r[a]);for(const a in n)n[a]!==0&&(t[i]+=a===i?n[a]:n[a]/this.matrix[i][a]);return J(this,{values:t},!0).normalize()}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=-this.values[t];return J(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;for(const t of ne)if(this.values[t]!==e.values[t])return!1;return!0}}function Q(s){if(X(s))return p.fromMillis(s);if(p.isDuration(s))return s;if(typeof s=="object")return p.fromObject(s);throw new $(`Unknown duration argument ${s} of type ${typeof s}`)}const st={description:"",billable:0,start:null,end:null,duration:null,label_ids:[]};class sn{constructor(e={}){this.timeEntry=Object.assign(st,e),this.running=!1,this.now=null,this.onUpdate=null,this.interval=null}startTimer(){const e=Me.exports.cloneDeep(this.timeEntry),t=new Date;return e.start=_e(t,"yyyy-MM-dd HH:mm:ss"),e.label_ids=JSON.stringify(st.label_ids),Rt.post("/api/time-entries",e).then(({data:n})=>{this.running=!0,this.timeEntry=n.data}).catch(n=>{this.$notify({title:"Error",message:n.response.data.status.message,type:"error"})}),t}prepareForm(){const e=Me.exports.cloneDeep(this.timeEntry);return e.start=_e(this.timeEntry.start,"yyyy-MM-dd HH:mm:ss"),e.label_ids=JSON.stringify(this.timeEntry.label_ids),e}updateEntry(e){if(this.timeEntry.id)return e=e||this.prepareForm(),Rt.put(`/api/time-entries/${this.timeEntry.id}`,e)}setCurrentTimer(e){if(e&&e.length){const t=e[0];this.running=!0,this.timeEntry=t}}stopTimer(e){const t=new Date(this.timeEntry.start);if(e&&this.timeEntry.target_duration){const r=p.fromISO(this.timeEntry.target_duration);e=gn(t,r.minutes),this.timeEntry.promodoro_completed=!0}this.timeEntry.end=_e(e||new Date,"yyyy-MM-dd HH:mm:ss");const n=Me.exports.cloneDeep(this.timeEntry);n.start=_e(t,"yyyy-MM-dd HH:mm:ss"),n.label_ids=JSON.stringify(this.timeEntry.label_ids),n.status=1,n.duration=this.getDuration(),n.iso_duration=this.getDuration(!1,"ISO"),this.updateEntry(n).then(()=>{this.running=!1,clearInterval(this.interval),this.resetTimer()})}resetTimer(){this.timeEntry=Me.exports.cloneDeep(st)}toggleTimer(){this.running?this.stopTimer():this.startTimer()}trackTime(){this.interval=setInterval(()=>{this.now=new Date,this.timeEntry.duration=this.getDuration()},100)}getDuration(e,t){let n=0;if(this.timeEntry.start){const r=new Date(this.timeEntry.start),i=this.timeEntry.end&&new Date(this.timeEntry.end);n=k.fromDateTimes(r,i||this.now||new Date).toDuration()}else n=p.fromMillis(0);return!e&!t?n.as("milliseconds"):t=="ISO"?n.toISO():n.toFormat("hh:mm:ss")}static durationFromMs(e){return p.fromMillis(e).toFormat("hh:mm:ss")}}const ci={props:{task:{type:Object,required:!0},tracker:{type:Object}},data(){return{originalDuration:null}},watch:{tracker(s){s?this.originalDuration=this.task.duration:this.originalDuration=this.task.duration}},created(){this.originalDuration=this.task.duration},computed:{isTracker(){return this.tracker&&this.tracker.timeEntry.item_id==this.task.id},durationFromMs(){const s=this.isTracker&&this.tracker.duration||0;return this.$set(this.task,"duration",this.originalDuration+s),sn.durationFromMs(this.task.duration)},priorityText(){const s={high:"\u{1F525}\u{1F525}\u{1F525}",medium:"\u{1F525}\u{1F525}",low:"\u{1F525}"};return this.task&&s[this.task.priority]||""}},methods:{updateTask(){this.$emit("update-item",this.task)}}},Zt=s=>(ys("data-v-6e701dc1"),s=s(),gs(),s),di={class:"task-item"},mi={class:"checkbox-label"},hi={class:"font-bold"},fi={class:"font-bold"},yi=Zt(()=>c("i",{class:"mx-2 fas fa-layer-group"},null,-1)),gi={class:"flex items-center actions-container"},pi=["id"],wi=Zt(()=>c("div",{class:"inline-block ml-2 mr-4 priority-level"},[c("div",{class:"priority-level__inner"})],-1)),Ti={class:"mr-2"},ki=Zt(()=>c("i",{class:"fa fa-trash"},null,-1)),vi=[ki];function Si(s,e,t,n,r,i){const a=W("inertia-link"),o=W("el-tooltip");return O(),E("div",di,[c("div",null,[c("label",mi,[c("span",hi,[P(a,{href:`/boards/${t.task.board_id}`},{default:C(()=>[c("span",fi,[yi,x(" "+N(t.task.stage),1)])]),_:1},8,["href"])]),c("span",null,N(t.task.title),1)])]),c("div",gi,[ie(c("input",{type:"checkbox",onChange:e[0]||(e[0]=l=>i.updateTask(t.task)),name:"",class:"checkbox-done",id:t.task.id,"onUpdate:modelValue":e[1]||(e[1]=l=>t.task.done=l)},null,40,pi),[[dn,t.task.done]]),P(o,{class:"item",effect:"dark",content:t.task.priority||"none",placement:"left"},{default:C(()=>[wi]),_:1},8,["content"]),c("span",Ti,N(i.durationFromMs),1),t.task.commit_date?pe("",!0):(O(),E("button",{key:0,onClick:e[2]||(e[2]=l=>s.$emit("item-clicked",t.task)),class:"play-button"},[c("i",{class:Le(["fa",[i.isTracker?"fa-pause":"fa fa-play"]])},null,2)])),c("button",{onClick:e[3]||(e[3]=l=>s.$emit("item-deleted",t.task)),class:"ml-2 text-gray-300 hover:text-red-400"},vi)])])}var Oi=le(ci,[["render",Si],["__scopeId","data-v-6e701dc1"]]);const bi={components:{ItemContainerTask:Oi,ItemGroupCell:hn},props:{tasks:{type:Array,required:!0},boards:{type:Array,required:!1,defauult(){return[]}},allowAdd:{type:Boolean,default:!1},title:{type:String,default:"Todos"},tracker:{type:Object}},data(){return{isLoading:!1,newTask:{title:"",board:null,stage:null}}},async created(){this.boards&&this.boards.length&&(this.newTask.board=this.boards[0],this.newTask.stage=this.boards[0].stages[0],await this.getFieldsData())},methods:{getFieldsData(){return axios({url:"/api/fields",params:{"filter[board_id]":this.newTask.board.id}}).then(({data:s})=>{this.$set(this.newTask,"fieldsData",s.data)})},addItem(){const s={...this.newTask},e=s.fieldsData.find(n=>n.name=="status"),t=e&&e.options.find(n=>n.name=="todo");s.fields=[{field_id:e.id,field_name:e.name,value:t&&t.name}],s.board_id=s.board.id,s.stage_id=s.stage.id,delete s.fieldsData,this.updateItem(s),this.newTask.title=""},updateItem(s){const e=s.id?"PUT":"POST",t=s.id?`/${s.id}`:"";this.isLoading=!0,axios({url:`/items${t}`,method:e,data:s}).then(()=>{this.$inertia.reload({preserveScroll:!0})}).finally(()=>{this.isLoading=!1})},confirmDeleteItem(s,e=!0){this.showConfirm({title:`Delete ${s.title} task`,content:"Are you sure you want to delete this task?",confirmationButtonText:"Yes, delete",confirm:()=>{axios({url:`/items/${s.id}`,method:"delete"}).then(()=>{this.$emit("item-deleted",s)})}})}}},Ei={class:"my-5 item-container section-card committed"},_i={class:"text-lg font-bold text-cool-gray-600"},Mi={class:"mb-5 text-gray-600 body"},Di={key:1,class:"w-full text-center text-purple-400"},Ii={key:2,class:"font-bold text-center text-gray-400 task-item"},Ni=x(" There's no items to show ");function xi(s,e,t,n,r,i){const a=W("item-group-cell"),o=W("item-container-task");return O(),E("div",Ei,[c("header",_i,N(t.title),1),Wt(s.$slots,"default",{},void 0,!0),c("div",Mi,[t.allowAdd?(O(),Ve(a,{key:0,ref:"ItemGroupCell",class:"flex items-center w-full mb-10","field-name":"title","is-title":!0,index:-1,item:r.newTask,"show-controls":!0,"close-on-blur":!1,"is-new":!0,boards:t.boards,placeholder:"Task title",onSaved:e[0]||(e[0]=l=>r.newTask.title=l),onKeydown:e[1]||(e[1]=mn(l=>i.addItem(),["enter"]))},null,8,["item","boards"])):pe("",!0),r.isLoading?(O(),E("div",Di," Adding new task... ")):pe("",!0),(O(!0),E(Ae,null,Ze(t.tasks,l=>(O(),Ve(o,{key:`task-${l.id}`,task:l,tracker:t.tracker,onItemClicked:u=>s.$emit("item-clicked",l),onItemDeleted:e[2]||(e[2]=u=>i.confirmDeleteItem(u,!0)),onUpdateItem:e[3]||(e[3]=u=>s.$emit("update-item",u))},null,8,["task","tracker","onItemClicked"]))),128)),!t.tasks||!t.tasks.length?(O(),E("div",Ii,[Wt(s.$slots,"empty",{},()=>[Ni],!0)])):pe("",!0)])])}var ja=le(bi,[["render",xi],["__scopeId","data-v-08751861"]]);const ms=25,hs=5,fs=15,Ce=0,Ci=["session","break","session","break","session","break","session","longBreak"];var nn={props:{settings:{type:Object,default(){return{}}}},data(){return{audio:null,alarmSound:"alarmwatch",modes:{session:{name:"session",color:"red",minutes:ms,seconds:Ce},break:{name:"break",color:"blue",minutes:hs,seconds:Ce},longBreak:{name:"long",color:"green",minutes:fs,seconds:Ce}},defaults:{SESSION_MINUTES:ms,BREAK_MINUTES:hs,LONG_BREAK_MINUTES:fs,TIME_SECONDS:Ce,PROMODORO_TEMPLATE:Ci}}},methods:{init(s){const e=s||this.settings;e.promodoro_template&&(this.promodoroTemplate=JSON.parse(e.promodoro_template));const t=e.promodoro_modes.trim()&&JSON.parse(e.promodoro_modes),{session:n,break:r,longBreak:i}=this.modes;t&&(n.minutes=t.session.minutes,n.seconds=t.session.seconds,r.minutes=t.break.minutes,r.seconds=t.break.seconds,i.minutes=t.longBreak.minutes,i.seconds=t.longBreak.seconds),this.reset&&this.reset()},playSound(){},stopSound(){this.audio&&this.audio.pause&&(this.audio.pause(),this.audio.remove(),window.navigator.vibrate(0))}}};const Li={mixins:[nn],components:{DialogModal:ps,PrimaryButton:ws},props:{isOpen:{type:Boolean},recordData:{type:Object}},data(){return{modes:{session:{name:"Session",minutes:25,seconds:0},break:{name:"Break",minutes:5,seconds:0},longBreak:{name:"Long Break",minutes:15,seconds:0}},promodoroTemplate:JSON.parse(localStorage.getItem("promodoroTemplate"))||[]}},watch:{isOpen(){this.init()}},methods:{save(){const s={};s.promodoro_template=JSON.stringify(this.promodoroTemplate),Object.keys(this.modes).forEach(e=>{this.modes[e].minutes=Number(this.modes[e].minutes)||1}),s.promodoro_modes=JSON.stringify(this.modes),axios({url:"/api/settings",method:"POST",data:s}).then(()=>{this.$emit("saved",s)})},addWorkflowItem(s){this.promodoroTemplate.push(s)},removeItem(s){this.promodoroTemplate.splice(s,1)}}},Fi=x(" Promodoro Configuration "),$i=c("h1",null," User preferences ",-1),Vi=c("div",{class:"form-group"},[c("label",{for:""},[c("input",{type:"checkbox",name:"",id:""}),x(" Timer indication title ")])],-1),Ai=c("div",{class:"form-group"},[c("label",{for:""},[c("input",{type:"checkbox",name:"",id:""}),x(" Browser Notification ")])],-1),Zi=c("div",{class:"form-group"},[c("label",{for:""},[c("input",{type:"checkbox",name:"",id:""}),x(" Autostart promodoros and breaks ")])],-1),Hi=c("h1",null," Workflow Template ",-1),Ui={class:"form-group"},Ri=["onClick"],Wi=c("i",{class:"fa fa-minus"},null,-1),zi=c("h1",null," Workflow Items ",-1),qi={class:"form-group"},Pi=["onClick"],ji=c("i",{class:"fa fa-plus"},null,-1),Bi=c("h1",null," Select sound ",-1),Yi=c("div",{class:"form-group"},[c("select",{name:"",id:"",class:"form-control"},[c("option",{value:""},"Alarm Clock"),c("option",{value:""},"Elevator Ding")])],-1),Ji=c("h1",null," Set Times ",-1),Gi={class:"flex"},Ki={class:"form-group"},Qi=c("label",{for:""}," Session ",-1),Xi={class:"form-group"},ea=c("label",{for:""}," Break ",-1),ta={class:"form-group"},sa=c("label",{for:""}," Long Break ",-1),na=x(" Test Audio "),ra=x(" Cancel "),ia=x(" Save ");function aa(s,e,t,n,r,i){const a=W("primary-button"),o=W("dialog-modal");return O(),Ve(o,{show:t.isOpen,onClose:e[6]||(e[6]=l=>s.$emit("closed"))},{title:C(()=>[Fi]),content:C(()=>[c("form",{action:"",onSubmit:e[3]||(e[3]=ke((...l)=>i.save&&i.save(...l),["prevent"]))},[$i,Vi,Ai,Zi,Hi,c("div",Ui,[(O(!0),E(Ae,null,Ze(r.promodoroTemplate,(l,u)=>(O(),E("div",{class:"workflow-item",key:`template-item-${u}`,onClick:f=>i.removeItem(u)},[x(N(r.modes[l]?r.modes[l].name:l)+" ",1),Wi],8,Ri))),128))]),zi,c("div",qi,[(O(!0),E(Ae,null,Ze(r.modes,(l,u)=>(O(),E("div",{class:"workflow-item",key:u,onClick:f=>i.addWorkflowItem(u)},[x(N(l.name)+" ",1),ji],8,Pi))),128))]),Bi,Yi,Ji,c("div",Gi,[c("div",Ki,[Qi,ie(c("input",{type:"number",min:"1",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=l=>r.modes.session.minutes=l)},null,512),[[we,r.modes.session.minutes]])]),c("div",Xi,[ea,ie(c("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":e[1]||(e[1]=l=>r.modes.break.minutes=l)},null,512),[[we,r.modes.break.minutes]])]),c("div",ta,[sa,ie(c("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":e[2]||(e[2]=l=>r.modes.longBreak.minutes=l)},null,512),[[we,r.modes.longBreak.minutes]])])]),P(a,{onClick:ke(s.playSound,["prevent"])},{default:C(()=>[na]),_:1},8,["onClick"])],32)]),footer:C(()=>[P(a,{onClick:e[4]||(e[4]=l=>s.$emit("cancel"))},{default:C(()=>[ra]),_:1}),P(a,{onClick:e[5]||(e[5]=l=>i.save())},{default:C(()=>[ia]),_:1})]),_:1},8,["show"])}var oa=le(Li,[["render",aa]]);const la={minutes:0,seconds:10},ua={mixins:[nn],props:{tasks:{type:Array,default(){return[]}},tracker:{type:Object},timerColor:{type:String},allowPause:{type:Boolean,default:!1},isMini:{type:Boolean,default:!0}},components:{PromodoroConfigurationModal:oa},data(){return{time:la,startTime:null,startTimeStamp:null,expectedDuration:null,currentDuration:null,icon:"play_arrow",run:0,timer:"",round:0,isConfigurationOpen:!1,promodoroTemplate:[],modeSelected:"session",task:[],trackerLocal:null,isMiniLocal:!0}},mounted(){this.init()},beforeDestroy(){this.reset(),this.$parent.$emit("session::stopped")},watch:{trackerLocal(){this.$emit("update:tracker",this.trackerLocal)},isMini(){this.isMiniLocal=this.isMini},isMiniLocal(){this.$emit("update:is-mini",this.isMiniLocal)},promodoroColor(){this.$emit("update:timerColor",this.promodoroColor)},formattedTime:{deep:!0,handler(s){this.tracker&&this.$set(this.tracker,"duration",this.tracker.getDuration());const e=this.run?`(${s}) Daily`:"Daily";document.getElementsByTagName("title")[0].text=e;let[t,n]=s.split(":");t=Number(t),n=Number(n),this.time.minutes=t>=0?t:0,this.time.seconds=n>=0?n:0}}},computed:{message(){switch(this.run){case 0:return"start";case 1:return this.allowPause?"pause":"stop";case 2:return"resume"}},promodoroColor(){return this.modeSelected&&this.modes[this.modeSelected].color?this.modes[this.modeSelected].color:"red"},rawTime(){let s=0;const e=this.expectedDuration||p.fromMillis(0);return this.startTime&&(s=p.fromMillis(this.currentDuration)),s?e.minus(s):e},title(){return this.isMiniLocal?this.formattedTime:"Promodoro"},formattedTime(){return this.rawTime.toFormat("mm:ss")}},mounted(){this.init()},methods:{toggleViewMode(){this.isMiniLocal=!this.isMiniLocal},play(){switch(this.stopSound(),this.run){case 0:this.initTimer();break;case 1:this.stop();break;case 2:this.initTimer("resume");break}},reset(){this.stop(),this.run=0,this.round=0,this.time={minutes:this.modes.session.minutes,seconds:this.modes.session.seconds},this.updateExpectedDuration(),this.modeSelected="session"},stop(s){clearInterval(this.timer),this.stopTracker(s),this.currentDuration=0,this.run=this.allowPause?2:0,this.icon="play_arrow",this.allowPause||this.setMode(this.modeSelected)},stopTracker(s){this.trackerLocal&&(this.trackerLocal.stopTimer(s),this.$set(this.tracker,"duration",this.tracker.getDuration()),this.$emit("stopped"))},endPromodoro(s){this.stop(s),MessageBox.confirm(`The time of the ${this.modeSelected} has finished`).then(()=>{this.findNextMode(),this.run=0,this.modeSelected!="session"&&this.play()})},initTimer(s){this.run=1,this.icon=this.allowPause?"pause":"stop",s||(this.time.minutes=this.modes[this.modeSelected].minutes),this.updateExpectedDuration(),this.modeSelected=="session"&&this.task.id?(this.trackerLocal=new sn({description:this.task.title,item_id:this.task.id,type:"promodoro",target_duration:this.expectedDuration}),this.startTimeStamp=this.trackerLocal.startTimer(),this.startTime=this.startTimeStamp.getTime(),console.log(this.startTimeStamp)):this.startTime=Date.now(),this.timer=setInterval(()=>{this.countDown()},100)},countDown(){this.currentDuration=Date.now()-this.startTime,this.checkTime()},updateExpectedDuration(){this.expectedDuration=p.fromISO(`PT${this.time.minutes}M${this.time.seconds}S`)},checkTime(){this.time.seconds==0&&this.time.minutes==0&&(this.playSound(),this.endPromodoro(new Date))},setTask(s){(!this.task||this.task.id!=s.id)&&this.reset(),this.task=s,this.play()},setMode(s){this.modeSelected=s,this.time.minutes=this.modes[s].minutes,this.time.seconds=this.modes[s].seconds,this.currentDuration=0,this.updateExpectedDuration()},findNextMode(){const s=this.promodoroTemplate.length-1==this.round;this.round=s?0:this.round+1;const e=this.promodoroTemplate[this.round];this.setMode(e)},showNotification(){const s=localStorage.getItem("permission");Notification&&s==="granted"?setTimeout(()=>{new Notification("Expired")},5e3):s!=="denied"&&Notification.requestPermission().then(e=>{localStorage.setItem("permission",e),new Notification("Expired",{body:"Time has expired"})})},toggleConfiguration(s){this.isConfigurationOpen&&this.init(s),this.isConfigurationOpen=!this.isConfigurationOpen}}},Ht=s=>(ys("data-v-16b45017"),s=s(),gs(),s),ca={class:"material-icons"},da={class:"flex"},ma=Ht(()=>c("i",{class:"fa fa-forward"},null,-1)),ha=[ma],fa=Ht(()=>c("i",{class:"fa fa-cog"},null,-1)),ya=[fa],ga=Ht(()=>c("i",{class:"fa fa-chevron-down"},null,-1)),pa=[ga],wa={key:0,class:"mb-4 text-white uppercase"},Ta={class:"time"},ka={class:"note"},va={class:"material-icons"},Sa={key:2,class:"promodoro__footer"},Oa={class:"w-full"};function ba(s,e,t,n,r,i){const a=W("multiselect"),o=W("promodoro-configuration-modal");return O(),E("div",{class:Le(["promodoro-app",{mini:r.isMiniLocal}])},[c("header",{class:Le(["flex items-center justify-between w-full py-2 font-bold text-white",`bg-${i.promodoroColor}-400`])},[c("button",{onClick:e[0]||(e[0]=l=>i.play()),class:"ml-2"},[c("i",ca,N(r.icon),1)]),c("span",null,N(i.title),1),c("div",da,[c("button",{onClick:e[1]||(e[1]=l=>i.findNextMode()),class:"ml-2",title:"Next session"},ha),c("button",{onClick:e[2]||(e[2]=(...l)=>i.toggleConfiguration&&i.toggleConfiguration(...l)),class:"ml-2",title:"Promodoro configuration"},ya),c("button",{onClick:e[3]||(e[3]=l=>i.toggleViewMode()),class:"ml-2",title:"Promodoro configuration"},pa)])],2),r.isMiniLocal?(O(),E("p",wa,[c("span",null,N(s.modes[r.modeSelected].name),1)])):(O(),E("div",{key:1,class:Le(["clock",{rest:r.round,ticking:r.run==1}])},[c("time",Ta,N(i.formattedTime),1),c("span",ka,"click here to "+N(i.message),1),c("span",null,N(s.modes[r.modeSelected].name),1),c("div",{class:"inner-controls",onClick:e[4]||(e[4]=(...l)=>i.play&&i.play(...l))},[c("i",va,N(r.icon),1)])],2)),r.isMiniLocal?pe("",!0):(O(),E("div",Sa,[c("div",Oa,[P(a,{modelValue:r.task,"onUpdate:modelValue":e[5]||(e[5]=l=>r.task=l),label:"title","track-by":"id",placeholder:"Select a task","show-labels":!1,options:t.tasks,class:"w-full"},null,8,["modelValue","options"])])])),P(o,{settings:s.settings,"is-open":r.isConfigurationOpen,onCancel:i.toggleConfiguration,onSaved:i.toggleConfiguration},null,8,["settings","is-open","onCancel","onSaved"])],2)}var Ba=le(ua,[["render",ba],["__scopeId","data-v-16b45017"]]);const Ea={components:{DialogModal:ps,PrimaryButton:ws},props:{isOpen:{type:Boolean},recordData:{type:Object}},data(){return{formData:{}}},watch:{recordData(){this.formData=this.recordData}},methods:{save(){const s=this.formData.id?"PUT":"POST",e=this.formData.id?`/${this.formData.id}`:"";axios({url:`/links${e}`,method:s,data:this.formData}).then(()=>{this.$emit("saved")})}}},_a=x(" Add Link "),Ma=c("label",{for:"title"}," Title ",-1),Da={class:"pt-2"},Ia=c("label",{for:"url"}," Url ",-1),Na=x(" Cancel "),xa=x(" Save Link ");function Ca(s,e,t,n,r,i){const a=W("primary-button"),o=W("dialog-modal");return O(),Ve(o,{show:t.isOpen,onClose:e[5]||(e[5]=l=>s.$emit("closed"))},{title:C(()=>[_a]),content:C(()=>[c("form",{action:"",onSubmit:e[2]||(e[2]=ke((...l)=>i.save&&i.save(...l),["prevent"]))},[c("div",null,[Ma,ie(c("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=l=>r.formData.title=l)},null,512),[[we,r.formData.title]])]),c("div",Da,[Ia,ie(c("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=l=>r.formData.url=l)},null,512),[[we,r.formData.url]])])],32)]),footer:C(()=>[P(a,{onClick:e[3]||(e[3]=l=>s.$emit("cancel"))},{default:C(()=>[Na]),_:1}),P(a,{onClick:e[4]||(e[4]=l=>i.save())},{default:C(()=>[xa]),_:1})]),_:1},8,["show"])}var Ya=le(Ea,[["render",Ca]]);const La={props:{links:{type:Array,default(){return[]}}},methods:{deleteLink(s){this.showConfirm({title:`Delete ${s.title} link`,content:"Are you sure you want to delete this link?",confirmationButtonText:"Yes, delete",confirm:()=>{axios.delete(`links/${s.id}`).then(()=>{this.$inertia.reload({only:["links"],preserveState:!0})})}})}}},Fa=["href","title"],$a={class:"tooltip"},Va=["onClick"],Aa=["onClick"];function Za(s,e,t,n,r,i){return O(),E("div",null,[(O(!0),E(Ae,null,Ze(t.links,a=>(O(),E("div",{class:"block link",key:a.id},[c("a",{class:"link__caller",href:a.url,target:"_blank",title:a.title},N(a.title),9,Fa),c("div",$a,[c("button",{class:"link__buttons edit hover:text-green-400 font-bold",onClick:ke(o=>s.$emit("edit",a),["prevent","stop"])}," Edit",8,Va),c("button",{class:"link__buttons delete hover:text-red-400 font-bold",onClick:ke(o=>i.deleteLink(a),["prevent","stop"])}," Delete",8,Aa)])]))),128))])}var Ja=le(La,[["render",Za]]);export{ja as B,Ja as L,Ba as P,Ya as a,Pa as s};
