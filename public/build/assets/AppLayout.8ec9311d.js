import{o as r,d as u,b as t,h as S,i as T,v as O,j as c,w as l,n as w,T as R,k as _,a as g,g as h,t as k,l as M,m as I,q as x,s as G,e as A,F as $,x as K,p as P,f as J,y as Y,c as j,u as N,z as Z}from"./app.3ce0088d.js";import{_ as y}from"./plugin-vue_export-helper.21dcd24c.js";import{J as Q}from"./ConfirmationModal.60162698.js";import{J as X}from"./DangerButton.6c27673a.js";import{J as ee}from"./SecondaryButton.9fb1985c.js";import{J as U}from"./DialogModal.7ab1b676.js";import{J as q}from"./Button.2e6d22da.js";var te={name:"accounting",label:"Admin",html:"<span>IC </span><span>Admin</span>",headerMenu:[{label:"Help",to:"/help",icon:"question"},{label:"Info",to:"/about",icon:"info"},{label:"Settings",to:"/user/profile",icon:"cogs",side:[{label:"User",to:"/user/profile",icon:"user"},{label:"Api Tokens",to:"/user/api-tokens",icon:"user"},{label:"Billing",to:"/user/billing",icon:"user"},{label:"Plans",to:"/admin/plans",icon:"money"}]}],menu:[{label:"Dashboard",to:"/",icon:"home"},{label:"Planner",icon:"calendar-alt",to:"/planner"},{label:"Tracker",icon:"clock",to:"/tracker"},{label:"Integrations",icon:"robot",to:"/integrations"},{divider:""},{label:"Reports",icon:"chart-line",to:"/reports"}]};function oe(o){return ne[o]}const ne={daily:te},se={props:{align:{default:"right"},width:{default:"48"},contentClasses:{default:()=>["py-1","bg-white"]}},data(){return{open:!1}},created(){const o=e=>{this.open&&e.keyCode===27&&(this.open=!1)};this.$once("hook:destroyed",()=>{document.removeEventListener("keydown",o)}),document.addEventListener("keydown",o)},computed:{widthClass(){return{48:"w-48"}[this.width.toString()]},alignmentClasses(){return this.align=="left"?"origin-top-left left-0":this.align=="right"?"origin-top-right right-0":"origin-top"}}},ae={class:"relative"};function re(o,e,n,f,a,s){return r(),u("div",ae,[t("div",{onClick:e[0]||(e[0]=p=>a.open=!a.open)},[S(o.$slots,"trigger")]),T(t("div",{class:"fixed inset-0 z-40",onClick:e[1]||(e[1]=p=>a.open=!1)},null,512),[[O,a.open]]),c(R,{"enter-active-class":"transition ease-out duration-200","enter-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:l(()=>[T(t("div",{class:w(["absolute z-50 mt-2 rounded-md shadow-lg",[s.widthClass,s.alignmentClasses]]),style:{display:"none"},onClick:e[2]||(e[2]=p=>a.open=!1)},[t("div",{class:w(["rounded-md shadow-sm",n.contentClasses])},[S(o.$slots,"content")],2)],2),[[O,a.open]])]),_:3})])}var L=y(se,[["render",re]]);const ie={props:["href","as"]},le={key:0,type:"submit",class:"block w-full px-4 py-2 text-sm leading-5 text-gray-700 text-left hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"};function de(o,e,n,f,a,s){const p=_("inertia-link");return r(),u("div",null,[n.as=="button"?(r(),u("button",le,[S(o.$slots,"default")])):(r(),g(p,{key:1,href:n.href,class:"block px-4 py-2 text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out"},{default:l(()=>[S(o.$slots,"default")]),_:3},8,["href"]))])}var B=y(ie,[["render",de]]);const ce={props:["active","href","as"],computed:{classes(){return this.active?"block pl-3 pr-4 py-2 border-l-4 border-indigo-400 text-base font-medium text-indigo-700 bg-indigo-50 focus:outline-none focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700 transition duration-150 ease-in-out":"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out"}}};function ue(o,e,n,f,a,s){const p=_("inertia-link");return r(),u("div",null,[n.as=="button"?(r(),u("button",{key:0,class:w([s.classes,"w-full text-left"])},[S(o.$slots,"default")],2)):(r(),g(p,{key:1,href:n.href,class:w(s.classes)},{default:l(()=>[S(o.$slots,"default")]),_:3},8,["href","class"]))])}var D=y(ce,[["render",ue]]);const pe={components:{JetConfirmationModal:Q,JetDangerButton:X,JetSecondaryButton:ee},props:{showModal:{type:Boolean},modalData:{type:Object,default(){return{}}}},data(){return{title:"Are you sure?",content:`Are you sure you want to delete this team? Once a team is
            deleted, all of its resources and data will be permanently
            deleted.`,data:null,cancelButtonText:"Nevermind",confirmationButtonText:"Delete Item"}},computed:{modal(){var o,e,n,f,a;return{title:(o=this.modalData.title)!=null?o:this.tile,content:(e=this.modalData.content)!=null?e:this.content,data:(n=this.modalData.data)!=null?n:this.data,cancelButtonText:(f=this.modalData.cancelButtonText)!=null?f:this.cancelButtonText,confirmationButtonText:(a=this.modalData.confirmationButtonText)!=null?a:this.confirmationButtonText}}},methods:{sendConfirm(){this.$emit("confirm",this.data)}}};function me(o,e,n,f,a,s){const p=_("jet-secondary-button"),v=_("jet-danger-button"),i=_("jet-confirmation-modal");return r(),g(i,{show:n.showModal,onClose:e[2]||(e[2]=m=>o.$emit("close"))},{title:l(()=>[h(k(s.modal.title),1)]),content:l(()=>[t("div",null,k(s.modal.content),1)]),footer:l(()=>[c(p,{onClick:e[0]||(e[0]=m=>o.$emit("close"))},{default:l(()=>[h(k(s.modal.cancelButtonText),1)]),_:1}),c(v,{class:"ml-2",onClick:e[1]||(e[1]=m=>s.sendConfirm())},{default:l(()=>[h(k(s.modal.confirmationButtonText),1)]),_:1})]),_:1},8,["show"])}var _e=y(pe,[["render",me]]);const fe={props:{board:{type:Object,required:!0},isActive:{type:Boolean}}},he={class:"board-item__avatar"},ve={class:"w-full block"},be=t("div",{class:"hover:bg-gray-200 w-5 rounded-full py-2 text-center"},[t("i",{class:"fa fa-ellipsis-v"})],-1),ge=h("Delete");function ye(o,e,n,f,a,s){const p=_("el-dropdown-item"),v=_("el-dropdown-menu"),i=_("el-dropdown"),m=_("inertia-link");return r(),g(m,{class:w(["board-item flex py-1 items-center px-5",{active:n.isActive}]),href:`/boards/${n.board.id}`,key:n.board.id},{default:l(()=>[t("span",he,k(n.board.name.slice(0,1)),1),t("span",ve,k(n.board.name),1),c(i,{trigger:"click",onCommand:e[0]||(e[0]=d=>o.$emit("option",n.board,d)),onClick:e[1]||(e[1]=M(()=>{},["prevent"]))},{default:l(()=>[be,c(v,{slot:"dropdown"},{default:l(()=>[c(p,{command:"delete",icon:"fa fa-trash"},{default:l(()=>[ge]),_:1})]),_:1})]),_:1})]),_:1},8,["class","href"])}var we=y(fe,[["render",ye]]);const ke={props:{section:{type:Object,required:!0},isActive:{type:Boolean}}},$e={class:"board-item__avatar"},xe={class:"w-full block"};function De(o,e,n,f,a,s){const p=_("inertia-link");return r(),g(p,{class:w(["board-item flex py-1 items-center px-5",{active:n.isActive}]),href:n.section.to},{default:l(()=>[t("span",$e,[t("i",{class:w(`fa fa-${n.section.icon}`)},null,2)]),t("span",xe,k(n.section.label),1)]),_:1},8,["class","href"])}var Ce=y(ke,[["render",De],["__scopeId","data-v-44d0f1ca"]]);const Be={components:{DialogModal:U,PrimaryButton:q},props:{isOpen:{type:Boolean},recordData:{type:Object}},inject:["boardTypes","boardTemplates"],data(){return{formData:{}}},watch:{recordData(){this.formData=this.recordData}},computed:{isBoardType(){return this.formData.BoardType&&this.formData.BoardType.name=="board"}},methods:{save(){var e,n,f,a,s;this.formData.id,this.formData.id&&`${this.formData.id}`;const o={name:this.formData.name,board_type_id:(n=(e=this.formData)==null?void 0:e.BoardType)==null?void 0:n.id,board_template_id:(a=(f=this.formData)==null?void 0:f.Template)==null?void 0:a.id,color:(s=this.formData)==null?void 0:s.color};o.name&&axios({url:"/api/boards",method:"post",data:o}).then(()=>{this.$emit("saved")})}}},Se=h(" Add Board "),Te=t("label",{for:"title"}," Name ",-1),Ae={class:"pt-2"},Me=t("label",{for:"url"}," Type ",-1),Ie={key:0,class:"pt-2"},je=t("label",{for:"url"}," Template ",-1),We={class:"pt-2"},Ne=t("label",{for:"url"}," Color ",-1),Oe=h(" Cancel "),Le=h(" Save Board ");function Fe(o,e,n,f,a,s){const p=_("multiselect"),v=_("primary-button"),i=_("dialog-modal");return r(),g(i,{show:n.isOpen,onClose:e[7]||(e[7]=m=>o.$emit("closed"))},{title:l(()=>[Se]),content:l(()=>[t("form",{action:"",onSubmit:e[4]||(e[4]=M((...m)=>s.save&&s.save(...m),["prevent"]))},[t("div",null,[Te,T(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=m=>a.formData.name=m)},null,512),[[I,a.formData.name]])]),t("div",Ae,[Me,c(p,{modelValue:a.formData.BoardType,"onUpdate:modelValue":e[1]||(e[1]=m=>a.formData.BoardType=m),ref:"input","show-labels":!1,label:"title",options:s.boardTypes,class:"w-full"},null,8,["modelValue","options"])]),s.isBoardType?(r(),u("div",Ie,[je,c(p,{modelValue:a.formData.Template,"onUpdate:modelValue":e[2]||(e[2]=m=>a.formData.Template=m),ref:"input","show-labels":!1,label:"name",options:s.boardTemplates,class:"w-full"},null,8,["modelValue","options"])])):x("",!0),t("div",We,[Ne,T(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=m=>a.formData.color=m)},null,512),[[I,a.formData.color]])])],32)]),footer:l(()=>[c(v,{onClick:e[5]||(e[5]=m=>o.$emit("cancel"))},{default:l(()=>[Oe]),_:1}),c(v,{onClick:e[6]||(e[6]=m=>s.save())},{default:l(()=>[Le]),_:1})]),_:1},8,["show"])}var Ve=y(Be,[["render",Fe]]);const Pe={props:{value:{type:String,required:!0}},methods:{emitInput(o){this.$emit("input",o.target.value)}}},Je={class:"flex pl-5 overflow-hidden text-gray-500 rounded"},Ue=t("button",{class:"p-2 text-white bg-purple-400"}," Search ",-1);function qe(o,e,n,f,a,s){return r(),u("div",Je,[T(t("input",{type:"search",class:"w-full p-2 focus:outline-none","onUpdate:modelValue":e[0]||(e[0]=p=>n.value=p),onInput:e[1]||(e[1]=(...p)=>s.emitInput&&s.emitInput(...p)),placeholder:"Filter boards ..."},null,544),[[I,n.value]]),Ue])}var ze=y(Pe,[["render",qe]]);const V={sm:"w-6 h-6",md:"w-20 h-20",lg:"w-32 h-32"},Ee={props:{name:{type:String},color:{type:String,default:"#C084FE"},size:{type:String,validator(o){return Object.keys(V).includes(o)},default:"md"}},computed:{workspaceIcon(){return this.icon||this.name&&this.name[0]},workspaceClass(){return V[this.size]}}},He={class:"iconify","data-icon":""};function Re(o,e,n,f,a,s){return r(),u("div",{class:w(["flex items-center justify-center mx-auto rounded-md",s.workspaceClass]),style:G({backgroundColor:n.color})},[t("span",He,k(s.workspaceIcon),1)],6)}var F=y(Ee,[["render",Re]]);const Ge={components:{DialogModal:U,JetButton:q,WorkspaceIcon:F},props:{isOpen:{type:Boolean},recordData:{type:Object}},inject:["boardTypes","boardTemplates"],data(){return{formData:{}}},watch:{recordData(){this.formData=this.recordData}},computed:{isBoardType(){return this.formData.BoardType&&this.formData.BoardType.name=="board"}},methods:{save(){var e,n,f;this.formData.id,this.formData.id&&`${this.formData.id}`;const o={name:this.formData.name,is_public:(e=this.formData)==null?void 0:e.is_public,color:(n=this.formData)==null?void 0:n.color,icon:(f=this.formData)==null?void 0:f.icon};o.name&&axios({url:"/api/workspaces",method:"post",data:o}).then(()=>{this.$emit("saved")})}}},Ke=h(" Create Workspace "),Ye=t("label",{for:"title"}," Workspace Name ",-1),Ze=h(" Cancel "),Qe=h(" Create Workspace ");function Xe(o,e,n,f,a,s){const p=_("workspace-icon"),v=_("jet-button"),i=_("dialog-modal");return r(),g(i,{show:n.isOpen,onClose:e[4]||(e[4]=m=>o.$emit("closed"))},{title:l(()=>[Ke]),content:l(()=>[t("form",{action:"",onSubmit:e[1]||(e[1]=M((...m)=>s.save&&s.save(...m),["prevent"]))},[t("div",null,[c(p,{size:"md",name:a.formData.name,icon:a.formData.icon},null,8,["name","icon"])]),t("div",null,[Ye,T(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=m=>a.formData.name=m)},null,512),[[I,a.formData.name]])])],32)]),footer:l(()=>[c(v,{"button-type":"secondary",onClick:e[2]||(e[2]=m=>o.$emit("cancel"))},{default:l(()=>[Ze]),_:1}),c(v,{onClick:e[3]||(e[3]=m=>s.save())},{default:l(()=>[Qe]),_:1})]),_:1},8,["show"])}var et=y(Ge,[["render",Xe]]);const tt={name:"IonEllipsisHorizontal"},ot={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1em",height:"1em",viewBox:"0 0 512 512"},nt=t("circle",{cx:"256",cy:"256",r:"48",fill:"currentColor"},null,-1),st=t("circle",{cx:"416",cy:"256",r:"48",fill:"currentColor"},null,-1),at=t("circle",{cx:"96",cy:"256",r:"48",fill:"currentColor"},null,-1),rt=[nt,st,at];function it(o,e,n,f,a,s){return r(),u("svg",ot,rt)}var lt=y(tt,[["render",it]]);const dt={name:"DropdownList",props:{actions:{type:Array,default(){return[]}}},components:{Dropdown:L,DropdownLink:B},methods:{isDivider(o){return console.log(o),typeof o=="object"}}};function ct(o,e,n,f,a,s){const p=_("DropdownLink"),v=_("Dropdown");return r(),g(v,{align:"left",width:"48"},{trigger:l(()=>[S(o.$slots,"trigger")]),content:l(()=>[t("div",null,[(r(!0),u($,null,A(n.actions,(i,m)=>(r(),u($,null,[s.isDivider(i)?i.href?(r(),g(p,{href:i.href,key:`action-${m}`},{default:l(()=>[h(k(i.label),1)]),_:2},1032,["href"])):(r(),u("button",{key:`button-action-${m}`,class:"w-full px-5 py-1 left"},k(i.label),1)):(r(),u("div",{class:"border-t border-gray-100",key:`divider-action-${m}`}))],64))),256))])]),_:3})}var ut=y(dt,[["render",ct]]);const pt={components:{WorkspaceIcon:F},props:{option:{type:Object,required:!0}}},mt={class:"flex items-center justify-between text-sm font-bold text-ellipsis"},_t={class:"w-full pl-1 font-bold"};function ft(o,e,n,f,a,s){const p=_("WorkspaceIcon");return r(),u("div",mt,[c(p,{name:n.option.name,size:"sm",class:"text-white"},null,8,["name"]),t("div",_t,k(n.option.name),1)])}var ht=y(pt,[["render",ft]]);const vt={props:{currentWorkspace:{type:Object,required:!0},workspaces:{type:Array,default(){return[]}}},data(){return{isWorkspaceFormOpen:!1,workspaceOptions:[{name:"rename",label:"Rename Workspace"},{name:"change_icon",label:"Change Icon"},{name:"manage",label:"Manage Workspace"},{name:"delete",label:"Delete Workspace"},"",{name:"add",label:"Add Workspace"},{name:"browse",label:"Browse all workspace"},"",{name:"collapse_folders",label:"Collapse Folders"}]}},computed:{workspaceList(){return[...this.workspaces]}},methods:{addWorkspace(){this.isWorkspaceFormOpen=!1,this.$inertia.reload({preserveScroll:!0,only:["user"]})},switchToWorkspace(o){this.$inertia.put("/current-workspace",{workspace_id:o.id},{preserveState:!1})}},components:{WorkspaceForm:et,IconEllipsis:lt,DropdownLink:B,Dropdown:L,DropdownList:ut,WorkspaceIcon:F,WorkspaceListItem:ht}},bt={class:"px-5"},gt={class:"flex justify-between"},yt=t("h4",{class:"text-sm font-bold"},"Workspace",-1),wt={class:"flex text-sm transition duration-150 ease-in-out border-2 border-transparent rounded-md rounded-full hover:bg-gray-300 focus:outline-none focus:border-gray-300"},kt={class:"mt-2"},$t={class:"flex justify-between text-xs border-t border-gray-400"},xt=t("button",{role:"button",class:"px-2 py-1 rounded-md cursor-pointer hover:bg-gray-200"},"Workspaces",-1);function Dt(o,e,n,f,a,s){const p=_("IconEllipsis"),v=_("DropdownList"),i=_("WorkspaceListItem"),m=_("multiselect"),d=_("WorkspaceForm");return r(),u("div",bt,[t("div",gt,[yt,t("div",null,[c(v,{align:"right",width:"48",actions:a.workspaceOptions},{trigger:l(()=>[t("button",wt,[c(p)])]),_:1},8,["actions"])])]),t("div",kt,[c(m,{value:n.currentWorkspace,"show-labels":!1,label:"name",options:s.workspaceList,class:"w-full",onSelect:s.switchToWorkspace},{singleLabel:l(({option:b})=>[c(i,{option:b},null,8,["option"])]),option:l(({option:b})=>[c(i,{option:b},null,8,["option"])]),afterList:l(()=>[t("div",$t,[t("button",{role:"button",class:"px-2 py-1 rounded-md cursor-pointer hover:bg-gray-200",onClick:e[0]||(e[0]=b=>a.isWorkspaceFormOpen=!0)},"Add Workspace"),xt])]),_:1},8,["value","options","onSelect"]),c(d,{"is-open":a.isWorkspaceFormOpen,onSaved:s.addWorkspace,onCancel:e[1]||(e[1]=b=>a.isWorkspaceFormOpen=!1)},null,8,["is-open","onSaved"])])])}var Ct=y(vt,[["render",Dt]]);const Bt={props:{boards:{type:Array,default(){return[]}},headerMenu:{type:Array,default(){return[]}}},components:{BoardSideItem:we,BoardSideItemLink:Ce,BoardFormModal:Ve,SearchBar:ze,WorkspaceSelector:Ct},data(){return{boardName:"",showAdd:"",search:"",isBoardFormOpen:!1,boardData:null}},computed:{isHeaderMenu(){return this.headerMenu.find(e=>this.isPath(e.to,!0))},filteredBoards(){return this.boards.filter(o=>o.name.toLowerCase().includes(this.search.toLowerCase()))},sectionName(){return this.isHeaderMenu?this.isHeaderMenu.label:"My Boards"}},methods:{isPath(o="",e){const n=o.replace(window.location.origin,"");if(e){const f=n.split("/");return window.location.pathname.includes(f[1])}return n==window.location.pathname},openBoardForm(o={}){this.isBoardFormOpen=!0,this.boardData=o},addBoard(o){this.isBoardFormOpen=!1,this.$inertia.reload()},showAddForm(){this.showAdd=!0,this.$nextTick(()=>{this.$refs.input.focus()})},handleCommand(o,e){switch(e){case"delete":this.confirmDelete(o);break}},confirmDelete(o){this.showConfirm({title:`Delete "${o.name}" board`,content:"Are you sure you want to delete this board?",confirmationButtonText:"Yes, delete",confirm:()=>{this.deleteBoard(o.id)}})},deleteBoard(o){axios({url:`/api/boards/${o}`,method:"delete"}).then(()=>{const e=this.boards.findIndex(f=>f.id==o),n=e>=0?this.boards[e]:null;if(n&&this.isPath(n.link)){if(e!=0){const f=this.boards[e-1];return this.$inertia.visit(f.link)}return this.$inertia.visit("dashboard")}this.$inertia.reload()}).catch(e=>{console.log(e)})}}},St={class:"py-5 bg-white board-side"},Tt={key:1,class:"flex mx-5 mt-2 overflow-hidden text-gray-500 rounded"},At=t("i",{class:"fa fa-plus"},null,-1),Mt=[At],It={key:2,class:"flex mx-5 mt-2 overflow-hidden text-gray-500 rounded"};function jt(o,e,n,f,a,s){const p=_("WorkspaceSelector"),v=_("SearchBar"),i=_("board-side-item"),m=_("board-side-item-link"),d=_("board-form-modal");return r(),u("div",St,[c(p,{"current-workspace":o.$page.props.user.current_workspace,workspaces:o.$page.props.user.all_workspaces},null,8,["current-workspace","workspaces"]),s.isHeaderMenu?x("",!0):(r(),g(v,{key:0,modelValue:a.search,"onUpdate:modelValue":e[0]||(e[0]=b=>a.search=b),class:"mt-5"},null,8,["modelValue"])),t("div",{class:w(["mt-2",{"mt-12":s.isHeaderMenu}])},[s.isHeaderMenu?(r(!0),u($,{key:1},A(s.isHeaderMenu.side,(b,W)=>(r(),g(m,{section:b,"is-active":s.isPath(b.to),key:`${b.to}-${W}`},null,8,["section","is-active"]))),128)):(r(!0),u($,{key:0},A(s.filteredBoards,b=>(r(),g(i,{onOption:s.handleCommand,"is-active":s.isPath(b.link),board:b,key:b.link},null,8,["onOption","is-active","board"]))),128))],2),!a.showAdd&&!s.isHeaderMenu?(r(),u("div",Tt,[t("button",{class:"flex items-center justify-center w-full h-10 px-2 text-purple-400 border-2 border-purple-400 hover:bg-purple-400 hover:text-white",onClick:e[1]||(e[1]=b=>s.openBoardForm())},Mt)])):x("",!0),a.showAdd&&!s.isHeaderMenu?(r(),u("div",It,[T(t("input",{type:"text",class:"w-full p-2 form-control",placeholder:"Add board name","onUpdate:modelValue":e[2]||(e[2]=b=>a.boardName=b),ref:"input",onKeydown:e[3]||(e[3]=K(b=>s.addBoard(),["enter"])),onBlur:e[4]||(e[4]=b=>a.showAdd=!1)},null,544),[[I,a.boardName]]),t("button",{class:"p-2 text-white bg-purple-400",onClick:e[5]||(e[5]=b=>s.addBoard())}," Add ")])):x("",!0),c(d,{"record-data":a.boardData,"is-open":a.isBoardFormOpen,onSaved:s.addBoard,onCancel:e[6]||(e[6]=b=>a.isBoardFormOpen=!1)},null,8,["record-data","is-open","onSaved"])])}var Wt=y(Bt,[["render",jt]]);const Nt={props:{to:{type:String},icon:{type:String},label:{type:String},classes:{type:String,default:"nav-link"}},computed:{path(){return window.location.pathname}},methods:{isPath(o){const e=o.replace(window.location.origin,"");return o=="/"?["/","/dashboard"].includes(window.location.pathname):e==window.location.pathname}}},Ot={key:0,class:"divider"},Lt=t("div",{class:"divider__inner"},null,-1),Ft=[Lt];function Vt(o,e,n,f,a,s){const p=_("inertia-link"),v=_("el-tooltip");return n.label?(r(),g(v,{key:1,class:"item",effect:"dark",content:n.label,placement:"right"},{default:l(()=>[c(p,{class:w(["flex items-center px-2 py-1 side-item",{active:s.isPath(n.to)}]),href:n.to,title:n.label},{default:l(()=>[t("i",{class:w([`fa fa-${n.icon}`,"ic-icon"])},null,2)]),_:1},8,["class","href","title"])]),_:1},8,["content"])):(r(),u("div",Ot,Ft))}var z=y(Nt,[["render",Vt]]);const Pt={props:{icon:{type:String,required:!0},label:{type:String,required:!0},childs:{type:Array,default(){return[]}},value:{type:String,required:!0},trackId:{type:String,required:!0}},components:{AppSideItem:z},data(){return{active:!1}},computed:{arrowIcon(){return this.active?"chevron-down":"chevron-right"},isActive(){return this.trackId==this.value},hasActiveChild(){return!this.isActive&&this.childs.find(o=>o.to==this.$route.path)}},methods:{emitValue(){const o=this.value==this.trackId?"":this.trackId;this.$emit("input",o)}}},E=o=>(P("data-v-21f408e8"),o=o(),J(),o),Jt={class:"menu-item-group"},Ut={class:"content side-item"},qt=E(()=>t("i",{class:w("fa fa-icon")},null,-1)),zt=E(()=>t("span",{class:"indicator"},[t("i",{class:"fa fa-arrowIcon"})],-1)),Et={class:"child-container"};function Ht(o,e,n,f,a,s){const p=_("app-side-item"),v=_("el-collapse-transition");return r(),u("div",Jt,[t("div",{class:w(["menu-item-group__toggle btn",{active:s.isActive,current:!s.isActive&&s.hasActiveChild}]),onClick:e[0]||(e[0]=(...i)=>s.emitValue&&s.emitValue(...i))},[t("span",Ut,[qt,h(" "+k(n.label),1)]),zt],2),t("div",{class:w(["menu-item-group__childs",{"my-collapse":s.isActive,"custom-accordion":!0}])},[c(v,null,{default:l(()=>[T(t("div",Et,[(r(!0),u($,null,A(n.childs,i=>(r(),u($,null,[i.hide?x("",!0):(r(),g(p,{ref_for:!0,ref:`${n.label}-${i.label}`,key:`${n.label}-${i.label}`,icon:i.icon,label:i.label,to:i.to},null,8,["icon","label","to"]))],64))),256))],512),[[O,s.isActive]])]),_:1})],2)])}var Rt=y(Pt,[["render",Ht],["__scopeId","data-v-21f408e8"]]);const Gt={props:{sideTitle:String,menu:{type:Array,required:!0},headerMenu:{type:Array}},components:{AppSideItem:z,AppSideItemGroup:Rt},data(){return{activeGroup:""}}},Kt=o=>(P("data-v-46976c75"),o=o(),J(),o),Yt={class:"app-side"},Zt=Kt(()=>t("div",{class:"app-side__section-title"},[t("span",{class:"side-logo"},"D"),t("span",{class:"dot"},".")],-1)),Qt={class:"nav flex-column nav-pills",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"},Xt={class:"nav-container"},eo={key:0,class:"nav flex-column nav-pills",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical"};function to(o,e,n,f,a,s){const p=_("app-side-item"),v=_("app-side-item-group");return r(),u("div",Yt,[Zt,t("div",Qt,[(r(!0),u($,null,A(n.menu,i=>(r(),u($,null,[i.childs?(r(),g(v,{modelValue:a.activeGroup,"onUpdate:modelValue":e[0]||(e[0]=m=>a.activeGroup=m),key:`${i.label}-group`,"track-id":i.label,icon:i.icon,label:i.label,childs:i.childs},null,8,["modelValue","track-id","icon","label","childs"])):(r(),g(p,{icon:i.icon,label:i.label,to:i.to,key:i.label},null,8,["icon","label","to"]))],64))),256))]),t("div",Xt,[n.headerMenu?(r(),u("div",eo,[(r(!0),u($,null,A(n.headerMenu,i=>(r(),u($,null,[i.childs?(r(),g(v,{"track-id":i.label,icon:i.icon,label:i.label,modelValue:a.activeGroup,"onUpdate:modelValue":e[1]||(e[1]=m=>a.activeGroup=m),childs:i.childs,key:i.label},null,8,["track-id","icon","label","modelValue","childs"])):(r(),g(p,{icon:i.icon,label:i.label,to:i.to,key:i.label},null,8,["icon","label","to"]))],64))),256))])):x("",!0)])])}var oo=y(Gt,[["render",to],["__scopeId","data-v-46976c75"]]);const no={class:"min-h-screen home-container ic-scroller"},so={class:"app-header"},ao={class:"px-4 mx-auto max-w-8xl sm:px-6 lg:px-8"},ro={class:"flex justify-between h-16"},io=t("div",{class:"flex"},[t("div",{class:"flex items-center flex-shrink-0"},[t("a",{href:"/dashboard"}," Daily ")])],-1),lo={class:"hidden sm:flex sm:items-center sm:ml-6"},co={class:"relative ml-3"},uo={class:"flex text-sm transition duration-150 ease-in-out border-2 border-transparent rounded-full focus:outline-none focus:border-gray-300"},po=["src"],mo=t("div",{class:"block px-4 py-2 text-xs text-gray-400"}," Manage Account ",-1),_o=h(" Profile "),fo=h(" API Tokens "),ho=t("div",{class:"border-t border-gray-100"},null,-1),vo=t("div",{class:"block px-4 py-2 text-xs text-gray-400"},"Manage Team",-1),bo=h(" Team Settings "),go=h(" Create New Team "),yo=t("div",{class:"border-t border-gray-100"},null,-1),wo=t("div",{class:"block px-4 py-2 text-xs text-gray-400"}," Switch Teams ",-1),ko=["onSubmit"],$o={class:"flex items-center"},xo={key:0,class:"w-5 h-5 mr-2 text-green-400",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24"},Do=t("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Co=[Do],Bo=t("div",{class:"border-t border-gray-100"},null,-1),So=["onSubmit"],To=h(" Logout "),Ao={class:"flex items-center -mr-2 sm:hidden"},Mo={class:"w-6 h-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},Io={class:"pt-2 pb-3 space-y-1"},jo=h(" Dashboard "),Wo=h(" Planner "),No=h(" Integrations "),Oo=h(" Time Tracker "),Lo={class:"pt-4 pb-1 border-t border-gray-200"},Fo={class:"flex items-center px-4"},Vo={class:"flex-shrink-0"},Po=["src"],Jo={class:"ml-3"},Uo={class:"text-base font-medium text-gray-800"},qo={class:"text-sm font-medium text-gray-500"},zo={class:"mt-3 space-y-1"},Eo=h(" Profile "),Ho=h(" API Tokens "),Ro=["onSubmit"],Go=h(" Logout "),Ko=t("div",{class:"border-t border-gray-200"},null,-1),Yo=t("div",{class:"block px-4 py-2 text-xs text-gray-400"},"Manage Team",-1),Zo=h(" Team Settings "),Qo=h(" Create New Team "),Xo=t("div",{class:"border-t border-gray-200"},null,-1),en=t("div",{class:"block px-4 py-2 text-xs text-gray-400"},"Switch Teams",-1),tn=["onSubmit"],on={class:"flex items-center"},nn={key:0,class:"w-5 h-5 mr-2 text-green-400",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24"},sn=t("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),an=[sn],rn={class:"app-content"},ln={class:"appside-container"},dn={class:"app-content__inner ic-scroller"},vn={__name:"AppLayout",props:{boards:{type:Array,default(){return[]}}},setup(o){const e=reactive({showingNavigationDropdown:!1,showConfirmationModal:!1,confirmationData:{},moduleName:"daily",isMenuExpanded:!1});Y(()=>{});const n=()=>{e.showConfirmationModal=!1,e.confirmationData={}},f=()=>{e.confirmationData.confirm&&e.confirmationData.confirm(),n()},a=()=>{e.confirmationData.cancel&&e.confirmationData.cancel(),n()},s=d=>{Z.Inertia.put("/current-team",{team_id:d.id},{preserveState:!1})},p=()=>{axios.post("/logout").then(d=>{window.location="/"})},v=j(()=>oe(e.moduleName)),i=j(()=>v.value.menu),m=j(()=>v.value.headerMenu);return j(()=>window.location.pathname),(d,b)=>{const W=_("portal-target");return r(),u("div",null,[t("div",no,[t("nav",so,[t("div",ao,[t("div",ro,[io,t("div",lo,[t("div",co,[c(L,{align:"right",width:"48"},{trigger:l(()=>[t("button",uo,[t("img",{class:"w-8 h-8 rounded-full",src:d.$page.props.user.profile_photo_url,alt:""},null,8,po)])]),content:l(()=>[mo,c(B,{href:"/user/profile"},{default:l(()=>[_o]),_:1}),d.$page.props.jetstream.hasApiFeatures?(r(),g(B,{key:0,href:"/user/api-tokens"},{default:l(()=>[fo]),_:1})):x("",!0),ho,d.$page.props.jetstream.hasTeamFeatures?(r(),u($,{key:1},[vo,c(B,{href:"/teams/"+d.$page.props.user.current_team.id},{default:l(()=>[bo]),_:1},8,["href"]),d.$page.props.jetstream.canCreateTeams?(r(),g(B,{key:0,href:"/teams/create"},{default:l(()=>[go]),_:1})):x("",!0),yo,wo,(r(!0),u($,null,A(d.$page.props.user.all_teams,C=>(r(),u("form",{key:C.id,onSubmit:M(H=>s(C),["prevent"])},[c(B,{as:"button"},{default:l(()=>[t("div",$o,[C.id==d.$page.props.user.current_team_id?(r(),u("svg",xo,Co)):x("",!0),t("div",null,k(C.name),1)])]),_:2},1024)],40,ko))),128)),Bo],64)):x("",!0),t("form",{onSubmit:M(p,["prevent"])},[c(B,{as:"button"},{default:l(()=>[To]),_:1})],40,So)]),_:1})])]),t("div",Ao,[t("button",{onClick:b[0]||(b[0]=C=>d.showingNavigationDropdown=!d.showingNavigationDropdown),class:"inline-flex items-center justify-center p-2 text-gray-400 transition duration-150 ease-in-out rounded-md hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500"},[(r(),u("svg",Mo,[t("path",{class:w({hidden:d.showingNavigationDropdown,"inline-flex":!d.showingNavigationDropdown}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),t("path",{class:w({hidden:!d.showingNavigationDropdown,"inline-flex":d.showingNavigationDropdown}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),t("div",{class:w([{block:d.showingNavigationDropdown,hidden:!d.showingNavigationDropdown},"sm:hidden"])},[t("div",Io,[c(D,{href:"/dashboard",active:d.$page.currentRouteName=="dashboard"},{default:l(()=>[jo]),_:1},8,["active"]),c(D,{href:"/planner",active:d.$page.currentRouteName=="planner"},{default:l(()=>[Wo]),_:1},8,["active"]),c(D,{href:"/integrations",active:d.$page.currentRouteName=="integrations"},{default:l(()=>[No]),_:1},8,["active"]),c(D,{href:"/tracker",active:d.$page.currentRouteName=="tracker"},{default:l(()=>[Oo]),_:1},8,["active"])]),t("div",Lo,[t("div",Fo,[t("div",Vo,[t("img",{class:"w-10 h-10 rounded-full",src:d.$page.props.user.profile_photo_url,alt:""},null,8,Po)]),t("div",Jo,[t("div",Uo,k(d.$page.props.user.name),1),t("div",qo,k(d.$page.props.user.email),1)])]),t("div",zo,[c(D,{href:"/user/profile",active:d.$page.props.currentRouteName=="profile.show"},{default:l(()=>[Eo]),_:1},8,["active"]),d.$page.props.jetstream.hasApiFeatures?(r(),g(D,{key:0,href:"/user/api-tokens",active:d.$page.currentRouteName=="api-tokens.index"},{default:l(()=>[Ho]),_:1},8,["active"])):x("",!0),t("form",{method:"POST",onSubmit:M(p,["prevent"])},[c(D,{as:"button"},{default:l(()=>[Go]),_:1})],40,Ro),d.$page.props.jetstream.hasTeamFeatures?(r(),u($,{key:1},[Ko,Yo,c(D,{href:"/teams/"+d.$page.props.user.current_team.id,active:d.$page.currentRouteName=="teams.show"},{default:l(()=>[Zo]),_:1},8,["href","active"]),c(D,{href:"/teams/create",active:d.$page.currentRouteName=="teams.create"},{default:l(()=>[Qo]),_:1},8,["active"]),Xo,en,(r(!0),u($,null,A(d.$page.props.user.all_teams,C=>(r(),u("form",{onSubmit:M(H=>s(C),["prevent"])},[c(D,{as:"button"},{default:l(()=>[t("div",on,[C.id==d.$page.props.user.current_team_id?(r(),u("svg",nn,an)):x("",!0),t("div",null,k(C.name),1)])]),_:2},1024)],40,tn))),256))],64)):x("",!0)])])],2)]),t("div",rn,[t("div",ln,[c(oo,{menu:N(i),"header-menu":N(m)},null,8,["menu","header-menu"]),c(Wt,{boards:o.boards,"header-menu":N(m),class:"h-full mb-10"},null,8,["boards","header-menu"])]),t("div",dn,[t("main",null,[S(d.$slots,"default")])])])]),c(_e,{"show-modal":d.showConfirmationModal,"modal-data":d.confirmationData,onConfirm:f,onClose:a},null,8,["show-modal","modal-data"]),c(W,{name:"modal",multiple:""})])}}};export{Wt as B,vn as _};
