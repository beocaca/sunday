import{N as Wt,J as Je,a as ar,_ as Wa}from"./AppLayout.61ea5a27.js";import{B as Bt,m as xe,L as Se,a5 as Hn,a6 as Yn,x as b,l as B,u as x,r as ee,o as O,j as J,b as L,d as v,i as De,w as ue,R as Me,V as pe,a as W,n as U,t as H,e as z,c as T,W as ft,X as mt,v as Ke,g as ae,q as I,F as ne,f as se,P as Ba,a7 as Ht,E as N,a0 as ve,k as re,Z as Oe,a8 as Ha,a2 as Ce,p as Ya,a9 as za,S as qa,aa as Ga,G as Ka,ab as vt,A as Qa,z as q,K as de,J as Xa,h as zn,ac as or,I as Ja,ad as Za,ae as eo}from"./app.e6e97f3c.js";import{V as ht,I as to}from"./ItemModal.afbcfa0a.js";import{i as ro,a as no,I as Yt,c as ao,_ as oo,f as so}from"./ItemGroupCell.53b86d13.js";import{b as io,_ as lo,c as uo}from"./atmosphere-ui.es.a772c86a.js";import{_ as Re}from"./_plugin-vue_export-helper.cdc0426e.js";import{D as sr,a as co}from"./datetime.b24edd36.js";import{r as Fe,t as ir,a as $t,g as nt,s as lr,f as rt,d as fo,i as mo}from"./index.39029ce2.js";import{i as vo}from"./index.36696721.js";import{s as ur,i as ho}from"./index.e41048c8.js";import{A as po}from"./AutomationModal.8bc9e173.js";import{B as go}from"./BulkSelectionBar.dfba1023.js";import"./ConfirmationModal.a1a61d14.js";import"./Modal.1dbb4fb9.js";import"./DangerButton.335aa55c.js";import"./SecondaryButton.2123890a.js";import"./DialogModal.d1e7aea7.js";import"./Button.477681d3.js";function cr(e,t){Fe(1,arguments);var r=t||{},n=r.locale,a=n&&n.options&&n.options.weekStartsOn,o=a==null?0:ir(a),i=r.weekStartsOn==null?o:ir(r.weekStartsOn);if(!(i>=0&&i<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=$t(e),l=s.getDay(),u=(l<i?7:0)+l-i;return s.setDate(s.getDate()-u),s.setHours(0,0,0,0),s}var yo=864e5;function qn(e,t){Fe(2,arguments);var r=ur(e),n=ur(t),a=r.getTime()-nt(r),o=n.getTime()-nt(n);return Math.round((a-o)/yo)}function bo(e,t,r){Fe(2,arguments);var n=$t(e),a=$t(t),o=r||{},i=o.locale,s=i===void 0?fo:i,l=o.weekStartsOn,u=l===void 0?0:l;if(!s.localize)throw new RangeError("locale must contain localize property");if(!s.formatLong)throw new RangeError("locale must contain formatLong property");if(!s.formatRelative)throw new RangeError("locale must contain formatRelative property");var d=qn(n,a);if(isNaN(d))throw new RangeError("Invalid time value");var m;d<-6?m="other":d<-1?m="lastWeek":d<0?m="yesterday":d<1?m="today":d<2?m="tomorrow":d<7?m="nextWeek":m="other";var f=lr(n,nt(n)),y=lr(a,nt(a)),w=s.formatRelative(m,f,y,{locale:s,weekStartsOn:u});return rt(n,w,{locale:s,weekStartsOn:u})}function wo(e,t,r){Fe(2,arguments);var n=cr(e,r),a=cr(t,r);return n.getTime()===a.getTime()}function dr(e,t){return Fe(1,arguments),wo(e,Date.now(),t)}function _o(e){return Fe(1,arguments),ro(e,Date.now())}function ko(e){return Fe(1,arguments),ho(e,no(Date.now(),1))}var fr;const Qe=typeof window<"u",Oo=e=>typeof e=="string",wt=()=>{};Qe&&((fr=window==null?void 0:window.navigator)==null?void 0:fr.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function $o(e){return Hn()?(Yn(e),!0):!1}function xo(e,t=!0){Bt()?xe(e):t?e():Se(e)}function qe(e){var t;const r=x(e);return(t=r==null?void 0:r.$el)!=null?t:r}const zt=Qe?window:void 0;Qe&&window.document;Qe&&window.navigator;Qe&&window.location;function Ue(...e){let t,r,n,a;if(Oo(e[0])?([r,n,a]=e,t=zt):[t,r,n,a]=e,!t)return wt;let o=wt;const i=B(()=>qe(t),l=>{o(),l&&(l.addEventListener(r,n,a),o=()=>{l.removeEventListener(r,n,a),o=wt})},{immediate:!0,flush:"post"}),s=()=>{i(),o()};return $o(s),s}function So(e,t,r={}){const{window:n=zt,ignore:a,capture:o=!0,detectIframe:i=!1}=r;if(!n)return;const s=b(!0);let l;const u=f=>{n.clearTimeout(l);const y=qe(e),w=f.composedPath();!y||y===f.target||w.includes(y)||!s.value||a&&a.length>0&&a.some(k=>{const P=qe(k);return P&&(f.target===P||w.includes(P))})||t(f)},d=[Ue(n,"click",u,{passive:!0,capture:o}),Ue(n,"pointerdown",f=>{const y=qe(e);s.value=!!y&&!f.composedPath().includes(y)},{passive:!0}),Ue(n,"pointerup",f=>{if(f.button===0){const y=f.composedPath();f.composedPath=()=>y,l=n.setTimeout(()=>u(f),50)}},{passive:!0}),i&&Ue(n,"blur",f=>{var y;const w=qe(e);((y=document.activeElement)==null?void 0:y.tagName)==="IFRAME"&&!(w!=null&&w.contains(document.activeElement))&&t(f)})].filter(Boolean);return()=>d.forEach(f=>f())}const xt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},St="__vueuse_ssr_handlers__";xt[St]=xt[St]||{};xt[St];var mr;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(mr||(mr={}));function Po(e={}){const{window:t=zt,initialWidth:r=1/0,initialHeight:n=1/0,listenOrientation:a=!0}=e,o=b(r),i=b(n),s=()=>{t&&(o.value=t.innerWidth,i.value=t.innerHeight)};return s(),xo(s),Ue("resize",s,{passive:!0}),a&&Ue("orientationchange",s,{passive:!0}),{width:o,height:i}}const Gn=e=>(ft("data-v-351c0b2b"),e=e(),mt(),e),To={slot:"reference"},Do=Gn(()=>v("i",{class:"fa fa-plus"},null,-1)),Mo={class:"field-popover"},Co={class:"options-list"},Eo=Gn(()=>v("li",{class:"option-list__item"},[v("button",{class:"option-list__button"},"Duplicate")],-1)),Io={key:0,class:"option-list__item"},Ao={class:"option-list__item"},jo={__name:"FieldPopover",props:{fieldData:{type:Object,required:!0},board:{type:Object,required:!0}},emits:["saved"],setup(e,{emit:t}){const r=e,n=b({});B(r.fieldData,()=>{n.value={...r.fieldData},n.value.type&&(n.value.type="text")},{immediate:!0});const a=[{name:"text",icon:"fa fa-align-left",title:"Text"},{name:"date",icon:"far fa-calendar-alt",title:"Date"},{name:"time",icon:"far fa-clock",title:"Time"},{name:"number",icon:"fa fa-hashtag",title:"Number"},{name:"label",icon:"fa fa-tags",title:"Selects"},{name:"person",icon:"fa fa-user-friends",title:"Person"}];function o(){var d;const s={board_id:r.board.id,name:n.value.name||n.value.title||`field_${r.board.fields.length}`,title:n.value.title||n.value.name,type:(d=n.value.type)==null?void 0:d.name,manual:n.value.manual||!0};let l="POST",u="/api/fields";r.fieldData.id&&(l="put",u+=`/${r.fieldData.id}`),axios({url:u,method:l,data:s}).then(()=>{t("saved")})}function i(){axios({url:`/api/fields/${n.value.id}`,method:"delete"}).then(()=>{t("saved")})}return(s,l)=>{const u=ee("multiselect");return O(),J(x(Wt),{placement:"bottom",width:"200",trigger:"click"},{trigger:L(()=>[v("button",To,[De(s.$slots,"default",{},()=>[Do],!0)])]),default:L(()=>[v("div",Mo,[ue(v("input",{type:"text",class:"form-control","onUpdate:modelValue":l[0]||(l[0]=d=>n.value.title=d),onKeydown:l[1]||(l[1]=pe(d=>o(),["enter"]))},null,544),[[Me,n.value.title]]),!n.value.id||n.value.manual?(O(),J(x(io),{key:0,class:"form-group",label:"Property type"},{default:L(()=>[W(u,{modelValue:n.value.type,"onUpdate:modelValue":l[2]||(l[2]=d=>n.value.type=d),placeholder:"Select",ref:"input",label:"title","show-labels":!1,"select-first":!0,filterable:!0,"automatic-dropdown":!0,options:a},{singleLabel:L(({option:d})=>[v("div",null,[v("i",{class:U([d.icon,"mr-2"])},null,2),v("span",null,H(d.title),1)])]),option:L(({option:d})=>[v("div",null,[v("i",{class:U([d.icon,"mr-2"])},null,2),v("span",null,H(d.title),1)])]),_:1},8,["modelValue"])]),_:1})):z("",!0),v("ul",Co,[Eo,n.value.manual?(O(),T("li",Io,[v("button",{onClick:l[3]||(l[3]=d=>i()),class:"option-list__button hover:bg-red-300"}," Delete ")])):z("",!0),v("li",Ao,[v("button",{onClick:l[4]||(l[4]=d=>o()),class:"option-list__button hover:bg-green-300"}," Save ")])])])]),_:3})}}},Kn=Re(jo,[["__scopeId","data-v-351c0b2b"]]);const Qn=e=>(ft("data-v-3cc90a64"),e=e(),mt(),e),Lo={class:"item-checkbox selection"},Ro=["value"],Fo={class:"item-checkbox"},No=Qn(()=>v("div",{class:"flex items-center cursor-grab"},[v("div",{class:"handle text-gray-400"},[v("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--ic",width:"32",height:"32",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},[v("path",{fill:"currentColor",d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2s.9-2 2-2s2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2s-2 .9-2 2s.9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2z"})])])],-1)),Uo={class:"points__container"},Vo=Qn(()=>v("div",{class:"flex justify-center w-5 h-full py-2 text-center rounded-full hover:bg-gray-200"},[v("div",{class:"flex items-center mr-2"},[v("i",{class:"fa fa-ellipsis-v"})])],-1)),Wo=ae("Edit "),Bo=ae(" Delete "),Ho=["href"],Yo=ae(" Link by id "),zo=["href"],qo=ae(" Link by Subject "),Go={__name:"ListCellTitle",props:{item:{type:Object,required:!0},index:{type:Number,required:!0},isSelectMode:{type:Boolean,default:!1},selectedItems:{type:Array,default(){return[]}}},setup(e){function t(r,n){const a=r.fields.find(o=>o.field_name==n);return a&&a.value}return(r,n)=>(O(),T("div",{class:U("item-false bg-gray-200 border border-white flex"),key:`item-false__title-${e.item.id}`},[v("div",Lo,[ue(v("input",{type:"checkbox","onUpdate:modelValue":n[0]||(n[0]=a=>e.item.selected=a),value:e.item.id},null,8,Ro),[[Ke,e.item.selected]])]),v("div",Fo,[ue(v("input",{type:"checkbox",class:"checkbox-done",name:"",id:"","onUpdate:modelValue":n[1]||(n[1]=a=>e.item.done=a),onChange:n[2]||(n[2]=a=>r.emit("saved",e.item,"done",e.item.done))},null,544),[[Ke,e.item.done]])]),No,W(Yt,{class:"flex items-center","field-name":"title","select-mode":e.isSelectMode,index:e.index,item:e.item,onSelected:n[3]||(n[3]=a=>r.$emit("selected",a)),onSaved:n[4]||(n[4]=a=>r.$emit("saved",e.item,"title",a))},null,8,["select-mode","index","item"]),v("div",Uo,[ue(v("input",{type:"text",title:"Estimation Points",class:"points__input","onUpdate:modelValue":n[5]||(n[5]=a=>e.item.points=a),placeholder:"0",onKeydown:n[6]||(n[6]=pe(a=>r.$emit("saved",e.item,"points",e.item.points),["enter"])),onBlur:n[7]||(n[7]=a=>r.$emit("saved",e.item,"points",e.item.points))},null,544),[[Me,e.item.points]])]),W(x(Wt),{trigger:"click",onCommand:n[8]||(n[8]=a=>r.$emit("command",e.item,a))},{trigger:L(()=>[Vo]),default:L(()=>[v("div",null,[W(Je,{command:"edit",icon:"fa fa-edit",as:"button"},{default:L(()=>[Wo]),_:1}),W(Je,{command:"delete",icon:"fa fa-trash",as:"button"},{default:L(()=>[Bo]),_:1}),v("a",{href:t(e.item,"url_id"),target:"_blank",rel:"noopener noreferrer"},[t(e.item,"url_id")?(O(),J(Je,{key:0,command:"go",icon:"fa fa-external-link-alt"},{default:L(()=>[Yo]),_:1})):z("",!0)],8,Ho),v("a",{href:t(e.item,"url_subject"),target:"_blank",rel:"noopener noreferrer"},[t(e.item,"url_subject")?(O(),J(Je,{key:0,command:"go",icon:"fa fa-external-link-alt"},{default:L(()=>[qo]),_:1})):z("",!0)],8,zo)])]),_:1})]))}},Ko=Re(Go,[["__scopeId","data-v-3cc90a64"]]),Qo={class:"font-bold"},Xo={key:1,class:"item-group-row__header"},Jo={class:"font-bold"},Zo=v("div",{class:"false-header"},null,-1),_t={__name:"ListCellHeader",props:{visibleFields:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})},fieldName:{type:String}},emits:["field-added"],setup(e){const t=e,r=I(()=>t.visibleFields.reduce((n,a)=>{var s,l;let o="";const i=(s=t.filters.sort)==null?void 0:s.includes(a.name);return console.log(t.filters.sort,a.name),i&&(o=(l=t.filters.sort)!=null&&l.includes("-")?"fas fa-sort-up":"fas fa-sort-down"),n[a.name]={sort:o},n},{}));return(n,a)=>(O(),T(ne,null,[v("div",Ba({class:"sticky_header"},n.$attrs),[e.visibleFields.length?(O(!0),T(ne,{key:0},se(e.visibleFields,o=>(O(),T("div",{key:o.name,class:"item-group-row__header"},[v("span",Qo,[De(n.$slots,"default",{filterIcons:x(r)[o.name]},()=>[W(Kn,{"field-data":o,board:n.board,onSaved:a[0]||(a[0]=i=>n.$emit("field-added",i))},{default:L(()=>[ae(H(o.title)+" ",1),v("i",{class:U(x(r)[o.name].sort)},null,2)]),_:2},1032,["field-data","board"])])])]))),128)):(O(),T("div",Xo,[v("span",Jo,[De(n.$slots,"default",{filterIcons:x(r)})])]))],16),Zo],64))}},Xn={red:"bg-red-500 text-white",blue:"bg-blue-500 text-white",green:"bg-green-500 text-white",yellow:"bg-yellow-500 text-white"},Pt=e=>{try{return mo(e)?vo(e)?"Today":ko(e)?"Tomorrow":dr(e)?bo(date.value,new Date).replace(" at 12:00 AM",""):dr(e)?rt(date.value,"iiii"):_o(e)?rt(e,"MMM dd"):rt(e,"MMM dd yyyy"):e}catch{return e}};function pt(e){const t=e||b(null),r=I(()=>t.value&&typeof t.value=="object"?o(t.value):t.value),n=I(()=>{const l=(t.value&&typeof t.value=="object",t.value);return Pt(l)}),a=(l,u)=>sr.fromJSDate(l||new Date).toFormat(u||"yyyy-MM-dd"),o=l=>l?sr.fromJSDate(l).toISODate():"";return{formattedDate:r,toISO:o,formatDate:a,formatDurationFromMs:l=>co.fromMillis(l),getDateFromString:l=>{const u=l?l.split("-"):null;return u?new Date(u[0],u[1]-1,u[2]):null},date:t.value,humanDate:n}}const es={class:"inline-flex text-white py-1 justify-center group transition cursor-pointer"},ts={class:"rounded-md bg-slate-900 space-x-2 px-4 flex items-center group-hover:hidden"},rs={class:U(["cursor-pointer text-small"])},ns=v("span",null," - ",-1),as={class:U(["cursor-pointer text-small"])},os={class:"hidden rounded-md items-center bg-slate-900 px-4 group-hover:flex"},ss={__name:"CellSummaryDate",props:{...ao,users:{type:Array,default(){return[]}}},emits:["saved","closed"],setup(e,{emit:t}){const r=e,n=I(()=>r.item[r.fieldName].value),a=I(()=>qn(n.value.max,n.value.min));return(o,i)=>(O(),T("div",es,[v("div",ts,[v("span",rs,H(x(Pt)(x(n).min)),1),ns,v("span",as,H(x(Pt)(x(n).max)),1)]),v("div",os,H(x(a)),1)]))}},Jn={__name:"ListRow",props:{item:{type:Object,required:!0},visibleFields:{type:Array,required:!0},rowIndex:{type:Number},slim:{type:Boolean},isSummary:{type:Boolean}},setup(e){const t=e;function r(o,i,s){if(!i||!o||t.isSummary)return;const l=i.fields&&i.fields.find(d=>d.field_name==s),u=l?l.value:i[s];if(u&&o.rules){const d=o.rules.find(m=>m.name=="bg");if(d){const m=d.options||o[d.reference],f=m&&m.find(y=>{const w=y.name||y.value;return u.toLowerCase()==w.toLowerCase()});return f?Xn[f.result||f.color]:""}}return"bg-gray-200"}const n={progress:oo,summaryDate:ss},a=o=>o!=null&&o.type?n[o.type]:Yt;return(o,i)=>(O(),T("div",{class:U(["grid text-left item-group-row h-11",{"item-group ic-scroller ic-scroller-slim":e.slim}]),onScroll:i[0]||(i[0]=s=>o.$emit("scroll",s))},[(O(!0),T(ne,null,se(e.visibleFields,s=>(O(),J(Ht(a(e.item[s.name])),{key:s.name,class:U(["text-center border border-white custom-field",[r(s,e.item,s.name)]]),"field-name":s.name,field:s,index:e.rowIndex,item:e.item,onSaved:l=>o.$emit("saved",e.item,s.name,l)},null,40,["class","field-name","field","index","item","onSaved"]))),128))],34))}},is={class:"ic-list__body"},ls=v("div",{class:"ic-list__title"},null,-1),us={key:0,class:"ic-list__add"},cs={__name:"ListSummaryRow",props:{stage:{type:Object,required:!0},items:{type:Array},visibleFields:{type:Array},isExpanded:{type:Boolean}},setup(e){const t=e,r={label:(a,o)=>({value:a.reduce((i,s)=>{var l;if(i[s])i[s].count++;else{const u=(l=o.options.find(d=>d.name==s))!=null?l:{};i[s]={count:1,color:Xn[u.color],label:u.label}}return i},{}),type:"progress"}),date:(a,o)=>{const i=a.reduce((s,l)=>{if(l){const u=so(l,"date","read"),d=u.getTime();s[d]=u}return s},{});return{type:"summaryDate",value:{min:i[Math.min(...Object.keys(i))],max:i[Math.max(...Object.keys(i))]}}},default(a,o){}},n=I(()=>t.visibleFields.reduce((a,o)=>{const i=r[o.type]||r.default,s=t.items.map(l=>l[o.name]);return a[o.name]=i(s,o),a},{}));return(a,o)=>(O(),T("div",is,[ls,W(Jn,{"is-summary":"",slim:"",item:x(n),"row-index":1e3,"visible-fields":e.visibleFields,id:`${e.stage.id}-slim-summary`,onScroll:o[0]||(o[0]=i=>a.$emit("scroll",i))},null,8,["item","visible-fields","id"]),e.isExpanded?(O(),T("div",us)):z("",!0)]))}},ds=(e,t)=>({syncScroll:n=>{const a={left:"scrollLeft",top:"scrollTop"},o=n.target[a[e]];document.querySelectorAll(`.${t}`).forEach(i=>{i.id!==n.target.id&&i.scrollTo({[e]:o})})}});const fs=["data-table-size"],ms={class:"ic-list__title"},vs={class:"flex items-center space-x-2 header-cell"},hs={class:"flex items-center"},ps={key:0,class:"hidden item-group__selector"},gs={key:1,class:"font-bold handle"},ys={key:2},bs=["value"],ws={class:"hidden"},_s=v("div",{class:"flex justify-center w-5 h-full py-2 text-center rounded-full hover:bg-gray-200"},[v("div",{class:"flex items-center justify-center"},[v("i",{class:"fa fa-ellipsis-v"})])],-1),ks={class:"px-2 py-1 transition cursor-pointer hover:bg-slate-200"},Os={key:0,class:"grid"},$s=["id"],xs={key:0,class:"ic-list__add"},Ss=v("i",{class:"fa fa-plus",slot:"reference"},null,-1),Ps={class:"grid"},Ts={key:0,class:"ic-list__footer"},Ds={class:"grid grid-cols-10 text-left item-line"},Ms={class:"flex items-center col-span-12 px-0 item-line-cell"},vr={__name:"ListView",props:{createMode:{type:Boolean},stage:{type:Object},board:{type:Object},selectedItems:{type:Array,default(){return[]}},items:{type:Array,default(){return[]}},filters:{type:Object}},emits:[],setup(e,{emit:t}){const r=e,n=N({newItem:{},newField:{},isSelectMode:!1,isEditMode:!1,isExpanded:!0,isLoaded:!1});B(r.selectedItems,()=>{t("selected-items-updated",r.selectedItems)});const a=I(()=>r.board.fields.filter(p=>!p.hide)),o=I(()=>a.value.length);B(o,()=>{document.documentElement.style.setProperty("--board-column-size",o.value)},{deep:!0,immediate:!0});function i(){n.isExpanded=!n.isExpanded}const s=b();function l(){n.isEditMode=!n.isEditMode,Se(()=>{s.value&&s.value.focus()})}function u(p,c){const _=Math.max(...r.stage.items.map(g=>g.order));n.newItem.board_id=p.board_id,n.newItem.stage_id=p.id,n.newItem.fields=r.board.fields.map(g=>({field_id:g.id,field_name:g.name,value:n.newItem[g.name]})),n.newItem.order=_+1,t("saved",{...n.newItem},c),n.newItem={}}function d(){}function m(){n.newField={},Oe.Inertia.reload({preserveScroll:!0})}function f(p,c,_){p[c]=_,p.fields=r.board.fields.map(g=>({field_id:g.id,field_name:g.name,value:p[g.name]})),t("saved",{...p})}function y(p){var c;p.name=(c=s.value)==null?void 0:c.value,n.isEditMode=!1,t("stage-updated",{...p})}function w(){prop.stage.items.forEach(async(p,c)=>{p.order=c,t("saved",{...p},!1)}),Oe.Inertia.reload({preserveScroll:!0})}function k(p){switch(p){case"delete":t("board-deleted",item);break;case"edit":l();break;case"selection":n.isSelectMode=!n.isSelectMode;break}}function P(p,c){switch(c){case"delete":t("item-deleted",p);break;case"edit":t("open-item",p);break}}function M(p,c){switch(c){case"clearSort":t("clearSort",p);break;case"sort":t("sort",p);break;default:t("saveOrder",p);break}}function C(){r.stage.items.forEach(p=>{p.selected=r.stage.selected})}const{newItem:E,newField:A,isSelectMode:j,isEditMode:V,isExpanded:h,isLoaded:S}=ve(n);b(),b();const{syncScroll:$}=ds("left","ic-scroller-slim");return(p,c)=>(O(),T("div",{class:U(["ic-list",{"rounded-md bg-gray-200 border border-slate-500":!x(h)}]),"data-table-size":x(o)},[v("div",{class:U(["ic-list__body",{"not-expanded":!x(h),loaded:x(S)}])},[v("div",ms,[W(_t,{class:"item-false__header",visibleFields:[{name:"title"}],filters:e.filters},{default:L(({filterIcons:_})=>[v("div",vs,[v("div",hs,[v("span",{class:"toolbar-buttons",onClick:i},[v("i",{class:U([x(h)?"fa fa-chevron-down":"fa fa-chevron-right"])},null,2)]),x(h)?(O(),T("div",ps,[ue(v("input",{type:"checkbox","onUpdate:modelValue":c[0]||(c[0]=g=>e.stage.selected=g),onChange:c[1]||(c[1]=g=>C())},null,544),[[Ke,e.stage.selected]])])):z("",!0),x(V)?(O(),T("div",ys,[v("input",{value:e.stage.name,type:"text",ref_key:"input",ref:s,onKeypress:c[2]||(c[2]=pe(g=>y(e.stage),["enter"])),onBlur:c[3]||(c[3]=g=>y(e.stage))},null,40,bs)])):(O(),T("span",gs,H(e.stage.title||e.stage.name)+" "+H(x(j)?"(Selection Mode)":""),1)),v("div",ws,[v("i",{class:"mx-2 fa fa-edit",onClick:c[4]||(c[4]=g=>l())}),W(x(ar),{trigger:"click",onSelect:k,onClick:c[5]||(c[5]=re(()=>{},["prevent"])),options:[{key:"edit",label:"Edit"},{key:"delete",label:"Delete"},{key:"selection",label:"Select Mode"}]},{default:L(()=>[_s]),_:1})])]),W(x(ar),{trigger:"click",onSelect:c[6]||(c[6]=g=>M("title",g)),onClick:c[7]||(c[7]=re(()=>{},["prevent"])),options:[{key:"sort",label:"Sort by Task Name"},{key:"clearSort",label:"Clear sort"},{key:"saveOrder",label:"Save this order"}]},{default:L(()=>[v("div",ks,[v("span",null,[ae(H(e.items.length)+" Tasks ",1),v("i",{class:U(_.sort)},null,2)])])]),_:2},1024)])]),_:1},8,["filters"]),x(h)?(O(),T("div",Os,[W(x(ht),{modelValue:e.stage.items,"onUpdate:modelValue":c[8]||(c[8]=_=>e.stage.items=_),onEnd:w,handle:".handle",class:"w-full"},{default:L(()=>[(O(!0),T(ne,null,se(e.stage.items,(_,g)=>(O(),J(Ko,{class:"flex bg-gray-200 border border-white item-false",key:`item-false__title-${_.id}`,item:_,index:g,"selected-items":e.selectedItems,"is-select-mode":x(j),onSelected:d,onSaved:f,onCommand:P},null,8,["item","index","selected-items","is-select-mode"]))),128))]),_:1},8,["modelValue"])])):z("",!0)]),v("div",{class:"item-group ic-scroller ic-scroller-slim",onScroll:c[9]||(c[9]=(..._)=>x($)&&x($)(..._)),id:`${e.stage.id}-slim-body`},[W(_t,{class:"grid py-1 text-left item-group-row","visible-fields":x(a),filters:e.filters,onFieldAdded:m},null,8,["visible-fields","filters"]),x(h)?(O(!0),T(ne,{key:0},se(e.items,(_,g)=>(O(),J(Jn,{key:`item-${g}`,item:_,"row-index":g,"visible-fields":x(a),onSaved:f},null,8,["item","row-index","visible-fields"]))),128)):z("",!0)],40,$s),x(h)?(O(),T("div",xs,[W(_t,{class:"item-false__header sticky_header"},{default:L(()=>[W(Kn,{"field-data":x(A),board:e.board,onSaved:m},{default:L(()=>[Ss]),_:1},8,["field-data","board"])]),_:1}),v("div",Ps,[(O(!0),T(ne,null,se(e.stage.items,_=>(O(),T("div",{class:"item-false",key:`item-false-${_.id}`}))),128))])])):z("",!0)],2),x(h)?(O(),T("div",Ts,[v("div",Ds,[v("div",Ms,[W(Yt,{class:"flex items-center w-full","field-name":"title","is-title":!0,index:-1,item:x(E),"is-new":!0,onSaved:c[10]||(c[10]=_=>x(E).title=_),onKeydown:c[11]||(c[11]=pe(_=>u(e.stage),["enter"]))},null,8,["item"])])])])):z("",!0),W(cs,{items:e.items,stage:e.stage,"visible-fields":x(a),onScroll:x($)},null,8,["items","stage","visible-fields","onScroll"])],10,fs))}};function le(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function X(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Q(e){X(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function Zn(e,t){X(2,arguments);var r=Q(e),n=le(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function ea(e){X(1,arguments);var t=Q(e),r=t.getDay();return r===0||r===6}function Cs(e,t){X(2,arguments);var r=Q(e).getTime(),n=le(t);return new Date(r+n)}function at(e,t){X(1,arguments);var r=t||{},n=r.locale,a=n&&n.options&&n.options.weekStartsOn,o=a==null?0:le(a),i=r.weekStartsOn==null?o:le(r.weekStartsOn);if(!(i>=0&&i<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=Q(e),l=s.getDay(),u=(l<i?7:0)+l-i;return s.setDate(s.getDate()-u),s.setHours(0,0,0,0),s}function Tt(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function ot(e){X(1,arguments);var t=Q(e);return t.setHours(0,0,0,0),t}var Es=864e5;function hr(e,t){X(2,arguments);var r=ot(e),n=ot(t),a=r.getTime()-Tt(r),o=n.getTime()-Tt(n);return Math.round((a-o)/Es)}function Is(e,t){X(2,arguments);var r=le(t),n=r*7;return Zn(e,n)}function Ge(e,t){X(2,arguments);var r=ot(e),n=ot(t);return r.getTime()===n.getTime()}function As(e){return X(1,arguments),e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function js(e){if(X(1,arguments),!As(e)&&typeof e!="number")return!1;var t=Q(e);return!isNaN(Number(t))}function ta(e){X(1,arguments);var t=Q(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function qt(e,t){X(1,arguments);var r=e||{},n=Q(r.start),a=Q(r.end),o=a.getTime();if(!(n.getTime()<=o))throw new RangeError("Invalid interval");var i=[],s=n;s.setHours(0,0,0,0);var l=t&&"step"in t?Number(t.step):1;if(l<1||isNaN(l))throw new RangeError("`options.step` must be a number greater than 1");for(;s.getTime()<=o;)i.push(Q(s)),s.setDate(s.getDate()+l),s.setHours(0,0,0,0);return i}function ra(e){X(1,arguments);var t=e||{},r=Q(t.start),n=Q(t.end),a=n.getTime(),o=[];if(!(r.getTime()<=a))throw new RangeError("Invalid interval");var i=r;for(i.setHours(0,0,0,0),i.setDate(1);i.getTime()<=a;)o.push(Q(i)),i.setMonth(i.getMonth()+1);return o}function Ls(e,t){X(1,arguments);var r=e||{},n=Q(r.start),a=Q(r.end),o=a.getTime();if(!(n.getTime()<=o))throw new RangeError("Invalid interval");var i=at(n,t),s=at(a,t);i.setHours(15),s.setHours(15),o=s.getTime();for(var l=[],u=i;u.getTime()<=o;)u.setHours(0),l.push(Q(u)),u=Is(u,1),u.setHours(15);return l}function na(e){X(1,arguments);var t=Q(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Gt(e){X(1,arguments);var t=Q(e),r=new Date(0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Kt(e){X(1,arguments);var t=Q(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}var Rs={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Fs=function(e,t,r){var n,a=Rs[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},Ns=Fs;function kt(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var Us={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Vs={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ws={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bs={date:kt({formats:Us,defaultWidth:"full"}),time:kt({formats:Vs,defaultWidth:"full"}),dateTime:kt({formats:Ws,defaultWidth:"full"})},Hs=Bs,Ys={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zs=function(e,t,r,n){return Ys[e]},qs=zs;function Ye(e){return function(t,r){var n=r||{},a=n.context?String(n.context):"standalone",o;if(a==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=n.width?String(n.width):i;o=e.formattingValues[s]||e.formattingValues[i]}else{var l=e.defaultWidth,u=n.width?String(n.width):e.defaultWidth;o=e.values[u]||e.values[l]}var d=e.argumentCallback?e.argumentCallback(t):t;return o[d]}}var Gs={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ks={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Qs={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Xs={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Js={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Zs={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ei=function(e,t){var r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ti={ordinalNumber:ei,era:Ye({values:Gs,defaultWidth:"wide"}),quarter:Ye({values:Ks,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Ye({values:Qs,defaultWidth:"wide"}),day:Ye({values:Xs,defaultWidth:"wide"}),dayPeriod:Ye({values:Js,defaultWidth:"wide",formattingValues:Zs,defaultFormattingWidth:"wide"})},ri=ti;function ze(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;var i=o[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(s)?ai(s,function(m){return m.test(i)}):ni(s,function(m){return m.test(i)}),u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;var d=t.slice(i.length);return{value:u,rest:d}}}function ni(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function ai(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function oi(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],o=t.match(e.parsePattern);if(!o)return null;var i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;var s=t.slice(a.length);return{value:i,rest:s}}}var si=/^(\d+)(th|st|nd|rd)?/i,ii=/\d+/i,li={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ui={any:[/^b/i,/^(a|c)/i]},ci={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},di={any:[/1/i,/2/i,/3/i,/4/i]},fi={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mi={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vi={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hi={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pi={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gi={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yi={ordinalNumber:oi({matchPattern:si,parsePattern:ii,valueCallback:function(e){return parseInt(e,10)}}),era:ze({matchPatterns:li,defaultMatchWidth:"wide",parsePatterns:ui,defaultParseWidth:"any"}),quarter:ze({matchPatterns:ci,defaultMatchWidth:"wide",parsePatterns:di,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:ze({matchPatterns:fi,defaultMatchWidth:"wide",parsePatterns:mi,defaultParseWidth:"any"}),day:ze({matchPatterns:vi,defaultMatchWidth:"wide",parsePatterns:hi,defaultParseWidth:"any"}),dayPeriod:ze({matchPatterns:pi,defaultMatchWidth:"any",parsePatterns:gi,defaultParseWidth:"any"})},bi=yi,wi={code:"en-US",formatDistance:Ns,formatLong:Hs,formatRelative:qs,localize:ri,match:bi,options:{weekStartsOn:0,firstWeekContainsDate:1}},_i=wi;function ki(e,t){X(2,arguments);var r=le(t);return Cs(e,-r)}var Oi=864e5;function $i(e){X(1,arguments);var t=Q(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/Oi)+1}function st(e){X(1,arguments);var t=1,r=Q(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function aa(e){X(1,arguments);var t=Q(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=st(n),o=new Date(0);o.setUTCFullYear(r,0,4),o.setUTCHours(0,0,0,0);var i=st(o);return t.getTime()>=a.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function xi(e){X(1,arguments);var t=aa(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=st(r);return n}var Si=6048e5;function Pi(e){X(1,arguments);var t=Q(e),r=st(t).getTime()-xi(t).getTime();return Math.round(r/Si)+1}function it(e,t){X(1,arguments);var r=t||{},n=r.locale,a=n&&n.options&&n.options.weekStartsOn,o=a==null?0:le(a),i=r.weekStartsOn==null?o:le(r.weekStartsOn);if(!(i>=0&&i<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=Q(e),l=s.getUTCDay(),u=(l<i?7:0)+l-i;return s.setUTCDate(s.getUTCDate()-u),s.setUTCHours(0,0,0,0),s}function oa(e,t){X(1,arguments);var r=Q(e),n=r.getUTCFullYear(),a=t||{},o=a.locale,i=o&&o.options&&o.options.firstWeekContainsDate,s=i==null?1:le(i),l=a.firstWeekContainsDate==null?s:le(a.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=new Date(0);u.setUTCFullYear(n+1,0,l),u.setUTCHours(0,0,0,0);var d=it(u,t),m=new Date(0);m.setUTCFullYear(n,0,l),m.setUTCHours(0,0,0,0);var f=it(m,t);return r.getTime()>=d.getTime()?n+1:r.getTime()>=f.getTime()?n:n-1}function Ti(e,t){X(1,arguments);var r=t||{},n=r.locale,a=n&&n.options&&n.options.firstWeekContainsDate,o=a==null?1:le(a),i=r.firstWeekContainsDate==null?o:le(r.firstWeekContainsDate),s=oa(e,t),l=new Date(0);l.setUTCFullYear(s,0,i),l.setUTCHours(0,0,0,0);var u=it(l,t);return u}var Di=6048e5;function Mi(e,t){X(1,arguments);var r=Q(e),n=it(r,t).getTime()-Ti(r,t).getTime();return Math.round(n/Di)+1}function Z(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Ci={y:function(e,t){var r=e.getUTCFullYear(),n=r>0?r:1-r;return Z(t==="yy"?n%100:n,t.length)},M:function(e,t){var r=e.getUTCMonth();return t==="M"?String(r+1):Z(r+1,2)},d:function(e,t){return Z(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,t){return Z(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Z(e.getUTCHours(),t.length)},m:function(e,t){return Z(e.getUTCMinutes(),t.length)},s:function(e,t){return Z(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,n=e.getUTCMilliseconds(),a=Math.floor(n*Math.pow(10,r-3));return Z(a,t.length)}},Pe=Ci,Ne={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ei={G:function(e,t,r){var n=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){var n=e.getUTCFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Pe.y(e,t)},Y:function(e,t,r,n){var a=oa(e,n),o=a>0?a:1-a;if(t==="YY"){var i=o%100;return Z(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):Z(o,t.length)},R:function(e,t){var r=aa(e);return Z(r,t.length)},u:function(e,t){var r=e.getUTCFullYear();return Z(r,t.length)},Q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Z(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Z(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){var n=e.getUTCMonth();switch(t){case"M":case"MM":return Pe.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){var n=e.getUTCMonth();switch(t){case"L":return String(n+1);case"LL":return Z(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){var a=Mi(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Z(a,t.length)},I:function(e,t,r){var n=Pi(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Z(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Pe.d(e,t)},D:function(e,t,r){var n=$i(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Z(n,t.length)},E:function(e,t,r){var n=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){var a=e.getUTCDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Z(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){var a=e.getUTCDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Z(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){var n=e.getUTCDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Z(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){var n=e.getUTCHours(),a=n/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){var n=e.getUTCHours(),a;switch(n===12?a=Ne.noon:n===0?a=Ne.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){var n=e.getUTCHours(),a;switch(n>=17?a=Ne.evening:n>=12?a=Ne.afternoon:n>=4?a=Ne.morning:a=Ne.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){var n=e.getUTCHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Pe.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Pe.H(e,t)},K:function(e,t,r){var n=e.getUTCHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Z(n,t.length)},k:function(e,t,r){var n=e.getUTCHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Z(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Pe.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Pe.s(e,t)},S:function(e,t){return Pe.S(e,t)},X:function(e,t,r,n){var a=n._originalDate||e,o=a.getTimezoneOffset();if(o===0)return"Z";switch(t){case"X":return gr(o);case"XXXX":case"XX":return Ae(o);case"XXXXX":case"XXX":default:return Ae(o,":")}},x:function(e,t,r,n){var a=n._originalDate||e,o=a.getTimezoneOffset();switch(t){case"x":return gr(o);case"xxxx":case"xx":return Ae(o);case"xxxxx":case"xxx":default:return Ae(o,":")}},O:function(e,t,r,n){var a=n._originalDate||e,o=a.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+pr(o,":");case"OOOO":default:return"GMT"+Ae(o,":")}},z:function(e,t,r,n){var a=n._originalDate||e,o=a.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+pr(o,":");case"zzzz":default:return"GMT"+Ae(o,":")}},t:function(e,t,r,n){var a=n._originalDate||e,o=Math.floor(a.getTime()/1e3);return Z(o,t.length)},T:function(e,t,r,n){var a=n._originalDate||e,o=a.getTime();return Z(o,t.length)}};function pr(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),o=n%60;if(o===0)return r+String(a);var i=t||"";return r+String(a)+i+Z(o,2)}function gr(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Z(Math.abs(e)/60,2)}return Ae(e,t)}function Ae(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),o=Z(Math.floor(a/60),2),i=Z(a%60,2);return n+o+r+i}var Ii=Ei;function yr(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function sa(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}function Ai(e,t){var r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return yr(e,t);var o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",yr(n,t)).replace("{{time}}",sa(a,t))}var ji={p:sa,P:Ai},Li=ji,Ri=["D","DD"],Fi=["YY","YYYY"];function Ni(e){return Ri.indexOf(e)!==-1}function Ui(e){return Fi.indexOf(e)!==-1}function br(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"))}var Vi=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wi=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Bi=/^'([^]*?)'?$/,Hi=/''/g,Yi=/[a-zA-Z]/;function Qt(e,t,r){X(2,arguments);var n=String(t),a=r||{},o=a.locale||_i,i=o.options&&o.options.firstWeekContainsDate,s=i==null?1:le(i),l=a.firstWeekContainsDate==null?s:le(a.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=o.options&&o.options.weekStartsOn,d=u==null?0:le(u),m=a.weekStartsOn==null?d:le(a.weekStartsOn);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var f=Q(e);if(!js(f))throw new RangeError("Invalid time value");var y=Tt(f),w=ki(f,y),k={firstWeekContainsDate:l,weekStartsOn:m,locale:o,_originalDate:f},P=n.match(Wi).map(function(M){var C=M[0];if(C==="p"||C==="P"){var E=Li[C];return E(M,o.formatLong,k)}return M}).join("").match(Vi).map(function(M){if(M==="''")return"'";var C=M[0];if(C==="'")return zi(M);var E=Ii[C];if(E)return!a.useAdditionalWeekYearTokens&&Ui(M)&&br(M,t,e),!a.useAdditionalDayOfYearTokens&&Ni(M)&&br(M,t,e),E(w,M,o.localize,k);if(C.match(Yi))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return M}).join("");return P}function zi(e){return e.match(Bi)[1].replace(Hi,"'")}function Xt(e,t){X(2,arguments);var r=Q(e),n=Q(t);return r.getTime()>n.getTime()}function Jt(e,t){X(2,arguments);var r=Q(e),n=Q(t);return r.getTime()<n.getTime()}function qi(e,t,r){X(2,arguments);var n=at(e,r),a=at(t,r);return n.getTime()===a.getTime()}function ia(e,t){X(2,arguments);var r=Q(e),n=Q(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}var gt=(e,t)=>{const r=e.__vccOpts||e;for(const[n,a]of t)r[n]=a;return r};const Gi={props:{title:{type:String,default:""},isLeftSide:{type:Boolean},isRightSide:{type:Boolean},markerBgClass:{type:String,default:""}}},Ki=["title"];function Qi(e,t,r,n,a,o){return O(),T("span",{class:U(["absolute left-0 inline-block w-full h-4 mt-2 cursor-pointer marker-point",{[`${r.markerBgClass}`]:!0,"rounded-l-lg task-marker__side":r.isLeftSide,"rounded-r-lg task-marker__side":r.isRightSide}]),title:r.title},null,10,Ki)}var Zt=gt(Gi,[["render",Qi],["__scopeId","data-v-c5b0062e"]]);const Xi={name:"RoadmapViewWeek",props:{tasks:Array,year:Date,focusedTextClass:{type:String,default:"text-blue-500"},markerBgClass:{type:String,default:"bg-red-500"}},components:{MarkerPoint:Zt},setup(){const e=(o,i)=>qt({start:o,end:i}),t=o=>qi(o,new Date),r=o=>Ge(o,new Date),n=(o,i,s)=>Xt(s,o)&&Jt(s,i)||Ge(s,o)||Ge(i,s),a=b(null);return{mainIntervalTime:Ls({start:Gt(new Date),end:Kt(new Date)}),isCurrentWeek:t,isCurrentDay:r,isHourBetween:n,isSameDay:Ge,isWeekend:ea,format:Qt,addDays:Zn,gantDate:a,getDaysForInterval:e}}},Ji={class:"flex units"},Zi={class:"units-body"};function el(e,t,r,n,a,o){const i=ee("marker-point");return O(!0),T(ne,null,se(n.mainIntervalTime,s=>(O(),T("div",{class:"relative text-left border-r task-col__header",key:s},[v("span",{class:U(["pl-2 text-sm font-bold text-gray-400",{[`${r.focusedTextClass} marker`]:n.isCurrentWeek(s)}])},H(n.format(s,"MMM dd"))+" - "+H(n.format(n.addDays(s,6),"MMM dd")),3),v("div",Ji,[(O(!0),T(ne,null,se(n.getDaysForInterval(s,n.addDays(s,6)),l=>(O(),T("div",{key:l,class:U(["w-10 text-center",{"text-blue-400 marker-day font-bold":n.isCurrentDay(l),"bg-gray-100 font-bold":n.isWeekend(l)}])},[v("span",{class:U(["inline-block w-full pb-2 text-sm text-gray-400",{[`${r.focusedTextClass} font-bold`]:n.isCurrentDay(l)}])},H(n.format(l,"dd")),3),v("div",Zi,[(O(!0),T(ne,null,se(r.tasks,u=>(O(),T("div",{key:u.id,class:"relative w-full h-10 border"},[n.isHourBetween(u.start,u.end,l)?(O(),J(i,{key:0,"marker-bg-class":u.colorClass||r.markerBgClass,"is-left-side":n.isSameDay(u.start,l),"is-right-side":n.isSameDay(u.end,l),title:`${u.title} ${n.format(u.start,"dd")}`},null,8,["marker-bg-class","is-left-side","is-right-side","title"])):z("",!0)]))),128))])],2))),128))])]))),128)}var tl=gt(Xi,[["render",el]]);function la(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return r.length>=t?e.apply(null,r.slice(0,t).reverse()):function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return la(e,t,r.concat(a))}}var Te=la(Ge,2);const Ve=e=>{const t=document.querySelector(".marker-day");t&&t.scrollIntoView&&t.scrollIntoView(e?{behavior:"smooth",block:"center",inline:"start"}:{inline:"center"})},rl={name:"RoadmapViewDays",props:{tasks:Array,year:Date,focusedTextClass:{type:String,default:"text-blue-500"},markerBgClass:{type:String,default:"bg-red-500"}},components:{MarkerPoint:Zt},setup(){const e=o=>qt({start:na(o),end:ta(o)}),t=o=>ia(o,new Date),r=o=>Te(o,new Date),n=(o,i,s)=>Xt(s,o)&&Jt(s,i)||Te(s,o)||Te(i,s),a=b(null);return xe(()=>{Se(()=>{Ve()})}),{months:ra({start:Gt(new Date),end:Kt(new Date)}),isCurrentMonth:t,isCurrentDay:r,isHourBetween:n,isSameDay:Te,isWeekend:ea,format:Qt,ganttDate:a,getDaysForMonth:e,scrollToToday:Ve}}},nl={class:"flex units"},al={class:"units-body"};function ol(e,t,r,n,a,o){const i=ee("marker-point");return O(!0),T(ne,null,se(n.months,s=>(O(),T("div",{class:"relative text-left border-r task-col__header",key:s},[v("span",{class:U(["pl-2 text-sm font-bold text-gray-400",{[`${r.focusedTextClass} marker`]:n.isCurrentMonth(s)}])},H(n.format(s,"MMM yyyy")),3),v("div",nl,[(O(!0),T(ne,null,se(n.getDaysForMonth(s),l=>(O(),T("div",{key:l,class:U(["w-10 text-center",{"text-blue-400 marker-day font-bold":n.isCurrentDay(l),"bg-gray-100 font-bold":n.isWeekend(l)}])},[v("span",{class:U(["inline-block w-full pb-2 text-sm text-gray-400",{[`${r.focusedTextClass} font-bold`]:n.isCurrentDay(l)}])},H(n.format(l,"dd")),3),v("div",al,[(O(!0),T(ne,null,se(r.tasks,u=>(O(),T("div",{key:u.id,class:"relative w-full h-10 border"},[n.isHourBetween(u.start,u.end,l)?(O(),J(i,{key:0,"marker-bg-class":u.colorClass||r.markerBgClass,"is-left-side":n.isSameDay(u.start,l),"is-right-side":n.isSameDay(u.end,l),title:`${u.title} ${n.format(u.start,"dd")}`},null,8,["marker-bg-class","is-left-side","is-right-side","title"])):z("",!0)]))),128))])],2))),128))])]))),128)}var sl=gt(rl,[["render",ol]]);const il={name:"RoadmapViewMonth",props:{tasks:Array,year:Date,focusedTextClass:{type:String,default:"text-blue-500"},markerBgClass:{type:String,default:"bg-red-500"}},components:{MarkerPoint:Zt},setup(){const e=o=>qt({start:na(o),end:ta(o)}),t=o=>ia(o,new Date),r=o=>Te(o,new Date),n=(o,i,s)=>Xt(s,o)&&Jt(s,i)||Te(s,o)||Te(i,s),a=b(null);return xe(()=>{Se(()=>{Ve()})}),{months:ra({start:Gt(new Date),end:Kt(new Date)}),isCurrentMonth:t,isCurrentDay:r,isHourBetween:n,isSameDay:Te,format:Qt,gantDate:a,getDaysForMonth:e,scrollToToday:Ve}}},ll={class:"units flex"},ul={class:"units-body"};function cl(e,t,r,n,a,o){const i=ee("marker-point");return O(!0),T(ne,null,se(n.months,s=>(O(),T("div",{class:"task-col__header border-r text-left relative",key:s},[v("span",{class:U(["font-bold text-gray-400 pl-2 text-sm",{[`${r.focusedTextClass} marker`]:n.isCurrentMonth(s)}])},H(n.format(s,"MMM yyyy")),3),v("div",ll,[(O(!0),T(ne,null,se(n.getDaysForMonth(s),l=>(O(),T("div",{key:l,class:U(["w-2 text-center",{"marker-day font-bold":n.isCurrentDay(l)}])},[v("span",{class:U(["inline-block h-6 text-gray-400 text-xs w-full",{"fix-day-height":n.isCurrentDay(l)}])},H(n.isCurrentDay(l)?"T":""),3),v("div",ul,[(O(!0),T(ne,null,se(r.tasks,u=>(O(),T("div",{key:u.id,class:"border-t border-b h-10 w-full relative"},[n.isHourBetween(u.start,u.end,l)?(O(),J(i,{key:0,"marker-bg-class":u.colorClass||r.markerBgClass,"is-left-side":n.isSameDay(u.start,l),"is-right-side":n.isSameDay(u.end,l),title:`${u.title} ${n.format(u.start,"dd")}`},null,8,["marker-bg-class","is-left-side","is-right-side","title"])):z("",!0)]))),128))])],2))),128))])]))),128)}var dl=gt(il,[["render",cl],["__scopeId","data-v-7a36bd33"]]);const fl={class:"gant-vue"},ml={key:0,class:"flex justify-between w-full py-2 space-x-5 text-sm text-left search-bar"},vl={class:""},hl={key:0,type:"search",class:"w-4/12 px-4 border-r-2 focus:outline-none",placeholder:"Search by task name or custom field value"},pl=["disabled"],gl=["disabled"],yl=v("option",{value:"d"},"Day",-1),bl=v("option",{value:"w"},"Week",-1),wl=v("option",{value:"m"},"Month",-1),_l=[yl,bl,wl],kl={class:"flex w-full overflow-hidden border-t custom-table"},Ol={class:"border-r task-column min-w-fit"},$l=v("div",{class:"flex items-center justify-center font-bold text-gray-500 bg-gray-100 task-col__header h-14"}," Task Title ",-1),xl=["onClick"],Sl={class:"mx-2 text-left"},Pl={class:"flex w-full overflow-x-auto months gantt-scroller",ref:"gantDate"},Tl={props:{tasks:Array,focusedTextClass:{type:String,default:"text-blue-500"},showToolbar:{type:Boolean,default:!1},showSearch:{type:Boolean,default:!1},markerBgClass:{type:String,default:"bg-red-500"}},setup(e){xe(()=>{Se(()=>{Ve()})});const t=N({year:new Date,viewType:"d",viewTypes:{d:"days",w:"week",m:"month"},modes:I(()=>Object.keys(t.viewTypes)),currentMode:I(()=>t.modes.findIndex(u=>u==t.viewType)),canZoomIn:I(()=>t.currentMode!==0),canZoomOut:I(()=>t.currentMode!==t.modes.length-1),componentName:I(()=>({d:sl,w:tl,m:dl})[t.viewType])}),r=()=>{t.canZoomIn&&(t.viewType=t.modes[t.currentMode-1])},n=()=>{t.canZoomOut&&(t.viewType=t.modes[t.currentMode+1])},{year:a,viewType:o,canZoomIn:i,canZoomOut:s,componentName:l}=ve(t);return(u,d)=>(O(),T("div",fl,[e.showToolbar?(O(),T("div",ml,[v("div",vl,[e.showSearch?(O(),T("input",hl)):z("",!0),v("button",{class:"px-2 py-1 rounded-md hover:bg-gray-100 focus:outline-none",onClick:d[0]||(d[0]=m=>x(Ve)(!0))}," Today "),v("button",{class:"px-2 py-1 rounded-md hover:bg-gray-100 focus:outline-none",onClick:n,disabled:!x(s)}," - ",8,pl),v("button",{class:"px-2 py-1 rounded-md hover:bg-gray-100 focus:outline-none",onClick:r,disabled:!x(i)}," + ",8,gl),ue(v("select",{class:"px-2 py-1 rounded-md hover:bg-gray-100 focus:outline-none","onUpdate:modelValue":d[1]||(d[1]=m=>Ce(o)?o.value=m:null)},_l,512),[[Ha,x(o)]])]),v("div",null,[De(u.$slots,"actionsRight")])])):z("",!0),v("div",kl,[v("div",Ol,[$l,(O(!0),T(ne,null,se(e.tasks,m=>(O(),T("div",{class:"h-10 border-b-2 cursor-pointer min-w-max task-col__cell",key:m.id,onClick:f=>u.$emit("task-clicked",m)},[De(u.$slots,"description",{item:m,focusedTextClass:e.focusedTextClass,diferenceInCalendarDays:x(hr)(m.end,m.start)},()=>[v("div",Sl,[ae(H(m.title)+" ",1),v("span",{class:U(["text-sm font-bold",e.focusedTextClass])},H(x(hr)(m.end,m.start))+" days ",3)])])],8,xl))),128))]),v("div",Pl,[(O(),J(Ht(x(l)),{year:x(a),tasks:e.tasks,"focused-text-class":e.focusedTextClass,"marker-bg-class":e.markerBgClass},null,8,["year","tasks","focused-text-class","marker-bg-class"]))],512)])]))}};const Dl=e=>(ft("data-v-e53dbdfc"),e=e(),mt(),e),Ml={class:"font-bold text-gray-500 dark:text-gray-300"},Cl={class:"flex items-center w-full"},El={key:0,class:"mr-2 opacity-0 fa fa-arrows-alt checklist-item__move handle"},Il=["onUpdate:modelValue","onChange"],Al=["disabled","onUpdate:modelValue"],jl={class:"w-5"},Ll=["onClick"],Rl=Dl(()=>v("input",{type:"checkbox",disabled:"",class:"mr-2"},null,-1)),Fl=["value"],Nl={__name:"ListContainer",props:{modelValue:String,items:Array,task:Object,allowEdit:Boolean},emits:{updated:Array,"update:items":Array,"update:modelValue":String},setup(e,{emit:t}){const r=e,n=b(!1),a=b(null),o=b("");B(()=>r.modelValue,k=>{k!=o.value&&(o.value=k)});const i=k=>{r.items.splice(k,1)},s=()=>{t("update:modelValue","")},l=()=>{if(!o.value){ElNotification({title:"Missing Title",message:"Title is required for a checklist item"});return}r.items.push({title:o.value,done:!1}),s(),a.value&&a.value.focus()},u=I(()=>Number(r.items&&r.items.filter(k=>k.done).length||0)),d=b(null),m=b(!1),f=()=>{m.value=!0},y=()=>{},w=()=>{m.value&&r.task&&r.task.uid&&(y({uid:r.task.uid,checklist:[...r.items]}),m.value=!1)};return B(()=>r.task&&r.task.uid,()=>{s()}),xe(()=>{So(d,()=>{w()})}),Ya(()=>{w()}),(k,P)=>(O(),T("div",{class:"text-sm checklist-container",ref_key:"checklistContainer",ref:d},[v("h4",Ml," Checklist ("+H(x(u))+" / "+H(e.items?e.items.length:0)+") ",1),W(x(ht),{modelValue:e.items,"onUpdate:modelValue":P[0]||(P[0]=M=>Ce(items)?items.value=M:null),handle:".handle"},{default:L(()=>[(O(!0),T(ne,null,se(e.items,(M,C)=>(O(),T("div",{key:M.id,class:"flex items-center justify-between h-8 px-2 my-2 bg-white rounded-sm cursor-default checklist__item dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-50"},[v("div",Cl,[e.allowEdit?(O(),T("i",El)):z("",!0),ue(v("input",{type:"checkbox",class:"mx-2 form-control-check checkbox-done","onUpdate:modelValue":E=>M.done=E,onChange:re(f,["stop"])},null,40,Il),[[Ke,M.done]]),ue(v("input",{type:"text",class:"w-full ml-2 bg-transparent cursor-default focus:outline-none",disabled:!e.allowEdit,"onUpdate:modelValue":E=>M.title=E},null,8,Al),[[Me,M.title]])]),v("button",jl,[e.allowEdit?(O(),T("i",{key:0,class:"text-gray-400 opacity-0 cursor-pointer fa fa-trash checklist-item__delete hover:text-red-300",onClick:E=>i(C)},null,8,Ll)):z("",!0)])]))),128))]),_:1},8,["modelValue"]),e.allowEdit?(O(),T("div",{key:0,class:U(["flex items-center justify-between px-2 bg-gray-100 border-2 border-gray-100 rounded-md shadow-sm text dark:bg-gray-800 dark:border-gray-600",{"border-gray-400":n.value}])},[Rl,v("input",{value:e.modelValue,class:"w-full h-8 bg-gray-100 dark:bg-gray-800 dark:text-gray-300 focus:outline-none",type:"text",ref_key:"input",ref:a,onInput:P[1]||(P[1]=M=>t("update:modelValue",a.value.value)),onKeydown:P[2]||(P[2]=pe(re(M=>l(),["exact","prevent"]),["enter"])),onFocus:P[3]||(P[3]=M=>n.value=!0),onBlur:P[4]||(P[4]=M=>n.value=!1),placeholder:"+ Add an item and press enter"},null,40,Fl)],2)):z("",!0)],512))}},Ul=Re(Nl,[["__scopeId","data-v-e53dbdfc"]]);function $e(e){return Array.isArray?Array.isArray(e):da(e)==="[object Array]"}const Vl=1/0;function Wl(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-Vl?"-0":t}function Bl(e){return e==null?"":Wl(e)}function be(e){return typeof e=="string"}function ua(e){return typeof e=="number"}function Hl(e){return e===!0||e===!1||Yl(e)&&da(e)=="[object Boolean]"}function ca(e){return typeof e=="object"}function Yl(e){return ca(e)&&e!==null}function me(e){return e!=null}function Ot(e){return!e.trim().length}function da(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const zl="Incorrect 'index' type",ql=e=>`Invalid value for key ${e}`,Gl=e=>`Pattern length exceeds max of ${e}.`,Kl=e=>`Missing ${e} property in key`,Ql=e=>`Property 'weight' in key '${e}' must be a positive integer`,wr=Object.prototype.hasOwnProperty;class Xl{constructor(t){this._keys=[],this._keyMap={};let r=0;t.forEach(n=>{let a=fa(n);r+=a.weight,this._keys.push(a),this._keyMap[a.id]=a,r+=a.weight}),this._keys.forEach(n=>{n.weight/=r})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function fa(e){let t=null,r=null,n=null,a=1,o=null;if(be(e)||$e(e))n=e,t=_r(e),r=Dt(e);else{if(!wr.call(e,"name"))throw new Error(Kl("name"));const i=e.name;if(n=i,wr.call(e,"weight")&&(a=e.weight,a<=0))throw new Error(Ql(i));t=_r(i),r=Dt(i),o=e.getFn}return{path:t,id:r,weight:a,src:n,getFn:o}}function _r(e){return $e(e)?e:e.split(".")}function Dt(e){return $e(e)?e.join("."):e}function Jl(e,t){let r=[],n=!1;const a=(o,i,s)=>{if(!!me(o))if(!i[s])r.push(o);else{let l=i[s];const u=o[l];if(!me(u))return;if(s===i.length-1&&(be(u)||ua(u)||Hl(u)))r.push(Bl(u));else if($e(u)){n=!0;for(let d=0,m=u.length;d<m;d+=1)a(u[d],i,s+1)}else i.length&&a(u,i,s+1)}};return a(e,be(t)?t.split("."):t,0),n?r:r[0]}const Zl={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},eu={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},tu={location:0,threshold:.6,distance:100},ru={useExtendedSearch:!1,getFn:Jl,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Y={...eu,...Zl,...tu,...ru};const nu=/[^ ]+/g;function au(e=1,t=3){const r=new Map,n=Math.pow(10,t);return{get(a){const o=a.match(nu).length;if(r.has(o))return r.get(o);const i=1/Math.pow(o,.5*e),s=parseFloat(Math.round(i*n)/n);return r.set(o,s),s},clear(){r.clear()}}}class er{constructor({getFn:t=Y.getFn,fieldNormWeight:r=Y.fieldNormWeight}={}){this.norm=au(r,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,be(this.docs[0])?this.docs.forEach((t,r)=>{this._addString(t,r)}):this.docs.forEach((t,r)=>{this._addObject(t,r)}),this.norm.clear())}add(t){const r=this.size();be(t)?this._addString(t,r):this._addObject(t,r)}removeAt(t){this.records.splice(t,1);for(let r=t,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(t,r){return t[this._keysMap[r]]}size(){return this.records.length}_addString(t,r){if(!me(t)||Ot(t))return;let n={v:t,i:r,n:this.norm.get(t)};this.records.push(n)}_addObject(t,r){let n={i:r,$:{}};this.keys.forEach((a,o)=>{let i=a.getFn?a.getFn(t):this.getFn(t,a.path);if(!!me(i)){if($e(i)){let s=[];const l=[{nestedArrIndex:-1,value:i}];for(;l.length;){const{nestedArrIndex:u,value:d}=l.pop();if(!!me(d))if(be(d)&&!Ot(d)){let m={v:d,i:u,n:this.norm.get(d)};s.push(m)}else $e(d)&&d.forEach((m,f)=>{l.push({nestedArrIndex:f,value:m})})}n.$[o]=s}else if(be(i)&&!Ot(i)){let s={v:i,n:this.norm.get(i)};n.$[o]=s}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function ma(e,t,{getFn:r=Y.getFn,fieldNormWeight:n=Y.fieldNormWeight}={}){const a=new er({getFn:r,fieldNormWeight:n});return a.setKeys(e.map(fa)),a.setSources(t),a.create(),a}function ou(e,{getFn:t=Y.getFn,fieldNormWeight:r=Y.fieldNormWeight}={}){const{keys:n,records:a}=e,o=new er({getFn:t,fieldNormWeight:r});return o.setKeys(n),o.setIndexRecords(a),o}function Ze(e,{errors:t=0,currentLocation:r=0,expectedLocation:n=0,distance:a=Y.distance,ignoreLocation:o=Y.ignoreLocation}={}){const i=t/e.length;if(o)return i;const s=Math.abs(n-r);return a?i+s/a:s?1:i}function su(e=[],t=Y.minMatchCharLength){let r=[],n=-1,a=-1,o=0;for(let i=e.length;o<i;o+=1){let s=e[o];s&&n===-1?n=o:!s&&n!==-1&&(a=o-1,a-n+1>=t&&r.push([n,a]),n=-1)}return e[o-1]&&o-n>=t&&r.push([n,o-1]),r}const je=32;function iu(e,t,r,{location:n=Y.location,distance:a=Y.distance,threshold:o=Y.threshold,findAllMatches:i=Y.findAllMatches,minMatchCharLength:s=Y.minMatchCharLength,includeMatches:l=Y.includeMatches,ignoreLocation:u=Y.ignoreLocation}={}){if(t.length>je)throw new Error(Gl(je));const d=t.length,m=e.length,f=Math.max(0,Math.min(n,m));let y=o,w=f;const k=s>1||l,P=k?Array(m):[];let M;for(;(M=e.indexOf(t,w))>-1;){let h=Ze(t,{currentLocation:M,expectedLocation:f,distance:a,ignoreLocation:u});if(y=Math.min(h,y),w=M+d,k){let S=0;for(;S<d;)P[M+S]=1,S+=1}}w=-1;let C=[],E=1,A=d+m;const j=1<<d-1;for(let h=0;h<d;h+=1){let S=0,$=A;for(;S<$;)Ze(t,{errors:h,currentLocation:f+$,expectedLocation:f,distance:a,ignoreLocation:u})<=y?S=$:A=$,$=Math.floor((A-S)/2+S);A=$;let p=Math.max(1,f-$+1),c=i?m:Math.min(f+$,m)+d,_=Array(c+2);_[c+1]=(1<<h)-1;for(let D=c;D>=p;D-=1){let G=D-1,R=r[e.charAt(G)];if(k&&(P[G]=+!!R),_[D]=(_[D+1]<<1|1)&R,h&&(_[D]|=(C[D+1]|C[D])<<1|1|C[D+1]),_[D]&j&&(E=Ze(t,{errors:h,currentLocation:G,expectedLocation:f,distance:a,ignoreLocation:u}),E<=y)){if(y=E,w=G,w<=f)break;p=Math.max(1,2*f-w)}}if(Ze(t,{errors:h+1,currentLocation:f,expectedLocation:f,distance:a,ignoreLocation:u})>y)break;C=_}const V={isMatch:w>=0,score:Math.max(.001,E)};if(k){const h=su(P,s);h.length?l&&(V.indices=h):V.isMatch=!1}return V}function lu(e){let t={};for(let r=0,n=e.length;r<n;r+=1){const a=e.charAt(r);t[a]=(t[a]||0)|1<<n-r-1}return t}class va{constructor(t,{location:r=Y.location,threshold:n=Y.threshold,distance:a=Y.distance,includeMatches:o=Y.includeMatches,findAllMatches:i=Y.findAllMatches,minMatchCharLength:s=Y.minMatchCharLength,isCaseSensitive:l=Y.isCaseSensitive,ignoreLocation:u=Y.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:a,includeMatches:o,findAllMatches:i,minMatchCharLength:s,isCaseSensitive:l,ignoreLocation:u},this.pattern=l?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const d=(f,y)=>{this.chunks.push({pattern:f,alphabet:lu(f),startIndex:y})},m=this.pattern.length;if(m>je){let f=0;const y=m%je,w=m-y;for(;f<w;)d(this.pattern.substr(f,je),f),f+=je;if(y){const k=m-je;d(this.pattern.substr(k),k)}}else d(this.pattern,0)}searchIn(t){const{isCaseSensitive:r,includeMatches:n}=this.options;if(r||(t=t.toLowerCase()),this.pattern===t){let w={isMatch:!0,score:0};return n&&(w.indices=[[0,t.length-1]]),w}const{location:a,distance:o,threshold:i,findAllMatches:s,minMatchCharLength:l,ignoreLocation:u}=this.options;let d=[],m=0,f=!1;this.chunks.forEach(({pattern:w,alphabet:k,startIndex:P})=>{const{isMatch:M,score:C,indices:E}=iu(t,w,k,{location:a+P,distance:o,threshold:i,findAllMatches:s,minMatchCharLength:l,includeMatches:n,ignoreLocation:u});M&&(f=!0),m+=C,M&&E&&(d=[...d,...E])});let y={isMatch:f,score:f?m/this.chunks.length:1};return f&&n&&(y.indices=d),y}}class Ee{constructor(t){this.pattern=t}static isMultiMatch(t){return kr(t,this.multiRegex)}static isSingleMatch(t){return kr(t,this.singleRegex)}search(){}}function kr(e,t){const r=e.match(t);return r?r[1]:null}class uu extends Ee{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const r=t===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class cu extends Ee{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class du extends Ee{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const r=t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class fu extends Ee{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const r=!t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class mu extends Ee{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const r=t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class vu extends Ee{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const r=!t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class ha extends Ee{constructor(t,{location:r=Y.location,threshold:n=Y.threshold,distance:a=Y.distance,includeMatches:o=Y.includeMatches,findAllMatches:i=Y.findAllMatches,minMatchCharLength:s=Y.minMatchCharLength,isCaseSensitive:l=Y.isCaseSensitive,ignoreLocation:u=Y.ignoreLocation}={}){super(t),this._bitapSearch=new va(t,{location:r,threshold:n,distance:a,includeMatches:o,findAllMatches:i,minMatchCharLength:s,isCaseSensitive:l,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class pa extends Ee{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let r=0,n;const a=[],o=this.pattern.length;for(;(n=t.indexOf(this.pattern,r))>-1;)r=n+o,a.push([n,r-1]);const i=!!a.length;return{isMatch:i,score:i?0:1,indices:a}}}const Mt=[uu,pa,du,fu,vu,mu,cu,ha],Or=Mt.length,hu=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,pu="|";function gu(e,t={}){return e.split(pu).map(r=>{let n=r.trim().split(hu).filter(o=>o&&!!o.trim()),a=[];for(let o=0,i=n.length;o<i;o+=1){const s=n[o];let l=!1,u=-1;for(;!l&&++u<Or;){const d=Mt[u];let m=d.isMultiMatch(s);m&&(a.push(new d(m,t)),l=!0)}if(!l)for(u=-1;++u<Or;){const d=Mt[u];let m=d.isSingleMatch(s);if(m){a.push(new d(m,t));break}}}return a})}const yu=new Set([ha.type,pa.type]);class bu{constructor(t,{isCaseSensitive:r=Y.isCaseSensitive,includeMatches:n=Y.includeMatches,minMatchCharLength:a=Y.minMatchCharLength,ignoreLocation:o=Y.ignoreLocation,findAllMatches:i=Y.findAllMatches,location:s=Y.location,threshold:l=Y.threshold,distance:u=Y.distance}={}){this.query=null,this.options={isCaseSensitive:r,includeMatches:n,minMatchCharLength:a,findAllMatches:i,ignoreLocation:o,location:s,threshold:l,distance:u},this.pattern=r?t:t.toLowerCase(),this.query=gu(this.pattern,this.options)}static condition(t,r){return r.useExtendedSearch}searchIn(t){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:a}=this.options;t=a?t:t.toLowerCase();let o=0,i=[],s=0;for(let l=0,u=r.length;l<u;l+=1){const d=r[l];i.length=0,o=0;for(let m=0,f=d.length;m<f;m+=1){const y=d[m],{isMatch:w,indices:k,score:P}=y.search(t);if(w){if(o+=1,s+=P,n){const M=y.constructor.type;yu.has(M)?i=[...i,...k]:i.push(k)}}else{s=0,o=0,i.length=0;break}}if(o){let m={isMatch:!0,score:s/o};return n&&(m.indices=i),m}}return{isMatch:!1,score:1}}}const Ct=[];function wu(...e){Ct.push(...e)}function Et(e,t){for(let r=0,n=Ct.length;r<n;r+=1){let a=Ct[r];if(a.condition(e,t))return new a(e,t)}return new va(e,t)}const lt={AND:"$and",OR:"$or"},It={PATH:"$path",PATTERN:"$val"},At=e=>!!(e[lt.AND]||e[lt.OR]),_u=e=>!!e[It.PATH],ku=e=>!$e(e)&&ca(e)&&!At(e),$r=e=>({[lt.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function ga(e,t,{auto:r=!0}={}){const n=a=>{let o=Object.keys(a);const i=_u(a);if(!i&&o.length>1&&!At(a))return n($r(a));if(ku(a)){const l=i?a[It.PATH]:o[0],u=i?a[It.PATTERN]:a[l];if(!be(u))throw new Error(ql(l));const d={keyId:Dt(l),pattern:u};return r&&(d.searcher=Et(u,t)),d}let s={children:[],operator:o[0]};return o.forEach(l=>{const u=a[l];$e(u)&&u.forEach(d=>{s.children.push(n(d))})}),s};return At(e)||(e=$r(e)),n(e)}function Ou(e,{ignoreFieldNorm:t=Y.ignoreFieldNorm}){e.forEach(r=>{let n=1;r.matches.forEach(({key:a,norm:o,score:i})=>{const s=a?a.weight:null;n*=Math.pow(i===0&&s?Number.EPSILON:i,(s||1)*(t?1:o))}),r.score=n})}function $u(e,t){const r=e.matches;t.matches=[],me(r)&&r.forEach(n=>{if(!me(n.indices)||!n.indices.length)return;const{indices:a,value:o}=n;let i={indices:a,value:o};n.key&&(i.key=n.key.src),n.idx>-1&&(i.refIndex=n.idx),t.matches.push(i)})}function xu(e,t){t.score=e.score}function Su(e,t,{includeMatches:r=Y.includeMatches,includeScore:n=Y.includeScore}={}){const a=[];return r&&a.push($u),n&&a.push(xu),e.map(o=>{const{idx:i}=o,s={item:t[i],refIndex:i};return a.length&&a.forEach(l=>{l(o,s)}),s})}class Be{constructor(t,r={},n){this.options={...Y,...r},this.options.useExtendedSearch,this._keyStore=new Xl(this.options.keys),this.setCollection(t,n)}setCollection(t,r){if(this._docs=t,r&&!(r instanceof er))throw new Error(zl);this._myIndex=r||ma(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){!me(t)||(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const r=[];for(let n=0,a=this._docs.length;n<a;n+=1){const o=this._docs[n];t(o,n)&&(this.removeAt(n),n-=1,a-=1,r.push(o))}return r}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:r=-1}={}){const{includeMatches:n,includeScore:a,shouldSort:o,sortFn:i,ignoreFieldNorm:s}=this.options;let l=be(t)?be(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Ou(l,{ignoreFieldNorm:s}),o&&l.sort(i),ua(r)&&r>-1&&(l=l.slice(0,r)),Su(l,this._docs,{includeMatches:n,includeScore:a})}_searchStringList(t){const r=Et(t,this.options),{records:n}=this._myIndex,a=[];return n.forEach(({v:o,i,n:s})=>{if(!me(o))return;const{isMatch:l,score:u,indices:d}=r.searchIn(o);l&&a.push({item:o,idx:i,matches:[{score:u,value:o,norm:s,indices:d}]})}),a}_searchLogical(t){const r=ga(t,this.options),n=(s,l,u)=>{if(!s.children){const{keyId:m,searcher:f}=s,y=this._findMatches({key:this._keyStore.get(m),value:this._myIndex.getValueForItemAtKeyId(l,m),searcher:f});return y&&y.length?[{idx:u,item:l,matches:y}]:[]}const d=[];for(let m=0,f=s.children.length;m<f;m+=1){const y=s.children[m],w=n(y,l,u);if(w.length)d.push(...w);else if(s.operator===lt.AND)return[]}return d},a=this._myIndex.records,o={},i=[];return a.forEach(({$:s,i:l})=>{if(me(s)){let u=n(r,s,l);u.length&&(o[l]||(o[l]={idx:l,item:s,matches:[]},i.push(o[l])),u.forEach(({matches:d})=>{o[l].matches.push(...d)}))}}),i}_searchObjectList(t){const r=Et(t,this.options),{keys:n,records:a}=this._myIndex,o=[];return a.forEach(({$:i,i:s})=>{if(!me(i))return;let l=[];n.forEach((u,d)=>{l.push(...this._findMatches({key:u,value:i[d],searcher:r}))}),l.length&&o.push({idx:s,item:i,matches:l})}),o}_findMatches({key:t,value:r,searcher:n}){if(!me(r))return[];let a=[];if($e(r))r.forEach(({v:o,i,n:s})=>{if(!me(o))return;const{isMatch:l,score:u,indices:d}=n.searchIn(o);l&&a.push({score:u,key:t,value:o,idx:i,norm:s,indices:d})});else{const{v:o,n:i}=r,{isMatch:s,score:l,indices:u}=n.searchIn(o);s&&a.push({score:l,key:t,value:o,norm:i,indices:u})}return a}}Be.version="6.6.2";Be.createIndex=ma;Be.parseIndex=ou;Be.config=Y;Be.parseQuery=ga;wu(bu);function ya(e,t,r,n=[]){const a=e||b(null),o=t||b([]),i=r||b([]),s={threshold:.2,keys:["title",...n]},l=(m,f)=>m.filter(y=>f.includes(y)).length,u=()=>{const m=o.value;if(!m)return[];const f=new Be([...m],s),w=(a.value&&m.length?f.search(a.value).map(k=>k.item):m).sort((k,P)=>{k.order>P.order});return i.value&&i.value.length?w.filter(k=>k.tags&&l(k.tags.map(P=>P.uid),i.value)):w},d=I(()=>u());return{searchRef:e,tagsRef:r,filteredList:d}}var jt={exports:{}};(function(e,t){(function(r,n){{var a=n();e&&e.exports&&(t=e.exports=a),t.randomColor=a}})(za,function(){var r=null,n={};M();var a=[],o=function(h){if(h=h||{},h.seed!==void 0&&h.seed!==null&&h.seed===parseInt(h.seed,10))r=h.seed;else if(typeof h.seed=="string")r=j(h.seed);else{if(h.seed!==void 0&&h.seed!==null)throw new TypeError("The seed value must be an integer or string");r=null}var S,$,p;if(h.count!==null&&h.count!==void 0){for(var c=h.count,_=[],g=0;g<h.count;g++)a.push(!1);for(h.count=null;c>_.length;){var D=o(h);r!==null&&(h.seed=r),_.push(D)}return h.count=c,_}return S=i(h),$=s(S,h),p=l(S,$,h),u([S,$,p],h)};function i(h){if(a.length>0){var S=V(h.hue),$=w(S),p=(S[1]-S[0])/a.length,c=parseInt(($-S[0])/p);a[c]===!0?c=(c+2)%a.length:a[c]=!0;var _=(S[0]+c*p)%359,g=(S[0]+(c+1)*p)%359;return S=[_,g],$=w(S),$<0&&($=360+$),$}else{var S=m(h.hue);return $=w(S),$<0&&($=360+$),$}}function s(h,S){if(S.hue==="monochrome")return 0;if(S.luminosity==="random")return w([0,100]);var $=f(h),p=$[0],c=$[1];switch(S.luminosity){case"bright":p=55;break;case"dark":p=c-10;break;case"light":c=55;break}return w([p,c])}function l(h,S,$){var p=d(h,S),c=100;switch($.luminosity){case"dark":c=p+20;break;case"light":p=(c+p)/2;break;case"random":p=0,c=100;break}return w([p,c])}function u(h,S){switch(S.format){case"hsvArray":return h;case"hslArray":return A(h);case"hsl":var $=A(h);return"hsl("+$[0]+", "+$[1]+"%, "+$[2]+"%)";case"hsla":var p=A(h),g=S.alpha||Math.random();return"hsla("+p[0]+", "+p[1]+"%, "+p[2]+"%, "+g+")";case"rgbArray":return C(h);case"rgb":var c=C(h);return"rgb("+c.join(", ")+")";case"rgba":var _=C(h),g=S.alpha||Math.random();return"rgba("+_.join(", ")+", "+g+")";default:return k(h)}}function d(h,S){for(var $=y(h).lowerBounds,p=0;p<$.length-1;p++){var c=$[p][0],_=$[p][1],g=$[p+1][0],D=$[p+1][1];if(S>=c&&S<=g){var G=(D-_)/(g-c),R=_-G*c;return G*S+R}}return 0}function m(h){if(typeof parseInt(h)=="number"){var S=parseInt(h);if(S<360&&S>0)return[S,S]}if(typeof h=="string"){if(n[h]){var $=n[h];if($.hueRange)return $.hueRange}else if(h.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var p=E(h)[0];return[p,p]}}return[0,360]}function f(h){return y(h).saturationRange}function y(h){h>=334&&h<=360&&(h-=360);for(var S in n){var $=n[S];if($.hueRange&&h>=$.hueRange[0]&&h<=$.hueRange[1])return n[S]}return"Color not found"}function w(h){if(r===null){var S=.618033988749895,$=Math.random();return $+=S,$%=1,Math.floor(h[0]+$*(h[1]+1-h[0]))}else{var p=h[1]||1,c=h[0]||0;r=(r*9301+49297)%233280;var _=r/233280;return Math.floor(c+_*(p-c))}}function k(h){var S=C(h);function $(c){var _=c.toString(16);return _.length==1?"0"+_:_}var p="#"+$(S[0])+$(S[1])+$(S[2]);return p}function P(h,S,$){var p=$[0][0],c=$[$.length-1][0],_=$[$.length-1][1],g=$[0][1];n[h]={hueRange:S,lowerBounds:$,saturationRange:[p,c],brightnessRange:[_,g]}}function M(){P("monochrome",null,[[0,0],[100,0]]),P("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),P("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),P("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),P("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),P("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),P("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),P("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function C(h){var S=h[0];S===0&&(S=1),S===360&&(S=359),S=S/360;var $=h[1]/100,p=h[2]/100,c=Math.floor(S*6),_=S*6-c,g=p*(1-$),D=p*(1-_*$),G=p*(1-(1-_)*$),R=256,te=256,ie=256;switch(c){case 0:R=p,te=G,ie=g;break;case 1:R=D,te=p,ie=g;break;case 2:R=g,te=p,ie=G;break;case 3:R=g,te=D,ie=p;break;case 4:R=G,te=g,ie=p;break;case 5:R=p,te=g,ie=D;break}var bt=[Math.floor(R*255),Math.floor(te*255),Math.floor(ie*255)];return bt}function E(h){h=h.replace(/^#/,""),h=h.length===3?h.replace(/(.)/g,"$1$1"):h;var S=parseInt(h.substr(0,2),16)/255,$=parseInt(h.substr(2,2),16)/255,p=parseInt(h.substr(4,2),16)/255,c=Math.max(S,$,p),_=c-Math.min(S,$,p),g=c?_/c:0;switch(c){case S:return[60*(($-p)/_%6)||0,g,c];case $:return[60*((p-S)/_+2)||0,g,c];case p:return[60*((S-$)/_+4)||0,g,c]}}function A(h){var S=h[0],$=h[1]/100,p=h[2]/100,c=(2-$)*p;return[S,Math.round($*p/(c<1?c:2-c)*1e4)/100,c/2*100]}function j(h){for(var S=0,$=0;$!==h.length&&!(S>=Number.MAX_SAFE_INTEGER);$++)S+=h.charCodeAt($);return S}function V(h){if(isNaN(h)){if(typeof h=="string"){if(n[h]){var $=n[h];if($.hueRange)return $.hueRange}else if(h.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var p=E(h)[0];return y(p).hueRange}}}else{var S=parseInt(h);if(S<360&&S>0)return y(h).hueRange}return[0,360]}return o})})(jt,jt.exports);const Pu=jt.exports,Tu={class:"flex items-center justify-center tag-select"},Du={class:"w-full px-1 pt-2 pb-5"},Mu=["onClick"],Cu={class:"ml-2"},Eu={class:"mb-0"},Iu={key:0},Au={key:1,class:"text-center"},ju=v("span",null," This person doesn't exists",-1),Lu=[ju],Ru=["onFocus"],Fu=v("span",{class:"text-xs"},[v("i",{class:"fa fa-user"})],-1),Nu=["title"],Uu={__name:"PersonSelect",props:{items:{type:Array,default(){return[]}},modelValue:{type:Array,default(){}},limit:{type:Number,default:2},multiple:Boolean,placeholder:{type:String,default:"Add items"},allowAdd:{type:Boolean,default:!0}},emits:{"update:modelValue":Array,added:Object,selected:Object},setup(e,{emit:t}){const r=e,n=N({cursor:0,isOpen:!1}),a=b([]);B(()=>[...r.modelValue],$=>{a.value=$.map(p=>(p.color=p.color||Pu({luminosity:"dark"}),p))},{immediate:!0});const o=b(null),i=b(null),s=$=>$.split(" ").map(p=>p[0]).join(""),l=b(""),{items:u,allowAdd:d}=ve(r),m=I(()=>a&&a.value.map($=>$.name).join(" ")),f=I(()=>a&&a.value.slice(r.limit).map($=>$.name).join(" ")),{filteredList:y}=ya(l,u,null,["name"]),w=$=>a.value.find(p=>p.uid==$),k=()=>{o.value&&o.value.focus()},P=$=>{$.target.click()};B(()=>y.value,$=>{n.cursor>y.value.length-1&&(n.cursor=0)});const M=I(()=>n.cursor<=y.value.length?y.value[n.cursor]:""),C=b(null),E=()=>{C.value.scrollTop=0},A=()=>{n.cursor>0&&(n.cursor=n.cursor-1)},j=()=>{n.cursor+1<y.value.length&&(n.cursor=n.cursor+1)},V=()=>{l.value&&(t("added",{name:l.value}),l.value="")},h=$=>{if(y.value.length){const p=$||y.value[n.cursor];S(p)}else V()},S=$=>{const p=a.value.findIndex(c=>$.uid==c.uid);p<0&&r.multiple?a.value.push($):p<0&&!r.multiple?a.value=[$]:a.value.splice(p,1),r.multiple?o.value.focus():n.isOpen=!1,t("update:modelValue",a.value)};return($,p)=>{const c=ee("el-avatar"),_=ee("el-popover");return O(),T("div",Tu,[W(_,{modelValue:n.isOpen,"onUpdate:modelValue":p[6]||(p[6]=g=>n.isOpen=g),placement:"bottom-end","popper-class":"tag-select",width:240,"show-arrow":!1,onAfterEnter:p[7]||(p[7]=g=>k())},{reference:L(()=>[v("button",{ref_key:"button",ref:i,class:U([{"text-gray-500":x(m)},"flex items-center w-full h-full space-x-1 text-xs focus:outline-none"]),onMousedown:p[5]||(p[5]=re(()=>{},["prevent"])),onFocus:re(P,["prevent"])},[a.value.length?z("",!0):(O(),J(c,{key:0,size:24,class:"text-xs transition-colors hover:bg-gray-500"},{default:L(()=>[Fu]),_:1})),(O(!0),T(ne,null,se(a.value.slice(0,e.limit),g=>(O(),J(c,{key:g.name,style:qa({background:g.color}),size:24,title:g.name,src:g.photoUrl,class:"mr-1 text-white"},{default:L(()=>[ae(H(s(g.name)),1)]),_:2},1032,["style","title","src"]))),128)),x(f)?(O(),T("span",{key:1,title:x(f),class:"px-2 py-1 mr-1 text-white bg-gray-500 rounded-md"}," + "+H(a.value.slice(e.limit).length),9,Nu)):z("",!0)],42,Ru)]),default:L(()=>[v("div",Du,[ue(v("input",{class:"w-full h-8 px-2 border-2 border-gray-100 rounded-md focus:outline-none focus:border-gray-200",type:"text",placeholder:"Select or create a person","onUpdate:modelValue":p[0]||(p[0]=g=>l.value=g),ref_key:"input",ref:o,onClick:p[1]||(p[1]=re(()=>{},["stop"])),onInput:E,onKeydown:[p[2]||(p[2]=pe(g=>h(),["enter"])),p[3]||(p[3]=pe(re(g=>A(),["prevent"]),["up"])),p[4]||(p[4]=pe(re(g=>j(),["prevent"]),["down"]))]},null,544),[[Me,l.value,void 0,{trim:!0}]]),v("div",{class:"w-full mt-2 space-y-1 overflow-auto items-container max-h-48 ic-scroller",ref_key:"container",ref:C},[(O(!0),T(ne,null,se(x(y),g=>(O(),T("div",{key:g,class:U(["flex items-center px-2 py-2 transition-colors rounded-sm cursor-pointer",[x(M)==g&&"bg-gray-500 text-white",w(g.uid)?"bg-gray-200 hover:bg-gray-500 hover:text-white":"hover:bg-gray-500 hover:text-white"]]),onClick:re(D=>h(g),["stop"])},[W(c,{src:g.photoUrl,size:32},{default:L(()=>[ae(H(s(g.name)),1)]),_:2},1032,["src"]),v("div",Cu,[v("h4",Eu,H(g.name),1),v("small",null,H(g.email),1)])],10,Mu))),128))],512),l.value&&x(y).length==0&&x(d)?(O(),T("div",Iu,[v("button",{class:"w-full h-8 px-2",onClick:V},' Add person: "'+H(l.value)+'" ',1)])):x(y).length==0&&l.value?(O(),T("div",Au,Lu)):z("",!0)])]),_:1},8,["modelValue"])])}}};const Vu={class:"flex items-center justify-center tag-select"},Wu={key:0},Bu={class:"flex items-center mb-5"},Hu=v("i",{class:"fa fa-chevron-left"},null,-1),Yu=[Hu],zu=v("div",{class:"ml-2 font-bold"}," Edit Tag",-1),qu={class:"mb-6 text-left"},Gu=v("label",{for:"",class:"inline-block mb-2 font-bold"},"Tag Name",-1),Ku={class:"mt-2"},Qu=v("label",{for:"",class:"inline-block mb-2 font-bold"},"Pick a color",-1),Xu={class:"grid grid-cols-4"},Ju=["onClick"],Zu={class:"flex justify-end"},ec={key:1,class:"w-full px-1 pt-2 pb-5"},tc=["onClick"],rc={class:"w-full h-full ml-2"},nc=["onClick"],ac=v("i",{class:"fa fa-edit"},null,-1),oc=[ac],sc={key:0},ic={key:1,class:"text-center"},lc=v("span",null," This tag doesn't exists",-1),uc=[lc],cc=["onFocus"],dc=v("i",{class:"cursor-pointer fa fa-tags"},null,-1),fc={key:0},mc=["onClick"],vc=v("i",{class:"px-2 fa fa-times"},null,-1),hc=[vc],pc=["title"],gc={__name:"TagsSelect",props:{tags:{type:Array,default(){return[]}},modelValue:{type:Array,default(){}},limit:{type:Number,default:2},multiple:Boolean,placeholder:{type:String,default:"Add tags"},allowAdd:{type:Boolean,default:!0}},emits:{"update:modelValue":Array,added:Object,selected:Object},setup(e,{emit:t}){const r=e,n=b([]),a=()=>{n.value=r.modelValue.map(g=>{const D=r.tags.find(G=>G.uid==g.uid);return(!g.colors||D&&D.colors&&D.colors[0]!=g.colors[0])&&(g.colors=D?D.colors||[]:[]),g})};B(()=>[...r.modelValue],()=>{a()},{immediate:!0}),B(()=>r.tags,()=>{a()});const o=b(null),i=b(null),s=N({cursor:-1,isOpen:!1,selectedTag:null,tagColors:[["bg-green-200","bg-green-400","hover:border-green-600"],["bg-blue-200","bg-blue-400","hover:border-blue-600"],["bg-red-200","bg-red-400","hover:border-red-600"],["bg-yellow-200","bg-yellow-400","hover:border-yellow-600"],["bg-purple-200","bg-purple-400","hover:border-purple-600"],["bg-pink-200","bg-pink-400","hover:border-pink-600"],["bg-indigo-200","bg-indigo-400","hover:border-indigo-600"],["bg-gray-200","bg-gray-400","hover:border-gray-600"]]}),l=b(""),{tags:u,allowAdd:d}=ve(r);I(()=>n&&n.value.map(g=>g.name).join(" "));const m=I(()=>n&&n.value.slice(r.limit).map(g=>g.name).join(" ")),{filteredList:f}=useFuseSearch(l,u,b([]),["name"]),y=g=>n.value.find(D=>D.uid==g),w=()=>{o.value&&o.value.focus()},k=g=>{g.target.click()};B(()=>f.value,g=>{s.cursor>f.value.length-1&&(s.cursor=0)});const P=I(()=>s.cursor<=f.value.length?f.value[s.cursor]:""),M=b(null),C=()=>{M.value.scrollTop=0},E=()=>{s.cursor>-1&&M.value.querySelector(`.select-item-${s.cursor}`).scrollIntoView({behavior:"smooth"})},A=()=>{s.cursor>-1&&(s.cursor=s.cursor-1,E())},j=()=>{s.cursor+1<f.value.length&&(s.cursor=s.cursor+1,E())},V=()=>{l.value&&(t("added",{name:l.value}),l.value="")},{update:h,destroy:S}=useCollection(),$=g=>{g.uid&&h("tags",g).then(()=>{ElNotification({message:"Tag updated",type:"success"}),s.selectedTag=null})},p=async g=>{const D=await ElMessageBox.confirm(`Are you sure you want to delete the tag: "${g.name}"?<br> This tag won't be deleted from already saved tasks`,"Delete Tag",{dangerouslyUseHTMLString:!0});g.uid&&D&&S("tags",g).then(()=>{ElNotification({message:"Tag deleted",type:"success"}),s.selectedTag=null})},c=g=>{if(f.value.length){const D=g||f.value[s.cursor];_(D)}else V()},_=g=>{const D=n.value.findIndex(G=>g.uid==G.uid);D<0&&r.multiple?n.value.push(g):D<0&&!r.multiple?n.value=[g]:n.value.splice(D,1),r.multiple?o.value.focus():s.isOpen=!1,t("update:modelValue",n.value)};return(g,D)=>{const G=ee("el-popover");return O(),T("div",Vu,[W(G,{modelValue:s.isOpen,"onUpdate:modelValue":D[10]||(D[10]=R=>s.isOpen=R),placement:"bottom-end","popper-class":"tag-select dark:bg-gray-900 dark:text-gray-300",width:240,"show-arrow":!1,onHide:D[11]||(D[11]=R=>s.selectedTag=null),onAfterEnter:D[12]||(D[12]=R=>w())},{reference:L(()=>[v("button",{ref_key:"button",ref:i,class:U([{"text-gray-500":!0},"flex items-center h-full space-x-1 text-xs focus:outline-none dark:bg-transparent dark:text-gray-300"]),onMousedown:D[9]||(D[9]=re(()=>{},["prevent"])),onFocus:re(k,["prevent"])},[dc,n.value.length?z("",!0):(O(),T("span",fc,H(e.placeholder),1)),(O(!0),T(ne,null,se(n.value.slice(0,e.limit),R=>(O(),T("span",{key:R.name,class:U(["flex items-center pl-2 mr-1 text-white bg-gray-500 rounded-md",R.colors])},[ae(H(R.name)+" ",1),v("button",{onClick:re(te=>_(R),["prevent","stop"]),class:"py-1 transition-colors hover:bg-gray-700 rounded-r-md"},hc,8,mc)],2))),128)),x(m)?(O(),T("span",{key:1,title:x(m),class:"px-2 py-1 mr-1 text-white bg-gray-500 rounded-md"}," + "+H(n.value.slice(e.limit).length),9,pc)):z("",!0)],40,cc)]),default:L(()=>[s.selectedTag?(O(),T("div",Wu,[v("div",Bu,[v("button",{onClick:D[0]||(D[0]=R=>s.selectedTag=null),class:"px-2 py-1 rounded-md hover:bg-gray-200 focus:outline-none"},Yu),zu]),v("div",qu,[Gu,ue(v("input",{class:"w-full h-8 px-2 border-2 border-gray-100 rounded-md dark:bg-gray-900 focus:outline-none focus:border-gray-200",type:"text",placeholder:"Add or create a tag","onUpdate:modelValue":D[1]||(D[1]=R=>s.selectedTag.name=R),ref_key:"input",ref:o},null,512),[[Me,s.selectedTag.name,void 0,{trim:!0}]])]),v("div",Ku,[Qu,v("div",Xu,[(O(!0),T(ne,null,se(s.tagColors,R=>(O(),T("div",{key:R[0],class:U(["flex w-10 h-10 my-2 overflow-hidden rounded-full cursor-pointer",[`border-2 border-transparent ${R.hover}`,s.selectedTag.colors&&s.selectedTag.colors[0]==R[0]&&"border-gray-600"]]),onClick:te=>s.selectedTag.colors=R},[v("div",{class:U([R[0],"w-1/2 h-full"])},null,2),v("div",{class:U([R[1],"w-1/2 h-full"])},null,2)],10,Ju))),128))])]),v("div",Zu,[v("button",{onClick:D[2]||(D[2]=R=>p(s.selectedTag)),class:"px-5 py-2 mr-2 text-white transition-colors bg-red-400 rounded-md focus:outline-none hover:bg-red-500"}," Delete "),v("button",{onClick:D[3]||(D[3]=R=>$(s.selectedTag)),class:"px-5 py-2 text-white transition-colors bg-green-400 rounded-md focus:outline-none hover:bg-green-500"}," Save ")])])):(O(),T("div",ec,[ue(v("input",{class:"w-full h-8 px-2 border-2 border-gray-100 rounded-md dark:bg-gray-900 dark:focus:border-gray-400 dark:border-gray-500 dark:text-gray-300 focus:outline-none focus:border-gray-200",type:"text",placeholder:"Add or create a tag","onUpdate:modelValue":D[4]||(D[4]=R=>l.value=R),ref_key:"input",ref:o,onClick:D[5]||(D[5]=re(()=>{},["stop"])),onInput:C,onKeydown:[D[6]||(D[6]=pe(R=>c(),["enter"])),D[7]||(D[7]=pe(re(R=>A(),["prevent"]),["up"])),D[8]||(D[8]=pe(re(R=>j(),["prevent"]),["down"]))]},null,544),[[Me,l.value,void 0,{trim:!0}]]),v("div",{class:"w-full pr-2 mt-2 space-y-1 overflow-auto tags-container max-h-48 ic-scroller",ref_key:"container",ref:M},[(O(!0),T(ne,null,se(x(f),(R,te)=>(O(),T("div",{key:R,class:U(["flex px-2 py-2 capitalize transition-colors rounded-md cursor-pointer fnnt-bold",[`select-item-${te}`,x(P)==R&&"bg-gray-500 text-white",y(R.uid)?"bg-gray-200 hover:bg-gray-200 ":"hover:bg-gray-200 dark:hover:bg-gray-600 dark:hover:text-gray-50"]]),onClick:re(ie=>c(R),["stop"])},[v("div",{class:U(["w-2 h-5",R.colors&&R.colors[1]])},null,2),v("div",rc,H(R.name),1),v("div",{onClick:re(ie=>s.selectedTag=R,["prevent","stop"]),class:"flex items-center justify-center w-10 px-2 py-1 transition-colors rounded-full hover:bg-gray-700 hover:text-white"},oc,8,nc)],10,tc))),128))],512),l.value&&x(f).length==0&&x(d)?(O(),T("div",sc,[v("button",{class:"w-full h-8 px-2",onClick:V},' Add tag: "'+H(l.value)+'"',1)])):x(f).length==0&&l.value?(O(),T("div",ic,uc)):z("",!0)]))]),_:1},8,["modelValue"])])}}};var xr;const we=typeof window<"u",ba=e=>typeof e=="function",wa=e=>typeof e=="string",ut=()=>+Date.now(),Sr=(e,t,r)=>Math.min(r,Math.max(t,e)),ce=()=>{},Pr=we&&((xr=window==null?void 0:window.navigator)==null?void 0:xr.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function K(e){return typeof e=="function"?e():x(e)}function Xe(e,t){function r(...n){e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})}return r}const tr=e=>e();function yc(e,t={}){let r,n;return o=>{const i=K(e),s=K(t.maxWait);if(r&&clearTimeout(r),i<=0||s!==void 0&&s<=0)return n&&(clearTimeout(n),n=null),o();s&&!n&&(n=setTimeout(()=>{r&&clearTimeout(r),n=null,o()},s)),r=setTimeout(()=>{n&&clearTimeout(n),n=null,o()},i)}}function _a(e,t=!0,r=!0){let n=0,a,o=!0;const i=()=>{a&&(clearTimeout(a),a=void 0)};return l=>{const u=K(e),d=Date.now()-n;if(i(),u<=0)return n=Date.now(),l();d>u&&(r||!o)?(n=Date.now(),l()):t&&(a=setTimeout(()=>{n=Date.now(),o=!0,i(),l()},u)),!r&&!a&&(a=setTimeout(()=>o=!0,u)),o=!1}}function bc(e=tr){const t=b(!0);function r(){t.value=!1}function n(){t.value=!0}return{isActive:t,pause:r,resume:n,eventFilter:(...o)=>{t.value&&e(...o)}}}const Ie={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function wc(e,t=!1,r="Timeout"){return new Promise((n,a)=>{setTimeout(t?()=>a(r):n,e)})}function _c(e){return e}function kc(e){let t;function r(){return t||(t=e()),t}return r.reset=async()=>{const n=t;t=void 0,n&&await n},r}function Oc(e,t,r=!1){return t.reduce((n,a)=>(a in e&&(!r||e[a]!==void 0)&&(n[a]=e[a]),n),{})}function fe(e){return Hn()?(Yn(e),!0):!1}function ka(e,t=200,r={}){return Xe(yc(t,r),e)}function $c(e,t=200,r=!1,n=!0){return Xe(_a(t,r,n),e)}function xc(e){return typeof e=="function"?I(e):b(e)}function Tr(e,t,r={}){var n,a;const{flush:o="sync",deep:i=!1,immediate:s=!0,direction:l="both",transform:u={}}=r;let d,m;const f=(n=u.ltr)!=null?n:w=>w,y=(a=u.rtl)!=null?a:w=>w;return(l==="both"||l==="ltr")&&(d=B(e,w=>t.value=f(w),{flush:o,deep:i,immediate:s})),(l==="both"||l==="rtl")&&(m=B(t,w=>e.value=y(w),{flush:o,deep:i,immediate:s})),()=>{d==null||d(),m==null||m()}}var Sc=Object.defineProperty,Pc=Object.defineProperties,Tc=Object.getOwnPropertyDescriptors,Dr=Object.getOwnPropertySymbols,Dc=Object.prototype.hasOwnProperty,Mc=Object.prototype.propertyIsEnumerable,Mr=(e,t,r)=>t in e?Sc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Cc=(e,t)=>{for(var r in t||(t={}))Dc.call(t,r)&&Mr(e,r,t[r]);if(Dr)for(var r of Dr(t))Mc.call(t,r)&&Mr(e,r,t[r]);return e},Ec=(e,t)=>Pc(e,Tc(t));function Oa(e){if(!Ce(e))return ve(e);const t=Array.isArray(e.value)?new Array(e.value.length):{};for(const r in e.value)t[r]=Ga(()=>({get(){return e.value[r]},set(n){if(Array.isArray(e.value)){const a=[...e.value];a[r]=n,e.value=a}else{const a=Ec(Cc({},e.value),{[r]:n});Object.setPrototypeOf(a,e.value),e.value=a}}}));return t}function $a(e,t=!0){Bt()?Ka(e):t?e():Se(e)}function _e(e,t=!0){Bt()?xe(e):t?e():Se(e)}function xa(e,t=1e3,r={}){const{immediate:n=!0,immediateCallback:a=!1}=r;let o=null;const i=b(!1);function s(){o&&(clearInterval(o),o=null)}function l(){i.value=!1,s()}function u(){x(t)<=0||(i.value=!0,a&&e(),s(),o=setInterval(e,K(t)))}if(n&&we&&u(),Ce(t)){const d=B(t,()=>{i.value&&we&&u()});fe(d)}return fe(l),{isActive:i,pause:l,resume:u}}function Ic(e=!1,t={}){const{truthyValue:r=!0,falsyValue:n=!1}=t,a=Ce(e),o=b(e);function i(s){if(arguments.length)return o.value=s,o.value;{const l=K(r);return o.value=o.value===l?K(n):l,o.value}}return a?i:[o,i]}var Cr=Object.getOwnPropertySymbols,Ac=Object.prototype.hasOwnProperty,jc=Object.prototype.propertyIsEnumerable,Lc=(e,t)=>{var r={};for(var n in e)Ac.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Cr)for(var n of Cr(e))t.indexOf(n)<0&&jc.call(e,n)&&(r[n]=e[n]);return r};function Rc(e,t,r={}){const n=r,{eventFilter:a=tr}=n,o=Lc(n,["eventFilter"]);return B(e,Xe(a,t),o)}var Fc=Object.defineProperty,Nc=Object.defineProperties,Uc=Object.getOwnPropertyDescriptors,ct=Object.getOwnPropertySymbols,Sa=Object.prototype.hasOwnProperty,Pa=Object.prototype.propertyIsEnumerable,Er=(e,t,r)=>t in e?Fc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Vc=(e,t)=>{for(var r in t||(t={}))Sa.call(t,r)&&Er(e,r,t[r]);if(ct)for(var r of ct(t))Pa.call(t,r)&&Er(e,r,t[r]);return e},Wc=(e,t)=>Nc(e,Uc(t)),Bc=(e,t)=>{var r={};for(var n in e)Sa.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&ct)for(var n of ct(e))t.indexOf(n)<0&&Pa.call(e,n)&&(r[n]=e[n]);return r};function Ta(e,t,r={}){const n=r,{eventFilter:a}=n,o=Bc(n,["eventFilter"]),{eventFilter:i,pause:s,resume:l,isActive:u}=bc(a);return{stop:Rc(e,t,Wc(Vc({},o),{eventFilter:i})),pause:s,resume:l,isActive:u}}function he(e){var t;const r=K(e);return(t=r==null?void 0:r.$el)!=null?t:r}const oe=we?window:void 0,Da=we?window.document:void 0,yt=we?window.navigator:void 0;function F(...e){let t,r,n,a;if(wa(e[0])?([r,n,a]=e,t=oe):[t,r,n,a]=e,!t)return ce;let o=ce;const i=B(()=>he(t),l=>{o(),l&&(l.addEventListener(r,n,a),o=()=>{l.removeEventListener(r,n,a),o=ce})},{immediate:!0,flush:"post"}),s=()=>{i(),o()};return fe(s),s}function Hc(e,t,r={}){const{window:n=oe,ignore:a,capture:o=!0,detectIframe:i=!1}=r;if(!n)return;const s=b(!0);let l;const u=f=>{n.clearTimeout(l);const y=he(e),w=f.composedPath();!y||y===f.target||w.includes(y)||!s.value||a&&a.length>0&&a.some(k=>{const P=he(k);return P&&(f.target===P||w.includes(P))})||t(f)},d=[F(n,"click",u,{passive:!0,capture:o}),F(n,"pointerdown",f=>{const y=he(e);s.value=!!y&&!f.composedPath().includes(y)},{passive:!0}),F(n,"pointerup",f=>{if(f.button===0){const y=f.composedPath();f.composedPath=()=>y,l=n.setTimeout(()=>u(f),50)}},{passive:!0}),i&&F(n,"blur",f=>{var y;const w=he(e);((y=document.activeElement)==null?void 0:y.tagName)==="IFRAME"&&!(w!=null&&w.contains(document.activeElement))&&t(f)})].filter(Boolean);return()=>d.forEach(f=>f())}function Yc(e={}){const{window:t=oe}=e,r=b(0);return t&&(F(t,"blur",()=>r.value+=1,!0),F(t,"focus",()=>r.value+=1,!0)),I(()=>(r.value,t==null?void 0:t.document.activeElement))}function ke(e,t=!1){const r=b(),n=()=>r.value=Boolean(e());return n(),_e(n,t),r}function zc({navigator:e=yt}={}){const t=["chargingchange","chargingtimechange","dischargingtimechange","levelchange"],r=ke(()=>e&&"getBattery"in e),n=b(!1),a=b(0),o=b(0),i=b(1);let s;function l(){n.value=this.charging,a.value=this.chargingTime||0,o.value=this.dischargingTime||0,i.value=this.level}return r.value&&e.getBattery().then(u=>{s=u,l.call(s);for(const d of t)F(s,d,l,{passive:!0})}),{isSupported:r,charging:n,chargingTime:a,dischargingTime:o,level:i}}function We(e,t={}){const{window:r=oe}=t,n=ke(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let a;const o=b(!1),i=()=>{!n.value||(a||(a=r.matchMedia(e)),o.value=a.matches)};return $a(()=>{i(),a&&("addEventListener"in a?a.addEventListener("change",i):a.addListener(i),fe(()=>{"removeEventListener"in a?a.removeEventListener("change",i):a.removeListener(i)}))}),o}function qc({window:e=oe}={}){const t=n=>{const{state:a,length:o}=(e==null?void 0:e.history)||{},{hash:i,host:s,hostname:l,href:u,origin:d,pathname:m,port:f,protocol:y,search:w}=(e==null?void 0:e.location)||{};return{trigger:n,state:a,length:o,hash:i,host:s,hostname:l,href:u,origin:d,pathname:m,port:f,protocol:y,search:w}},r=b(t("load"));return e&&(F(e,"popstate",()=>r.value=t("popstate"),{passive:!0}),F(e,"hashchange",()=>r.value=t("hashchange"),{passive:!0})),r}const Lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rt="__vueuse_ssr_handlers__";Lt[Rt]=Lt[Rt]||{};const Gc=Lt[Rt];function Ma(e,t){return Gc[e]||t}function Kc(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"||Array.isArray(e)?"object":Number.isNaN(e)?"any":"number"}var Qc=Object.defineProperty,Ir=Object.getOwnPropertySymbols,Xc=Object.prototype.hasOwnProperty,Jc=Object.prototype.propertyIsEnumerable,Ar=(e,t,r)=>t in e?Qc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,jr=(e,t)=>{for(var r in t||(t={}))Xc.call(t,r)&&Ar(e,r,t[r]);if(Ir)for(var r of Ir(t))Jc.call(t,r)&&Ar(e,r,t[r]);return e};const Zc={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function Ca(e,t,r,n={}){var a;const{flush:o="pre",deep:i=!0,listenToStorageChanges:s=!0,writeDefaults:l=!0,mergeDefaults:u=!1,shallow:d,window:m=oe,eventFilter:f,onError:y=h=>{console.error(h)}}=n,w=(d?vt:b)(t);if(!r)try{r=Ma("getDefaultStorage",()=>{var h;return(h=oe)==null?void 0:h.localStorage})()}catch(h){y(h)}if(!r)return w;const k=K(t),P=Kc(k),M=(a=n.serializer)!=null?a:Zc[P],{pause:C,resume:E}=Ta(w,()=>A(w.value),{flush:o,deep:i,eventFilter:f});return m&&s&&F(m,"storage",V),V(),w;function A(h){try{h==null?r.removeItem(e):r.setItem(e,M.write(h))}catch(S){y(S)}}function j(h){if(!(h&&h.key!==e)){C();try{const S=h?h.newValue:r.getItem(e);if(S==null)return l&&k!==null&&r.setItem(e,M.write(k)),k;if(!h&&u){const $=M.read(S);return ba(u)?u($,k):P==="object"&&!Array.isArray($)?jr(jr({},k),$):$}else return typeof S!="string"?S:M.read(S)}catch(S){y(S)}finally{E()}}}function V(h){h&&h.key!==e||(w.value=j(h))}}function rr(e){return We("(prefers-color-scheme: dark)",e)}var ed=Object.defineProperty,Lr=Object.getOwnPropertySymbols,td=Object.prototype.hasOwnProperty,rd=Object.prototype.propertyIsEnumerable,Rr=(e,t,r)=>t in e?ed(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nd=(e,t)=>{for(var r in t||(t={}))td.call(t,r)&&Rr(e,r,t[r]);if(Lr)for(var r of Lr(t))rd.call(t,r)&&Rr(e,r,t[r]);return e};function ad(e={}){const{selector:t="html",attribute:r="class",initialValue:n="auto",window:a=oe,storage:o,storageKey:i="vueuse-color-scheme",listenToStorageChanges:s=!0,storageRef:l,emitAuto:u}=e,d=nd({auto:"",light:"light",dark:"dark"},e.modes||{}),m=rr({window:a}),f=I(()=>m.value?"dark":"light"),y=l||(i==null?b(n):Ca(i,n,o,{window:a,listenToStorageChanges:s})),w=I({get(){return y.value==="auto"&&!u?f.value:y.value},set(C){y.value=C}}),k=Ma("updateHTMLAttrs",(C,E,A)=>{const j=a==null?void 0:a.document.querySelector(C);if(!!j)if(E==="class"){const V=A.split(/\s/g);Object.values(d).flatMap(h=>(h||"").split(/\s/g)).filter(Boolean).forEach(h=>{V.includes(h)?j.classList.add(h):j.classList.remove(h)})}else j.setAttribute(E,A)});function P(C){var E;const A=C==="auto"?f.value:C;k(t,r,(E=d[A])!=null?E:A)}function M(C){e.onChanged?e.onChanged(C,P):P(C)}return B(w,M,{flush:"post",immediate:!0}),u&&B(f,()=>M(w.value),{flush:"post"}),_e(()=>M(w.value)),w}var od=Object.defineProperty,sd=Object.defineProperties,id=Object.getOwnPropertyDescriptors,Fr=Object.getOwnPropertySymbols,ld=Object.prototype.hasOwnProperty,ud=Object.prototype.propertyIsEnumerable,Nr=(e,t,r)=>t in e?od(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,cd=(e,t)=>{for(var r in t||(t={}))ld.call(t,r)&&Nr(e,r,t[r]);if(Fr)for(var r of Fr(t))ud.call(t,r)&&Nr(e,r,t[r]);return e},dd=(e,t)=>sd(e,id(t));function fd(e={}){const{valueDark:t="dark",valueLight:r="",window:n=oe}=e,a=ad(dd(cd({},e),{onChanged:(s,l)=>{var u;e.onChanged?(u=e.onChanged)==null||u.call(e,s==="dark"):l(s)},modes:{dark:t,light:r}})),o=rr({window:n});return I({get(){return a.value==="dark"},set(s){s===o.value?a.value="auto":a.value=s?"dark":"light"}})}function md(e={}){const{window:t=oe,eventFilter:r=tr}=e,n=b({x:null,y:null,z:null}),a=b({alpha:null,beta:null,gamma:null}),o=b(0),i=b({x:null,y:null,z:null});if(t){const s=Xe(r,l=>{n.value=l.acceleration,i.value=l.accelerationIncludingGravity,a.value=l.rotationRate,o.value=l.interval});F(t,"devicemotion",s)}return{acceleration:n,accelerationIncludingGravity:i,rotationRate:a,interval:o}}function vd(e={}){const{window:t=oe}=e,r=ke(()=>t&&"DeviceOrientationEvent"in t),n=b(!1),a=b(null),o=b(null),i=b(null);return t&&r.value&&F(t,"deviceorientation",s=>{n.value=s.absolute,a.value=s.alpha,o.value=s.beta,i.value=s.gamma}),{isSupported:r,isAbsolute:n,alpha:a,beta:o,gamma:i}}const hd=[1,1.325,1.4,1.5,1.8,2,2.4,2.5,2.75,3,3.5,4];function pd({window:e=oe}={}){if(!e)return{pixelRatio:b(1)};const t=b(e.devicePixelRatio),r=()=>{t.value=e.devicePixelRatio};return F(e,"resize",r,{passive:!0}),hd.forEach(n=>{const a=We(`screen and (min-resolution: ${n}dppx)`),o=We(`screen and (max-resolution: ${n}dppx)`);B([a,o],r)}),{pixelRatio:t}}function gd(e,t={}){const{controls:r=!1,navigator:n=yt}=t,a=ke(()=>n&&"permissions"in n);let o;const i=typeof e=="string"?{name:e}:e,s=b(),l=()=>{o&&(s.value=o.state)},u=kc(async()=>{if(!!a.value){if(!o)try{o=await n.permissions.query(i),F(o,"change",l),l()}catch{s.value="prompt"}return o}});return u(),r?{state:s,isSupported:a,query:u}:s}function yd(e={}){const{navigator:t=yt,requestPermissions:r=!1,constraints:n={audio:!0,video:!0},onUpdated:a}=e,o=b([]),i=I(()=>o.value.filter(y=>y.kind==="videoinput")),s=I(()=>o.value.filter(y=>y.kind==="audioinput")),l=I(()=>o.value.filter(y=>y.kind==="audiooutput")),u=ke(()=>t&&t.mediaDevices&&t.mediaDevices.enumerateDevices),d=b(!1);async function m(){!u.value||(o.value=await t.mediaDevices.enumerateDevices(),a==null||a(o.value))}async function f(){if(!u.value)return!1;if(d.value)return!0;const{state:y,query:w}=gd("camera",{controls:!0});return await w(),y.value!=="granted"&&((await t.mediaDevices.getUserMedia(n)).getTracks().forEach(P=>P.stop()),m()),d.value=!0,d.value}return u.value&&(r&&f(),F(t.mediaDevices,"devicechange",m),m()),{devices:o,ensurePermissions:f,permissionGranted:d,videoInputs:i,audioInputs:s,audioOutputs:l,isSupported:u}}function bd({document:e=Da}={}){if(!e)return b("visible");const t=b(e.visibilityState);return F(e,"visibilitychange",()=>{t.value=e.visibilityState}),t}var wd=Object.defineProperty,_d=Object.defineProperties,kd=Object.getOwnPropertyDescriptors,Ur=Object.getOwnPropertySymbols,Od=Object.prototype.hasOwnProperty,$d=Object.prototype.propertyIsEnumerable,Vr=(e,t,r)=>t in e?wd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,xd=(e,t)=>{for(var r in t||(t={}))Od.call(t,r)&&Vr(e,r,t[r]);if(Ur)for(var r of Ur(t))$d.call(t,r)&&Vr(e,r,t[r]);return e},Sd=(e,t)=>_d(e,kd(t));function Pd(e,t={}){var r,n;const a=(r=t.draggingElement)!=null?r:oe,o=b((n=K(t.initialValue))!=null?n:{x:0,y:0}),i=b(),s=f=>t.pointerTypes?t.pointerTypes.includes(f.pointerType):!0,l=f=>{K(t.preventDefault)&&f.preventDefault(),K(t.stopPropagation)&&f.stopPropagation()},u=f=>{var y;if(!s(f)||K(t.exact)&&f.target!==K(e))return;const w=K(e).getBoundingClientRect(),k={x:f.pageX-w.left,y:f.pageY-w.top};((y=t.onStart)==null?void 0:y.call(t,k,f))!==!1&&(i.value=k,l(f))},d=f=>{var y;!s(f)||!i.value||(o.value={x:f.pageX-i.value.x,y:f.pageY-i.value.y},(y=t.onMove)==null||y.call(t,o.value,f),l(f))},m=f=>{var y;!s(f)||!i.value||(i.value=void 0,(y=t.onEnd)==null||y.call(t,o.value,f),l(f))};return we&&(F(e,"pointerdown",u,!0),F(a,"pointermove",d,!0),F(a,"pointerup",m,!0)),Sd(xd({},Oa(o)),{position:o,isDragging:I(()=>!!i.value),style:I(()=>`left:${o.value.x}px;top:${o.value.y}px;`)})}var Wr=Object.getOwnPropertySymbols,Td=Object.prototype.hasOwnProperty,Dd=Object.prototype.propertyIsEnumerable,Md=(e,t)=>{var r={};for(var n in e)Td.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Wr)for(var n of Wr(e))t.indexOf(n)<0&&Dd.call(e,n)&&(r[n]=e[n]);return r};function Ea(e,t,r={}){const n=r,{window:a=oe}=n,o=Md(n,["window"]);let i;const s=ke(()=>a&&"ResizeObserver"in a),l=()=>{i&&(i.disconnect(),i=void 0)},u=B(()=>he(e),m=>{l(),s.value&&a&&m&&(i=new ResizeObserver(t),i.observe(m,o))},{immediate:!0,flush:"post"}),d=()=>{l(),u()};return fe(d),{isSupported:s,stop:d}}function Cd(e,t={}){const{reset:r=!0,windowResize:n=!0,windowScroll:a=!0,immediate:o=!0}=t,i=b(0),s=b(0),l=b(0),u=b(0),d=b(0),m=b(0),f=b(0),y=b(0);function w(){const k=he(e);if(!k){r&&(i.value=0,s.value=0,l.value=0,u.value=0,d.value=0,m.value=0,f.value=0,y.value=0);return}const P=k.getBoundingClientRect();i.value=P.height,s.value=P.bottom,l.value=P.left,u.value=P.right,d.value=P.top,m.value=P.width,f.value=P.x,y.value=P.y}return Ea(e,w),B(()=>he(e),k=>!k&&w()),a&&F("scroll",w,{passive:!0}),n&&F("resize",w,{passive:!0}),_e(()=>{o&&w()}),{height:i,bottom:s,left:l,right:u,top:d,width:m,x:f,y,update:w}}function Ia(e,t={}){const{immediate:r=!0,window:n=oe}=t,a=b(!1);let o=null;function i(){!a.value||!n||(e(),o=n.requestAnimationFrame(i))}function s(){!a.value&&n&&(a.value=!0,i())}function l(){a.value=!1,o!=null&&n&&(n.cancelAnimationFrame(o),o=null)}return r&&s(),fe(l),{isActive:a,pause:l,resume:s}}function Aa(e,t={width:0,height:0},r={}){const n=b(t.width),a=b(t.height);return Ea(e,([o])=>{n.value=o.contentRect.width,a.value=o.contentRect.height},r),B(()=>he(e),o=>{n.value=o?t.width:0,a.value=o?t.height:0}),{width:n,height:a}}function Ed(e,{window:t=oe,scrollTarget:r}={}){const n=b(!1),a=()=>{if(!t)return;const o=t.document,i=K(e);if(!i)n.value=!1;else{const s=i.getBoundingClientRect();n.value=s.top<=(t.innerHeight||o.documentElement.clientHeight)&&s.left<=(t.innerWidth||o.documentElement.clientWidth)&&s.bottom>=0&&s.right>=0}};return _e(a),t&&_e(()=>F(()=>K(r)||t,"scroll",a,{capture:!1,passive:!0})),n}function Id(e={}){const{initialValue:t=""}=e,r=ke(()=>typeof window<"u"&&"EyeDropper"in window),n=b(t);async function a(o){if(!r.value)return;const s=await new window.EyeDropper().open(o);return n.value=s.sRGBHex,s}return{isSupported:r,sRGBHex:n,open:a}}const Br=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];function Ad(e,t={}){const{document:r=Da,autoExit:n=!1}=t,a=e||(r==null?void 0:r.querySelector("html")),o=b(!1);let i=Br[0];const s=ke(()=>{if(r){for(const k of Br)if(k[1]in r)return i=k,!0}else return!1;return!1}),[l,u,d,,m]=i;async function f(){!s.value||(r!=null&&r[d]&&await r[u](),o.value=!1)}async function y(){if(!s.value)return;await f();const k=he(a);k&&(await k[l](),o.value=!0)}async function w(){o.value?await f():await y()}return r&&F(r,m,()=>{o.value=!!(r!=null&&r[d])},!1),n&&fe(f),{isSupported:s,isFullscreen:o,enter:y,exit:f,toggle:w}}function jd(e={}){const{enableHighAccuracy:t=!0,maximumAge:r=3e4,timeout:n=27e3,navigator:a=yt}=e,o=ke(()=>a&&"geolocation"in a),i=b(null),s=b(null),l=b({accuracy:0,latitude:1/0,longitude:1/0,altitude:null,altitudeAccuracy:null,heading:null,speed:null});function u(m){i.value=m.timestamp,l.value=m.coords,s.value=null}let d;return o.value&&(d=a.geolocation.watchPosition(u,m=>s.value=m,{enableHighAccuracy:t,maximumAge:r,timeout:n})),fe(()=>{d&&a&&a.geolocation.clearWatch(d)}),{isSupported:o,coords:l,locatedAt:i,error:s}}const Ld=["mousemove","mousedown","resize","keydown","touchstart","wheel"],Rd=6e4;function Fd(e=Rd,t={}){const{initialState:r=!1,listenForVisibilityChange:n=!0,events:a=Ld,window:o=oe,eventFilter:i=_a(50)}=t,s=b(r),l=b(ut());let u;const d=Xe(i,()=>{s.value=!1,l.value=ut(),clearTimeout(u),u=setTimeout(()=>s.value=!0,e)});if(o){const m=o.document;for(const f of a)F(o,f,d,{passive:!0});n&&F(m,"visibilitychange",()=>{m.hidden||d()})}return u=setTimeout(()=>s.value=!0,e),{idle:s,lastActive:l}}function ja(e={}){const{type:t="page",touch:r=!0,resetOnTouchEnds:n=!1,initialValue:a={x:0,y:0},window:o=oe,eventFilter:i}=e,s=b(a.x),l=b(a.y),u=b(null),d=k=>{t==="page"?(s.value=k.pageX,l.value=k.pageY):t==="client"&&(s.value=k.clientX,l.value=k.clientY),u.value="mouse"},m=()=>{s.value=a.x,l.value=a.y},f=k=>{if(k.touches.length>0){const P=k.touches[0];t==="page"?(s.value=P.pageX,l.value=P.pageY):t==="client"&&(s.value=P.clientX,l.value=P.clientY),u.value="touch"}},y=k=>i===void 0?d(k):i(()=>d(k),{}),w=k=>i===void 0?f(k):i(()=>f(k),{});return o&&(F(o,"mousemove",y,{passive:!0}),F(o,"dragover",y,{passive:!0}),r&&(F(o,"touchstart",w,{passive:!0}),F(o,"touchmove",w,{passive:!0}),n&&F(o,"touchend",m,{passive:!0}))),{x:s,y:l,sourceType:u}}function Nd(e,t={}){const{handleOutside:r=!0,window:n=oe}=t,{x:a,y:o,sourceType:i}=ja(t),s=b(e!=null?e:n==null?void 0:n.document.body),l=b(0),u=b(0),d=b(0),m=b(0),f=b(0),y=b(0),w=b(!0);let k=()=>{};return n&&(k=B([s,a,o],()=>{const P=he(s);if(!P)return;const{left:M,top:C,width:E,height:A}=P.getBoundingClientRect();d.value=M+n.pageXOffset,m.value=C+n.pageYOffset,f.value=A,y.value=E;const j=a.value-d.value,V=o.value-m.value;w.value=E===0||A===0||j<0||V<0||j>E||V>A,(r||!w.value)&&(l.value=j,u.value=V)},{immediate:!0})),{x:a,y:o,sourceType:i,elementX:l,elementY:u,elementPositionX:d,elementPositionY:m,elementHeight:f,elementWidth:y,isOutside:w,stop:k}}function Ud(e={}){const{touch:t=!0,drag:r=!0,initialValue:n=!1,window:a=oe}=e,o=b(n),i=b(null);if(!a)return{pressed:o,sourceType:i};const s=d=>()=>{o.value=!0,i.value=d},l=()=>{o.value=!1,i.value=null},u=I(()=>he(e.target)||a);return F(u,"mousedown",s("mouse"),{passive:!0}),F(a,"mouseleave",l,{passive:!0}),F(a,"mouseup",l,{passive:!0}),r&&(F(u,"dragstart",s("mouse"),{passive:!0}),F(a,"drop",l,{passive:!0}),F(a,"dragend",l,{passive:!0})),t&&(F(u,"touchstart",s("touch"),{passive:!0}),F(a,"touchend",l,{passive:!0}),F(a,"touchcancel",l,{passive:!0})),{pressed:o,sourceType:i}}function La(e={}){const{window:t=oe}=e,r=t==null?void 0:t.navigator,n=ke(()=>r&&"connection"in r),a=b(!0),o=b(!1),i=b(void 0),s=b(void 0),l=b(void 0),u=b(void 0),d=b(void 0),m=b(void 0),f=b("unknown"),y=n.value&&r.connection;function w(){!r||(a.value=r.onLine,i.value=a.value?void 0:Date.now(),s.value=a.value?Date.now():void 0,y&&(l.value=y.downlink,u.value=y.downlinkMax,m.value=y.effectiveType,d.value=y.rtt,o.value=y.saveData,f.value=y.type))}return t&&(F(t,"offline",()=>{a.value=!1,i.value=Date.now()}),F(t,"online",()=>{a.value=!0,s.value=Date.now()})),y&&F(y,"change",w,!1),w(),{isSupported:n,isOnline:a,saveData:o,offlineAt:i,onlineAt:s,downlink:l,downlinkMax:u,effectiveType:m,rtt:d,type:f}}var Vd=Object.defineProperty,Hr=Object.getOwnPropertySymbols,Wd=Object.prototype.hasOwnProperty,Bd=Object.prototype.propertyIsEnumerable,Yr=(e,t,r)=>t in e?Vd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Hd=(e,t)=>{for(var r in t||(t={}))Wd.call(t,r)&&Yr(e,r,t[r]);if(Hr)for(var r of Hr(t))Bd.call(t,r)&&Yr(e,r,t[r]);return e};function Ra(e={}){const{controls:t=!1,interval:r="requestAnimationFrame"}=e,n=b(new Date),a=()=>n.value=new Date,o=r==="requestAnimationFrame"?Ia(a,{immediate:!0}):xa(a,r,{immediate:!0});return t?Hd({now:n},o):n}function Yd(e){const t=b(),r=()=>{t.value&&URL.revokeObjectURL(t.value),t.value=void 0};return B(()=>x(e),n=>{r(),n&&(t.value=URL.createObjectURL(n))},{immediate:!0}),fe(r),Qa(t)}function zr(e,t,r){const n=b(e);return I({get(){return n.value=Sr(n.value,K(t),K(r))},set(a){n.value=Sr(a,K(t),K(r))}})}function zd(e){const{total:t=1/0,pageSize:r=10,page:n=1,onPageChange:a=ce,onPageSizeChange:o=ce,onPageCountChange:i=ce}=e,s=zr(r,1,1/0),l=I(()=>Math.max(1,Math.ceil(x(t)/x(s)))),u=zr(n,1,l),d=I(()=>u.value===1),m=I(()=>u.value===l.value);Ce(n)&&Tr(n,u),Ce(r)&&Tr(r,s);function f(){u.value--}function y(){u.value++}const w={currentPage:u,currentPageSize:s,pageCount:l,isFirstPage:d,isLastPage:m,prev:f,next:y};return B(u,()=>{a(N(w))}),B(s,()=>{o(N(w))}),B(l,()=>{i(N(w))}),w}function qd(e={}){const{isOnline:t}=La(e);return t}function Gd(e={}){const{window:t=oe}=e,r=b(!1),n=a=>{if(!t)return;a=a||t.event;const o=a.relatedTarget||a.toElement;r.value=!o};return t&&(F(t,"mouseout",n,{passive:!0}),F(t.document,"mouseleave",n,{passive:!0}),F(t.document,"mouseenter",n,{passive:!0})),r}var Kd=Object.defineProperty,Qd=Object.defineProperties,Xd=Object.getOwnPropertyDescriptors,qr=Object.getOwnPropertySymbols,Jd=Object.prototype.hasOwnProperty,Zd=Object.prototype.propertyIsEnumerable,Gr=(e,t,r)=>t in e?Kd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ef=(e,t)=>{for(var r in t||(t={}))Jd.call(t,r)&&Gr(e,r,t[r]);if(qr)for(var r of qr(t))Zd.call(t,r)&&Gr(e,r,t[r]);return e},tf=(e,t)=>Qd(e,Xd(t));const Fa={x:0,y:0,pointerId:0,pressure:0,tiltX:0,tiltY:0,width:0,height:0,twist:0,pointerType:null},rf=Object.keys(Fa);function nf(e={}){const{target:t=oe}=e,r=b(!1),n=b(e.initialValue||{});Object.assign(n.value,Fa,n.value);const a=o=>{r.value=!0,!(e.pointerTypes&&!e.pointerTypes.includes(o.pointerType))&&(n.value=Oc(o,rf,!1))};return t&&(F(t,"pointerdown",a,{passive:!0}),F(t,"pointermove",a,{passive:!0}),F(t,"pointerleave",()=>r.value=!1,{passive:!0})),tf(ef({},Oa(n)),{isInside:r})}var Kr;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Kr||(Kr={}));function af(e){const t=We("(prefers-color-scheme: light)",e),r=We("(prefers-color-scheme: dark)",e);return I(()=>r.value?"dark":t.value?"light":"no-preference")}function of(e={}){const{window:t=oe}=e;if(!t)return b(["en"]);const r=t.navigator,n=b(r.languages);return F(t,"languagechange",()=>{n.value=r.languages}),n}function sf(e){const t=We("(prefers-reduced-motion: reduce)",e);return I(()=>t.value?"reduce":"no-preference")}var lf=Object.defineProperty,dt=Object.getOwnPropertySymbols,Na=Object.prototype.hasOwnProperty,Ua=Object.prototype.propertyIsEnumerable,Qr=(e,t,r)=>t in e?lf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,uf=(e,t)=>{for(var r in t||(t={}))Na.call(t,r)&&Qr(e,r,t[r]);if(dt)for(var r of dt(t))Ua.call(t,r)&&Qr(e,r,t[r]);return e},cf=(e,t)=>{var r={};for(var n in e)Na.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&dt)for(var n of dt(e))t.indexOf(n)<0&&Ua.call(e,n)&&(r[n]=e[n]);return r};const Xr=[{max:6e4,value:1e3,name:"second"},{max:276e4,value:6e4,name:"minute"},{max:72e6,value:36e5,name:"hour"},{max:5184e5,value:864e5,name:"day"},{max:24192e5,value:6048e5,name:"week"},{max:28512e6,value:2592e6,name:"month"},{max:1/0,value:31536e6,name:"year"}],df={justNow:"just now",past:e=>e.match(/\d/)?`${e} ago`:e,future:e=>e.match(/\d/)?`in ${e}`:e,month:(e,t)=>e===1?t?"last month":"next month":`${e} month${e>1?"s":""}`,year:(e,t)=>e===1?t?"last year":"next year":`${e} year${e>1?"s":""}`,day:(e,t)=>e===1?t?"yesterday":"tomorrow":`${e} day${e>1?"s":""}`,week:(e,t)=>e===1?t?"last week":"next week":`${e} week${e>1?"s":""}`,hour:e=>`${e} hour${e>1?"s":""}`,minute:e=>`${e} minute${e>1?"s":""}`,second:e=>`${e} second${e>1?"s":""}`},ff=e=>e.toISOString().slice(0,10);function mf(e,t={}){const{controls:r=!1,max:n,updateInterval:a=3e4,messages:o=df,fullDateFormatter:i=ff}=t,{abs:s,round:l}=Math,u=Ra({interval:a,controls:!0}),{now:d}=u,m=cf(u,["now"]);function f(P,M){var C;const E=+M-+P,A=s(E);if(A<6e4)return o.justNow;if(typeof n=="number"&&A>n)return i(new Date(P));if(typeof n=="string"){const j=(C=Xr.find(V=>V.name===n))==null?void 0:C.max;if(j&&A>j)return i(new Date(P))}for(const j of Xr)if(A<j.max)return w(E,j)}function y(P,M,C){const E=o[P];return typeof E=="function"?E(M,C):E.replace("{0}",M.toString())}function w(P,M){const C=l(s(P)/M.value),E=P>0,A=y(M.name,C,E);return y(E?"past":"future",A,E)}const k=I(()=>f(new Date(K(e)),x(d.value)));return r?uf({timeAgo:k},m):k}var vf=Object.defineProperty,Jr=Object.getOwnPropertySymbols,hf=Object.prototype.hasOwnProperty,pf=Object.prototype.propertyIsEnumerable,Zr=(e,t,r)=>t in e?vf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gf=(e,t)=>{for(var r in t||(t={}))hf.call(t,r)&&Zr(e,r,t[r]);if(Jr)for(var r of Jr(t))pf.call(t,r)&&Zr(e,r,t[r]);return e};function yf(e={}){const{controls:t=!1,offset:r=0,immediate:n=!0,interval:a="requestAnimationFrame"}=e,o=b(ut()+r),i=()=>o.value=ut()+r,s=a==="requestAnimationFrame"?Ia(i,{immediate:n}):xa(i,a,{immediate:n});return t?gf({timestamp:o},s):o}var bf=Object.defineProperty,en=Object.getOwnPropertySymbols,wf=Object.prototype.hasOwnProperty,_f=Object.prototype.propertyIsEnumerable,tn=(e,t,r)=>t in e?bf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,kf=(e,t)=>{for(var r in t||(t={}))wf.call(t,r)&&tn(e,r,t[r]);if(en)for(var r of en(t))_f.call(t,r)&&tn(e,r,t[r]);return e};const Of={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};kf({linear:_c},Of);function $f(e,t){const r=b(),n=Aa(r),a=b([]),o=vt(e),i=b({start:0,end:10}),{itemHeight:s,overscan:l=5}=t,u=C=>{if(typeof s=="number")return Math.ceil(C/s);const{start:E=0}=i.value;let A=0,j=0;for(let V=E;V<o.value.length;V++)if(A+=s(V),A>=C){j=V;break}return j-E},d=C=>{if(typeof s=="number")return Math.floor(C/s)+1;let E=0,A=0;for(let j=0;j<o.value.length;j++)if(E+=s(j),E>=C){A=j;break}return A+1},m=()=>{const C=r.value;if(C){const E=d(C.scrollTop),A=u(C.clientHeight),j=E-l,V=E+A+l;i.value={start:j<0?0:j,end:V>o.value.length?o.value.length:V},a.value=o.value.slice(i.value.start,i.value.end).map((h,S)=>({data:h,index:S+i.value.start}))}};B([n.width,n.height,e],()=>{m()});const f=I(()=>typeof s=="number"?o.value.length*s:o.value.reduce((C,E,A)=>C+s(A),0)),y=C=>typeof s=="number"?C*s:o.value.slice(0,C).reduce((A,j,V)=>A+s(V),0),w=C=>{r.value&&(r.value.scrollTop=y(C),m())},k=I(()=>y(i.value.start)),P=I(()=>({style:{width:"100%",height:`${f.value-k.value}px`,marginTop:`${k.value}px`}}));return{list:a,scrollTo:w,containerProps:{ref:r,onScroll:()=>{m()},style:{overflowY:"auto"}},wrapperProps:P}}function xf({window:e=oe}={}){if(!e)return b(!1);const t=b(e.document.hasFocus());return F(e,"blur",()=>{t.value=!1}),F(e,"focus",()=>{t.value=!0}),t}function Sf(e={}){const{window:t=oe,initialWidth:r=1/0,initialHeight:n=1/0,listenOrientation:a=!0}=e,o=b(r),i=b(n),s=()=>{t&&(o.value=t.innerWidth,i.value=t.innerHeight)};return s(),_e(s),F("resize",s,{passive:!0}),a&&F("orientationchange",s,{passive:!0}),{width:o,height:i}}const Pf=q({name:"OnClickOutside",props:["as"],emits:["trigger"],setup(e,{slots:t,emit:r}){const n=b();return Hc(n,a=>{r("trigger",a)}),()=>{if(t.default)return de(e.as||"div",{ref:n},t.default())}}});function Le(e){var t;const r=K(e);return(t=r==null?void 0:r.$el)!=null?t:r}const ye=we?window:void 0;function ge(...e){let t,r,n,a;if(wa(e[0])?([r,n,a]=e,t=ye):[t,r,n,a]=e,!t)return ce;let o=ce;const i=B(()=>Le(t),l=>{o(),l&&(l.addEventListener(r,n,a),o=()=>{l.removeEventListener(r,n,a),o=ce})},{immediate:!0,flush:"post"}),s=()=>{i(),o()};return fe(s),s}const Tf=e=>typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):e?()=>!0:()=>!1;function rn(e,t,r={}){const{target:n=ye,eventName:a="keydown",passive:o=!1}=r,i=Tf(e);return ge(n,a,l=>{i(l)&&t(l)},o)}var Df=Object.defineProperty,nn=Object.getOwnPropertySymbols,Mf=Object.prototype.hasOwnProperty,Cf=Object.prototype.propertyIsEnumerable,an=(e,t,r)=>t in e?Df(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ef=(e,t)=>{for(var r in t||(t={}))Mf.call(t,r)&&an(e,r,t[r]);if(nn)for(var r of nn(t))Cf.call(t,r)&&an(e,r,t[r]);return e};Ie.mounted+"";const If=500;function Ft(e,t,r){var n,a;const o=I(()=>Le(e));let i=null;function s(){i!=null&&(clearTimeout(i),i=null)}function l(d){var m,f,y,w;((m=r==null?void 0:r.modifiers)==null?void 0:m.self)&&d.target!==o.value||(s(),(f=r==null?void 0:r.modifiers)!=null&&f.prevent&&d.preventDefault(),(y=r==null?void 0:r.modifiers)!=null&&y.stop&&d.stopPropagation(),i=setTimeout(()=>t(d),(w=r==null?void 0:r.delay)!=null?w:If))}const u={capture:(n=r==null?void 0:r.modifiers)==null?void 0:n.capture,once:(a=r==null?void 0:r.modifiers)==null?void 0:a.once};ge(o,"pointerdown",l,u),ge(o,"pointerup",s,u),ge(o,"pointerleave",s,u)}q({name:"OnLongPress",props:["as","options"],emits:["trigger"],setup(e,{slots:t,emit:r}){const n=b();return Ft(n,a=>{r("trigger",a)},e.options),()=>{if(t.default)return de(e.as||"div",{ref:n},t.default())}}});Ie.mounted+"";q({name:"UseActiveElement",setup(e,{slots:t}){const r=N({element:Yc()});return()=>{if(t.default)return t.default(r)}}});q({name:"UseBattery",setup(e,{slots:t}){const r=N(zc(e));return()=>{if(t.default)return t.default(r)}}});q({name:"UseBrowserLocation",setup(e,{slots:t}){const r=N(qc());return()=>{if(t.default)return t.default(r)}}});const Nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ut="__vueuse_ssr_handlers__";Nt[Ut]=Nt[Ut]||{};const Af=Nt[Ut];function Va(e,t){return Af[e]||t}function jf(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"||Array.isArray(e)?"object":Number.isNaN(e)?"any":"number"}var Lf=Object.defineProperty,on=Object.getOwnPropertySymbols,Rf=Object.prototype.hasOwnProperty,Ff=Object.prototype.propertyIsEnumerable,sn=(e,t,r)=>t in e?Lf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ln=(e,t)=>{for(var r in t||(t={}))Rf.call(t,r)&&sn(e,r,t[r]);if(on)for(var r of on(t))Ff.call(t,r)&&sn(e,r,t[r]);return e};const Nf={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function Uf(e,t,r,n={}){var a;const{flush:o="pre",deep:i=!0,listenToStorageChanges:s=!0,writeDefaults:l=!0,mergeDefaults:u=!1,shallow:d,window:m=ye,eventFilter:f,onError:y=h=>{console.error(h)}}=n,w=(d?vt:b)(t);if(!r)try{r=Va("getDefaultStorage",()=>{var h;return(h=ye)==null?void 0:h.localStorage})()}catch(h){y(h)}if(!r)return w;const k=K(t),P=jf(k),M=(a=n.serializer)!=null?a:Nf[P],{pause:C,resume:E}=Ta(w,()=>A(w.value),{flush:o,deep:i,eventFilter:f});return m&&s&&ge(m,"storage",V),V(),w;function A(h){try{h==null?r.removeItem(e):r.setItem(e,M.write(h))}catch(S){y(S)}}function j(h){if(!(h&&h.key!==e)){C();try{const S=h?h.newValue:r.getItem(e);if(S==null)return l&&k!==null&&r.setItem(e,M.write(k)),k;if(!h&&u){const $=M.read(S);return ba(u)?u($,k):P==="object"&&!Array.isArray($)?ln(ln({},k),$):$}else return typeof S!="string"?S:M.read(S)}catch(S){y(S)}finally{E()}}}function V(h){h&&h.key!==e||(w.value=j(h))}}function nr(e,t=!1){const r=b(),n=()=>r.value=Boolean(e());return n(),_e(n,t),r}function Vf(e,t={}){const{window:r=ye}=t,n=nr(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let a;const o=b(!1),i=()=>{!n.value||(a||(a=r.matchMedia(e)),o.value=a.matches)};return $a(()=>{i(),a&&("addEventListener"in a?a.addEventListener("change",i):a.addListener(i),fe(()=>{"removeEventListener"in a?a.removeEventListener("change",i):a.removeListener(i)}))}),o}function Wf(e){return Vf("(prefers-color-scheme: dark)",e)}var Bf=Object.defineProperty,un=Object.getOwnPropertySymbols,Hf=Object.prototype.hasOwnProperty,Yf=Object.prototype.propertyIsEnumerable,cn=(e,t,r)=>t in e?Bf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,zf=(e,t)=>{for(var r in t||(t={}))Hf.call(t,r)&&cn(e,r,t[r]);if(un)for(var r of un(t))Yf.call(t,r)&&cn(e,r,t[r]);return e};function qf(e={}){const{selector:t="html",attribute:r="class",initialValue:n="auto",window:a=ye,storage:o,storageKey:i="vueuse-color-scheme",listenToStorageChanges:s=!0,storageRef:l,emitAuto:u}=e,d=zf({auto:"",light:"light",dark:"dark"},e.modes||{}),m=Wf({window:a}),f=I(()=>m.value?"dark":"light"),y=l||(i==null?b(n):Uf(i,n,o,{window:a,listenToStorageChanges:s})),w=I({get(){return y.value==="auto"&&!u?f.value:y.value},set(C){y.value=C}}),k=Va("updateHTMLAttrs",(C,E,A)=>{const j=a==null?void 0:a.document.querySelector(C);if(!!j)if(E==="class"){const V=A.split(/\s/g);Object.values(d).flatMap(h=>(h||"").split(/\s/g)).filter(Boolean).forEach(h=>{V.includes(h)?j.classList.add(h):j.classList.remove(h)})}else j.setAttribute(E,A)});function P(C){var E;const A=C==="auto"?f.value:C;k(t,r,(E=d[A])!=null?E:A)}function M(C){e.onChanged?e.onChanged(C,P):P(C)}return B(w,M,{flush:"post",immediate:!0}),u&&B(f,()=>M(w.value),{flush:"post"}),_e(()=>M(w.value)),w}q({name:"UseColorMode",props:["selector","attribute","modes","onChanged","storageKey","storage","emitAuto"],setup(e,{slots:t}){const r=qf(e),n=N({mode:r});return()=>{if(t.default)return t.default(n)}}});q({name:"UseDark",props:["selector","attribute","valueDark","valueLight","onChanged","storageKey","storage"],setup(e,{slots:t}){const r=fd(e),n=N({isDark:r,toggleDark:Ic(r)});return()=>{if(t.default)return t.default(n)}}});q({name:"UseDeviceMotion",setup(e,{slots:t}){const r=N(md());return()=>{if(t.default)return t.default(r)}}});q({name:"UseDeviceOrientation",setup(e,{slots:t}){const r=N(vd());return()=>{if(t.default)return t.default(r)}}});q({name:"UseDevicePixelRatio",setup(e,{slots:t}){const r=N({pixelRatio:pd()});return()=>{if(t.default)return t.default(r)}}});q({name:"UseDevicesList",props:["onUpdated","requestPermissions","constraints"],setup(e,{slots:t}){const r=N(yd(e));return()=>{if(t.default)return t.default(r)}}});q({name:"UseDocumentVisibility",setup(e,{slots:t}){const r=N({visibility:bd()});return()=>{if(t.default)return t.default(r)}}});var Gf=Object.defineProperty,Kf=Object.defineProperties,Qf=Object.getOwnPropertyDescriptors,dn=Object.getOwnPropertySymbols,Xf=Object.prototype.hasOwnProperty,Jf=Object.prototype.propertyIsEnumerable,fn=(e,t,r)=>t in e?Gf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Zf=(e,t)=>{for(var r in t||(t={}))Xf.call(t,r)&&fn(e,r,t[r]);if(dn)for(var r of dn(t))Jf.call(t,r)&&fn(e,r,t[r]);return e},em=(e,t)=>Kf(e,Qf(t));q({name:"UseDraggable",props:["storageKey","storageType","initialValue","exact","preventDefault","stopPropagation","pointerTypes","as"],setup(e,{slots:t}){const r=b(),n=e.storageKey?Ca(e.storageKey,K(e.initialValue)||{x:0,y:0},we?e.storageType==="session"?sessionStorage:localStorage:void 0):e.initialValue||{x:0,y:0},a=N(Pd(r,em(Zf({},e),{initialValue:n})));return()=>{if(t.default)return de(e.as||"div",{ref:r,style:`touch-action:none;${a.style}`},t.default(a))}}});q({name:"UseElementBounding",props:["box","as"],setup(e,{slots:t}){const r=b(),n=N(Cd(r));return()=>{if(t.default)return de(e.as||"div",{ref:r},t.default(n))}}});function tm(e){const t=b(!1);return ge(e,"mouseenter",()=>t.value=!0),ge(e,"mouseleave",()=>t.value=!1),t}Ie.mounted+"";q({name:"UseElementSize",props:["width","height","box"],setup(e,{slots:t}){const r=b(),n=N(Aa(r,{width:e.width,height:e.height},{box:e.box}));return()=>{if(t.default)return de(e.as||"div",{ref:r},t.default(n))}}});var mn=Object.getOwnPropertySymbols,rm=Object.prototype.hasOwnProperty,nm=Object.prototype.propertyIsEnumerable,am=(e,t)=>{var r={};for(var n in e)rm.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&mn)for(var n of mn(e))t.indexOf(n)<0&&nm.call(e,n)&&(r[n]=e[n]);return r};function om(e,t,r={}){const n=r,{window:a=ye}=n,o=am(n,["window"]);let i;const s=nr(()=>a&&"ResizeObserver"in a),l=()=>{i&&(i.disconnect(),i=void 0)},u=B(()=>Le(e),m=>{l(),s.value&&a&&m&&(i=new ResizeObserver(t),i.observe(m,o))},{immediate:!0,flush:"post"}),d=()=>{l(),u()};return fe(d),{isSupported:s,stop:d}}function sm(e,t={width:0,height:0},r={}){const n=b(t.width),a=b(t.height);return om(e,([o])=>{n.value=o.contentRect.width,a.value=o.contentRect.height},r),B(()=>Le(e),o=>{n.value=o?t.width:0,a.value=o?t.height:0}),{width:n,height:a}}Ie.mounted+"";q({name:"UseElementVisibility",props:["as"],setup(e,{slots:t}){const r=b(),n=N({isVisible:Ed(r)});return()=>{if(t.default)return de(e.as||"div",{ref:r},t.default(n))}}});function vn(e,{window:t=ye,scrollTarget:r}={}){const n=b(!1),a=()=>{if(!t)return;const o=t.document,i=K(e);if(!i)n.value=!1;else{const s=i.getBoundingClientRect();n.value=s.top<=(t.innerHeight||o.documentElement.clientHeight)&&s.left<=(t.innerWidth||o.documentElement.clientWidth)&&s.bottom>=0&&s.right>=0}};return _e(a),t&&_e(()=>ge(()=>K(r)||t,"scroll",a,{capture:!1,passive:!0})),n}Ie.mounted+"";q({name:"UseEyeDropper",props:{sRGBHex:String},setup(e,{slots:t}){const r=N(Id());return()=>{if(t.default)return t.default(r)}}});q({name:"UseFullscreen",props:["as"],setup(e,{slots:t}){const r=b(),n=N(Ad(r));return()=>{if(t.default)return de(e.as||"div",{ref:r},t.default(n))}}});q({name:"UseGeolocation",props:["enableHighAccuracy","maximumAge","timeout","navigator"],setup(e,{slots:t}){const r=N(jd(e));return()=>{if(t.default)return t.default(r)}}});q({name:"UseIdle",props:["timeout","events","listenForVisibilityChange","initialState"],setup(e,{slots:t}){const r=N(Fd(e.timeout,e));return()=>{if(t.default)return t.default(r)}}});function im(e,t,r){const{immediate:n=!0,delay:a=0,onError:o=ce,resetOnExecute:i=!0,shallow:s=!0,throwError:l}=r!=null?r:{},u=s?vt(t):b(t),d=b(!1),m=b(!1),f=b(void 0);async function y(w=0,...k){i&&(u.value=t),f.value=void 0,d.value=!1,m.value=!0,w>0&&await wc(w);const P=typeof e=="function"?e(...k):e;try{const M=await P;u.value=M,d.value=!0}catch(M){if(f.value=M,o(M),l)throw f}finally{m.value=!1}return u.value}return n&&y(a),{state:u,isReady:d,isLoading:m,error:f,execute:y}}var lm=Object.defineProperty,hn=Object.getOwnPropertySymbols,um=Object.prototype.hasOwnProperty,cm=Object.prototype.propertyIsEnumerable,pn=(e,t,r)=>t in e?lm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dm=(e,t)=>{for(var r in t||(t={}))um.call(t,r)&&pn(e,r,t[r]);if(hn)for(var r of hn(t))cm.call(t,r)&&pn(e,r,t[r]);return e};async function fm(e){return new Promise((t,r)=>{const n=new Image,{src:a,srcset:o,sizes:i}=e;n.src=a,o&&(n.srcset=o),i&&(n.sizes=i),n.onload=()=>t(n),n.onerror=r})}const mm=(e,t={})=>{const r=im(()=>fm(K(e)),void 0,dm({resetOnExecute:!0},t));return B(()=>K(e),()=>r.execute(t.delay),{deep:!0}),r};q({name:"UseImage",props:["src","srcset","sizes","as"],setup(e,{slots:t}){const r=N(mm(e));return()=>r.isLoading&&t.loading?t.loading(r):r.error&&t.error?t.error(r.error):t.default?t.default(r):de(e.as||"img",e)}});function Vt(e,t={}){const{throttle:r=0,idle:n=200,onStop:a=ce,onScroll:o=ce,offset:i={left:0,right:0,top:0,bottom:0},eventListenerOptions:s={capture:!1,passive:!0}}=t,l=b(0),u=b(0),d=b(!1),m=N({left:!0,right:!1,top:!0,bottom:!1}),f=N({left:!1,right:!1,top:!1,bottom:!1}),y=ka(k=>{d.value=!1,f.left=!1,f.right=!1,f.top=!1,f.bottom=!1,a(k)},r+n),w=k=>{const P=k.target===document?k.target.documentElement:k.target,M=P.scrollLeft;f.left=M<l.value,f.right=M>l.value,m.left=M<=0+(i.left||0),m.right=M+P.clientWidth>=P.scrollWidth-(i.right||0),l.value=M;let C=P.scrollTop;k.target===document&&!C&&(C=document.body.scrollTop),f.top=C<u.value,f.bottom=C>u.value,m.top=C<=0+(i.top||0),m.bottom=C+P.clientHeight>=P.scrollHeight-(i.bottom||0),u.value=C,d.value=!0,y(k),o(k)};return ge(e,"scroll",r?$c(w,r):w,s),{x:l,y:u,isScrolling:d,arrivedState:m,directions:f}}var vm=Object.defineProperty,hm=Object.defineProperties,pm=Object.getOwnPropertyDescriptors,gn=Object.getOwnPropertySymbols,gm=Object.prototype.hasOwnProperty,ym=Object.prototype.propertyIsEnumerable,yn=(e,t,r)=>t in e?vm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,bn=(e,t)=>{for(var r in t||(t={}))gm.call(t,r)&&yn(e,r,t[r]);if(gn)for(var r of gn(t))ym.call(t,r)&&yn(e,r,t[r]);return e},bm=(e,t)=>hm(e,pm(t));function wn(e,t,r={}){var n,a;const o=(n=r.direction)!=null?n:"bottom",i=N(Vt(e,bm(bn({},r),{offset:bn({[o]:(a=r.distance)!=null?a:0},r.offset)})));B(()=>i.arrivedState[o],async s=>{var l,u;if(s){const d=K(e),m={height:(l=d==null?void 0:d.scrollHeight)!=null?l:0,width:(u=d==null?void 0:d.scrollWidth)!=null?u:0};await t(i),r.preserveScrollPosition&&d&&Se(()=>{d.scrollTo({top:d.scrollHeight-m.height,left:d.scrollWidth-m.width})})}})}Ie.mounted+"";function _n(e,t,r={}){const{root:n,rootMargin:a="0px",threshold:o=.1,window:i=ye}=r,s=nr(()=>i&&"IntersectionObserver"in i);let l=ce;const u=s.value?B(()=>({el:Le(e),root:Le(n)}),({el:m,root:f})=>{if(l(),!m)return;const y=new IntersectionObserver(t,{root:f,rootMargin:a,threshold:o});y.observe(m),l=()=>{y.disconnect(),l=ce}},{immediate:!0,flush:"post"}):ce,d=()=>{l(),u()};return fe(d),{isSupported:s,stop:d}}Ie.mounted+"";q({name:"UseMouse",props:["touch","resetOnTouchEnds","initialValue"],setup(e,{slots:t}){const r=N(ja(e));return()=>{if(t.default)return t.default(r)}}});q({name:"UseMouseElement",props:["handleOutside","as"],setup(e,{slots:t}){const r=b(),n=N(Nd(r,e));return()=>{if(t.default)return de(e.as||"div",{ref:r},t.default(n))}}});var wm=Object.defineProperty,_m=Object.defineProperties,km=Object.getOwnPropertyDescriptors,kn=Object.getOwnPropertySymbols,Om=Object.prototype.hasOwnProperty,$m=Object.prototype.propertyIsEnumerable,On=(e,t,r)=>t in e?wm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,xm=(e,t)=>{for(var r in t||(t={}))Om.call(t,r)&&On(e,r,t[r]);if(kn)for(var r of kn(t))$m.call(t,r)&&On(e,r,t[r]);return e},Sm=(e,t)=>_m(e,km(t));q({name:"UseMousePressed",props:["touch","initialValue","as"],setup(e,{slots:t}){const r=b(),n=N(Ud(Sm(xm({},e),{target:r})));return()=>{if(t.default)return de(e.as||"div",{ref:r},t.default(n))}}});q({name:"UseNetwork",setup(e,{slots:t}){const r=N(La());return()=>{if(t.default)return t.default(r)}}});var Pm=Object.defineProperty,Tm=Object.defineProperties,Dm=Object.getOwnPropertyDescriptors,$n=Object.getOwnPropertySymbols,Mm=Object.prototype.hasOwnProperty,Cm=Object.prototype.propertyIsEnumerable,xn=(e,t,r)=>t in e?Pm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Em=(e,t)=>{for(var r in t||(t={}))Mm.call(t,r)&&xn(e,r,t[r]);if($n)for(var r of $n(t))Cm.call(t,r)&&xn(e,r,t[r]);return e},Im=(e,t)=>Tm(e,Dm(t));q({name:"UseNow",props:["interval"],setup(e,{slots:t}){const r=N(Ra(Im(Em({},e),{controls:!0})));return()=>{if(t.default)return t.default(r)}}});q({name:"UseObjectUrl",props:["object"],setup(e,{slots:t}){const r=Xa(e,"object"),n=Yd(r);return()=>{if(t.default&&n.value)return t.default(n)}}});var Am=Object.defineProperty,jm=Object.defineProperties,Lm=Object.getOwnPropertyDescriptors,Sn=Object.getOwnPropertySymbols,Rm=Object.prototype.hasOwnProperty,Fm=Object.prototype.propertyIsEnumerable,Pn=(e,t,r)=>t in e?Am(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Nm=(e,t)=>{for(var r in t||(t={}))Rm.call(t,r)&&Pn(e,r,t[r]);if(Sn)for(var r of Sn(t))Fm.call(t,r)&&Pn(e,r,t[r]);return e},Um=(e,t)=>jm(e,Lm(t));q({name:"UseOffsetPagination",props:["total","page","pageSize","onPageChange","onPageSizeChange","onPageCountChange"],emits:["page-change","page-size-change","page-count-change"],setup(e,{slots:t,emit:r}){const n=N(zd(Um(Nm({},e),{onPageChange(...a){var o;(o=e.onPageChange)==null||o.call(e,...a),r("page-change",...a)},onPageSizeChange(...a){var o;(o=e.onPageSizeChange)==null||o.call(e,...a),r("page-size-change",...a)},onPageCountChange(...a){var o;(o=e.onPageCountChange)==null||o.call(e,...a),r("page-count-change",...a)}})));return()=>{if(t.default)return t.default(n)}}});q({name:"UseOnline",setup(e,{slots:t}){const r=N({isOnline:qd()});return()=>{if(t.default)return t.default(r)}}});q({name:"UsePageLeave",setup(e,{slots:t}){const r=N({isLeft:Gd()});return()=>{if(t.default)return t.default(r)}}});var Vm=Object.defineProperty,Wm=Object.defineProperties,Bm=Object.getOwnPropertyDescriptors,Tn=Object.getOwnPropertySymbols,Hm=Object.prototype.hasOwnProperty,Ym=Object.prototype.propertyIsEnumerable,Dn=(e,t,r)=>t in e?Vm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,zm=(e,t)=>{for(var r in t||(t={}))Hm.call(t,r)&&Dn(e,r,t[r]);if(Tn)for(var r of Tn(t))Ym.call(t,r)&&Dn(e,r,t[r]);return e},qm=(e,t)=>Wm(e,Bm(t));q({name:"UsePointer",props:["pointerTypes","initialValue","target"],setup(e,{slots:t}){const r=b(null),n=N(nf(qm(zm({},e),{target:e.target==="self"?r:ye})));return()=>{if(t.default)return t.default(n,{ref:r})}}});q({name:"UsePreferredColorScheme",setup(e,{slots:t}){const r=N({colorScheme:af()});return()=>{if(t.default)return t.default(r)}}});q({name:"UsePreferredDark",setup(e,{slots:t}){const r=N({prefersDark:rr()});return()=>{if(t.default)return t.default(r)}}});q({name:"UsePreferredLanguages",setup(e,{slots:t}){const r=N({languages:of()});return()=>{if(t.default)return t.default(r)}}});q({name:"UsePreferredReducedMotion",setup(e,{slots:t}){const r=N({motion:sf()});return()=>{if(t.default)return t.default(r)}}});function et(e,t,{window:r=ye,initialValue:n=""}={}){const a=b(n),o=I(()=>{var i;return Le(t)||((i=r==null?void 0:r.document)==null?void 0:i.documentElement)});return B([o,()=>K(e)],([i,s])=>{var l;if(i&&r){const u=(l=r.getComputedStyle(i).getPropertyValue(s))==null?void 0:l.trim();a.value=u||n}},{immediate:!0}),B(a,i=>{var s;(s=o.value)!=null&&s.style&&o.value.style.setProperty(K(e),i)}),a}const Mn="--vueuse-safe-area-top",Cn="--vueuse-safe-area-right",En="--vueuse-safe-area-bottom",In="--vueuse-safe-area-left";function Gm(){const e=b(""),t=b(""),r=b(""),n=b("");if(we){const o=et(Mn),i=et(Cn),s=et(En),l=et(In);o.value="env(safe-area-inset-top, 0px)",i.value="env(safe-area-inset-right, 0px)",s.value="env(safe-area-inset-bottom, 0px)",l.value="env(safe-area-inset-left, 0px)",a(),ge("resize",ka(a))}function a(){e.value=tt(Mn),t.value=tt(Cn),r.value=tt(En),n.value=tt(In)}return{top:e,right:t,bottom:r,left:n,update:a}}function tt(e){return getComputedStyle(document.documentElement).getPropertyValue(e)}q({name:"UseScreenSafeArea",props:{top:Boolean,right:Boolean,bottom:Boolean,left:Boolean},setup(e,{slots:t}){const{top:r,right:n,bottom:a,left:o}=Gm();return()=>{if(t.default)return de("div",{style:{paddingTop:e.top?r.value:"",paddingRight:e.right?n.value:"",paddingBottom:e.bottom?a.value:"",paddingLeft:e.left?o.value:"",boxSizing:"border-box",maxHeight:"100vh",maxWidth:"100vw",overflow:"auto"}},t.default())}}});var Km=Object.defineProperty,Qm=Object.defineProperties,Xm=Object.getOwnPropertyDescriptors,An=Object.getOwnPropertySymbols,Jm=Object.prototype.hasOwnProperty,Zm=Object.prototype.propertyIsEnumerable,jn=(e,t,r)=>t in e?Km(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ev=(e,t)=>{for(var r in t||(t={}))Jm.call(t,r)&&jn(e,r,t[r]);if(An)for(var r of An(t))Zm.call(t,r)&&jn(e,r,t[r]);return e},tv=(e,t)=>Qm(e,Xm(t));Ie.mounted+"";function rv(e){const t=e||window.event;return t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}function nv(e,t=!1){const r=b(t);let n=null,a;B(xc(e),s=>{if(s){const l=s;a=l.style.overflow,r.value&&(l.style.overflow="hidden")}},{immediate:!0});const o=()=>{const s=K(e);!s||r.value||(Pr&&(n=ge(s,"touchmove",rv,{passive:!1})),s.style.overflow="hidden",r.value=!0)},i=()=>{const s=K(e);!s||!r.value||(Pr&&(n==null||n()),s.style.overflow=a,r.value=!1)};return fe(i),I({get(){return r.value},set(s){s?o():i()}})}const av=()=>{let e=!1;const t=b(!1);return(r,n)=>{if(t.value=n.value,e)return;e=!0;const a=nv(r,n.value);B(t,o=>a.value=o)}};av();var ov=Object.defineProperty,sv=Object.defineProperties,iv=Object.getOwnPropertyDescriptors,Ln=Object.getOwnPropertySymbols,lv=Object.prototype.hasOwnProperty,uv=Object.prototype.propertyIsEnumerable,Rn=(e,t,r)=>t in e?ov(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,cv=(e,t)=>{for(var r in t||(t={}))lv.call(t,r)&&Rn(e,r,t[r]);if(Ln)for(var r of Ln(t))uv.call(t,r)&&Rn(e,r,t[r]);return e},dv=(e,t)=>sv(e,iv(t));q({name:"UseTimeAgo",props:["time","updateInterval","max","fullDateFormatter","messages"],setup(e,{slots:t}){const r=N(mf(()=>e.time,dv(cv({},e),{controls:!0})));return()=>{if(t.default)return t.default(r)}}});var fv=Object.defineProperty,mv=Object.defineProperties,vv=Object.getOwnPropertyDescriptors,Fn=Object.getOwnPropertySymbols,hv=Object.prototype.hasOwnProperty,pv=Object.prototype.propertyIsEnumerable,Nn=(e,t,r)=>t in e?fv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gv=(e,t)=>{for(var r in t||(t={}))hv.call(t,r)&&Nn(e,r,t[r]);if(Fn)for(var r of Fn(t))pv.call(t,r)&&Nn(e,r,t[r]);return e},yv=(e,t)=>mv(e,vv(t));q({name:"UseTimestamp",props:["immediate","interval","offset"],setup(e,{slots:t}){const r=N(yf(yv(gv({},e),{controls:!0})));return()=>{if(t.default)return t.default(r)}}});var bv=Object.defineProperty,Un=Object.getOwnPropertySymbols,wv=Object.prototype.hasOwnProperty,_v=Object.prototype.propertyIsEnumerable,Vn=(e,t,r)=>t in e?bv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Wn=(e,t)=>{for(var r in t||(t={}))wv.call(t,r)&&Vn(e,r,t[r]);if(Un)for(var r of Un(t))_v.call(t,r)&&Vn(e,r,t[r]);return e};q({name:"UseVirtualList",props:["list","options","height"],setup(e,{slots:t}){const{list:r}=ve(e),{list:n,containerProps:a,wrapperProps:o}=$f(r,e.options);return a.style.height=e.height||"300px",()=>de("div",Wn({},a),[de("div",Wn({},o.value),n.value.map(i=>de("div",{style:{overFlow:"hidden",height:i.height}},t.default?t.default(i):"Please set content!")))])}});q({name:"UseWindowFocus",setup(e,{slots:t}){const r=N({focused:xf()});return()=>{if(t.default)return t.default(r)}}});q({name:"UseWindowSize",props:["initialWidth","initialHeight"],setup(e,{slots:t}){const r=N(Sf(e));return()=>{if(t.default)return t.default(r)}}});const kv=q({components:{AtDatePicker:lo,AtDateAction:uo,OnClickOutside:Pf,NPopover:Wt},props:{modelValue:{type:[Date,String]},placeholder:{type:String,default:"date"},acceptRecurrence:{type:Boolean,default:!1},schedule:{type:Object,default(){return{}}},disabled:{type:Boolean,default:!1}},emits:{"update:modelValue":Date},setup(e,{emit:t}){const r=N({isOpen:!1,hasError:!1,shortcuts:[{text:"Today",value:new Date},{text:"Tomorrow",value:(()=>{const w=new Date;return w.setTime(w.getTime()+864e5),w})()},{text:"Next week",value:(()=>{const w=new Date;return w.setTime(w.getTime()+6048e5),w})()}]}),n=b(null),{humanDate:a,getDateFromString:o}=pt(n);B(()=>e.modelValue,w=>{n.value=typeof w=="string"?o(w):w},{immediate:!0});const i=()=>{t("update:modelValue",n.value)},s=b(null),l=()=>{e.disabled||(r.isOpen=!r.isOpen)};xe(()=>{s.tabIndex=-1});const u=w=>{w.path.find(P=>P.classList&&P.classList.contains("el-popper"))||(r.isOpen=!1,m.value=!1)},d=w=>{m.value=!1,t("update:schedule",w)},m=b(!1),f=I(()=>e.schedule&&e.schedule.frequency),y=I(()=>f.value?"Repeat: "+e.schedule.frequency:"No repeat");return{...ve(r),date:n,humanDate:a,input:s,emitDate:i,focusInput:l,closeModal:u,isRecurrenceOpen:m,recurrenceLabel:y,setRecurrence:d,isRecurrent:f}}}),Ov={key:0,class:"mr-1 text-green-400 fa fa-redo"},$v={key:1,class:"mr-1 fa fa-calendar"},xv={class:"inline-block w-full text-sm font-bold text-left capitalize"},Sv={class:"mx-2"},Pv={class:"mx-2"},Tv=ae(" Done ");function Dv(e,t,r,n,a,o){const i=ee("at-date-picker"),s=ee("at-date-action"),l=ee("recurrence-form"),u=ee("el-popover"),d=ee("NPopover"),m=ee("on-click-outside");return O(),J(m,{class:"date-select",onTrigger:e.closeModal},{default:L(()=>[W(d,{overlap:!0,trigger:"click",placement:"top-start","popper-class":"tag-select dark:bg-gray-900 dark:text-gray-300",width:310,"show-arrow":!1},{trigger:L(()=>[v("button",{onClick:t[0]||(t[0]=re((...f)=>e.focusInput&&e.focusInput(...f),["stop"])),"data-name":"button",tabindex:0,class:"flex items-center focus:outline-none"},[e.isRecurrent?(O(),T("i",Ov)):(O(),T("i",$v)),v("span",xv,H(e.humanDate||e.placeholder),1)])]),default:L(()=>[v("div",null,[W(i,{date:e.date,"onUpdate:date":[t[1]||(t[1]=f=>e.date=f),t[3]||(t[3]=f=>e.emitDate())],"has-error":e.hasError,"onUpdate:has-error":t[2]||(t[2]=f=>e.hasError=f),shortcuts:e.shortcuts,"accept-time":!1,"accept-recurrence":!0},null,8,["date","has-error","shortcuts"]),e.acceptRecurrence?(O(),J(u,{key:0,visible:e.isRecurrenceOpen,"onUpdate:visible":t[6]||(t[6]=f=>e.isRecurrenceOpen=f),trigger:"manual",placement:"top",width:280},{reference:L(()=>[v("div",Sv,[W(s,{onClick:t[4]||(t[4]=f=>e.isRecurrenceOpen=!e.isRecurrenceOpen),class:"focus:outline-none"},{default:L(()=>[ae(H(e.recurrenceLabel),1)]),_:1})])]),default:L(()=>[W(l,{"due-date":e.date,schedule:e.schedule,onCancel:t[5]||(t[5]=f=>e.isRecurrenceOpen=!1),onDone:e.setRecurrence},null,8,["due-date","schedule","onDone"])]),_:1},8,["visible"])):z("",!0),v("div",Pv,[W(s,{onClick:t[7]||(t[7]=f=>e.isOpen=!1),class:"focus:outline-none"},{default:L(()=>[Tv]),_:1})])])]),_:1})]),_:1},8,["onTrigger"])}const Mv=Re(kv,[["render",Dv]]);const Cv={components:{ChecklistContainer:Ul,PersonSelect:Uu,TagsSelect:gc,DateSelect:Mv},props:{task:Object,type:String,currentTask:{type:Object,default:()=>({})},handleMode:Boolean,showSelect:Boolean,showControls:Boolean,currentTimer:Object,isItemAsHandler:Boolean,isCompact:Boolean,allowRun:Boolean,allowUpdate:Boolean},emits:{deleted:Object,selected:Object,edited:Object,up:Object,down:Object,undo:Object,done:Object,clone:Object,updated:Array,"toggle-timer":Object},setup(e,{emit:t}){const{task:r,currentTask:n,currentTimer:a}=ve(e),o=N({timeTrackedLabel:I(()=>r.value.duration_ms||"00:00:00"),typeColor:I(()=>{const k={todo:`bg-green-100 dark:bg-gray-600 dark:border-gray-500 ${r.value.is_key?"text-gray-100 ":"text-green-500"}`,schedule:"bg-blue-100 dark:bg-gray-600 dark:border-gray-500 dark:text-blue-500 text-blue-500",delegate:"bg-yellow-100 dark:bg-gray-600 dark:border-gray-500 dark:text-yellow-400 text-yellow-500",delete:"bg-red-100 dark:bg-gray-600 dark:border-gray-500 text-red-400",backlog:"bg-gray-100 text-gray-500 dark:bg-gray-600 dark:border-gray-500 dark:text-gray-300"};return k[e.type]||k.todo}),keyStyles:I(()=>r.value.is_key&&e.type=="todo"?"border-green-300 border-2 bg-green-500 text-white":""),isDisabled:I(()=>a.value&&a.value.task_uid),dateStates:I(()=>{const{formatDate:k}=pt(),P={normal:{color:"text-gray-400",title:"due date"},due:{color:"text-blue-400",title:"due to today"},overdue:{color:"text-red-400",title:"Overdue"}};let M="normal";return r.value.due_date==k()?M="due":r.value.due_date&&r.value.due_date<k()&&(M="overdue"),P[M]}),isExpanded:!1,processing:!1});r.value.contacts=r.value.contacts||[];const i=k=>{switch(k){case"delete":t("deleted",r);break;case"edit":t("edited",r);break;case"up":t("up",r);break;case"down":t("down",r);break;case"done":t("done",r);break;case"undo":t("undo",r);break;case"clone":t("clone",r);break;case"toggle-key":t("toggle-key",r)}},s=()=>{o.isExpanded=!o.isExpanded},l=()=>{ElNotification({title:"changed"})},u=b([]),d=()=>{},m=()=>{},f=b([]),y=()=>{},w=()=>{};return{...ve(o),handleCommand:i,toggleExpand:s,updateItems:l,tags:u,createTag:d,addTag:m,contacts:f,createContact:y,selectContact:w}}},He=e=>(ft("data-v-d7c7c236"),e=e(),mt(),e),Ev={class:"flex justify-between"},Iv={class:"flex items-start text-xs md:items-center"},Av={key:0,class:"flex items-center mr-2"},jv={class:"m-0 text-sm text-left cursor-pointer task-item__title"},Lv={class:"flex items-start task-item__controls md:items-center"},Rv={class:"flex-wrap items-center justify-end mr-1 md:flex"},Fv=He(()=>v("i",{class:"mr-1 fa fa-trash"},null,-1)),Nv=[Fv],Uv=He(()=>v("i",{class:"fas fa-undo"},null,-1)),Vv=ae(" Undo "),Wv=[Uv,Vv],Bv=["title"],Hv=He(()=>v("i",{class:"fa fa-ellipsis-v"},null,-1)),Yv=[Hv],zv=ae("Edit"),qv=ae("Delete "),Gv=ae(" Mark as done "),Kv=ae(" undo "),Qv=ae(" Duplicate "),Xv=ae(" Key task "),Jv=ae("Move to todo"),Zv=ae("Move to schedule"),eh=He(()=>v("i",{class:"fa fa-align-left"},null,-1)),th=[eh],rh=He(()=>v("i",{class:"mr-2 fa fa-list-ul"},null,-1)),nh={class:"font-bold"},ah=He(()=>v("div",{class:"flex justify-end w-full"},null,-1)),oh={class:"task-item__body"},sh=["innerHTML"],ih={class:"mt-5 task-item__checklist"};function lh(e,t,r,n,a,o){var w;const i=ee("person-select"),s=ee("time-tracker-button"),l=ee("date-select"),u=ee("el-dropdown-item"),d=ee("el-dropdown-menu"),m=ee("el-dropdown"),f=ee("checklist-container"),y=ee("el-collapse-transition");return O(),T("div",{class:U(["items-center px-4 mb-2 transition-all bg-white border-2 border-gray-200 rounded-md cursor-pointer task-item dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300 hover:border-green-200",{"py-3 shadow-md ":!r.isCompact,"py-2":r.isCompact}]),onClick:t[15]||(t[15]=k=>e.$emit("selected",r.task)),onDblclick:t[16]||(t[16]=re(k=>e.$emit("edited",r.task),["prevent"]))},[v("div",Ev,[v("div",Iv,[r.showSelect?(O(),T("div",Av,[ue(v("input",{type:"checkbox",class:"mr-4 form-control-check checkbox-done","onUpdate:modelValue":t[0]||(t[0]=k=>r.task.done=k),onClick:t[1]||(t[1]=re(k=>e.$emit("done",r.task),["stop"]))},null,512),[[Ke,r.task.done]])])):(O(),T("div",{key:1,class:U(["px-2 py-1 mr-3 border-2 border-transparent rounded-md",[e.typeColor,e.keyStyles]])},[v("i",{class:U([r.task.is_key?"fa fa-fire":"fa fa-sticky-note"])},null,2)],2)),v("h4",jv,H(r.task.title),1)]),v("div",Lv,[v("div",Rv,[r.type=="delegate"?(O(),J(i,{key:0,modelValue:r.task.contacts,"onUpdate:modelValue":[t[2]||(t[2]=k=>r.task.contacts=k),t[3]||(t[3]=k=>e.$emit("updated",r.task))],items:n.contacts,multiple:!0,onSelected:e.addContact,onAdded:n.createContact},null,8,["modelValue","items","onSelected","onAdded"])):r.type=="delete"?(O(),T("div",{key:1,class:"mx-2 text-sm text-gray-400 cursor-pointer hover:text-red-400 md:text-md md:text-base",onClick:t[4]||(t[4]=k=>e.$emit("deleted",r.task)),title:"Delete"},Nv)):z("",!0),W(s,{"allow-run":r.allowRun,"default-value":e.timeTrackedLabel,currentTimer:r.currentTimer,"is-current":r.currentTask.uid==r.task.uid,task:r.currentTask,onToggleTimer:t[5]||(t[5]=k=>e.$emit("toggle-timer",r.task))},null,8,["allow-run","default-value","currentTimer","is-current","task"]),v("div",null,[r.task.due_date||r.type=="schedule"?(O(),J(l,{key:0,modelValue:r.task.due_date,"onUpdate:modelValue":[t[6]||(t[6]=k=>r.task.due_date=k),t[9]||(t[9]=k=>e.$emit("updated",{...r.task,due_date:k}))],schedule:r.task.schedule,"onUpdate:schedule":[t[7]||(t[7]=k=>r.task.schedule=k),t[8]||(t[8]=k=>e.$emit("updated",{...r.task,schedule:k}))],disabled:!r.allowUpdate,class:U(e.dateStates.color),title:e.dateStates.title,"accept-recurrence":!0,placeholder:"due date"},null,8,["modelValue","schedule","disabled","class","title"])):z("",!0)]),r.task.done?(O(),T("button",{key:2,class:"h-6 px-2 ml-2 text-xs text-white transition-colors bg-gray-600 rounded-md hover:bg-gray-500",onClick:t[10]||(t[10]=re(k=>e.$emit("undo",r.task),["stop"]))},Wv)):z("",!0)]),r.showControls?(O(),J(m,{key:0,trigger:"click",onCommand:n.handleCommand,disabled:e.isDisabled,onClick:t[12]||(t[12]=re(()=>{},["stop"]))},{dropdown:L(()=>[W(d,null,{default:L(()=>[W(u,{command:"edit",icon:"el-icon-edit"},{default:L(()=>[zv]),_:1}),W(u,{command:"delete",icon:"el-icon-delete"},{default:L(()=>[qv]),_:1}),r.task.done?(O(),J(u,{key:1,command:"undo",icon:"el-icon-refresh-left"},{default:L(()=>[Kv]),_:1})):(O(),J(u,{key:0,command:"done",icon:"el-icon-check"},{default:L(()=>[Gv]),_:1})),W(u,{command:"clone",icon:"el-icon-document-copy"},{default:L(()=>[Qv]),_:1}),r.task.matrix=="todo"?(O(),J(u,{key:2,command:"toggle-key",icon:"el-icon-s-flag"},{default:L(()=>[Xv]),_:1})):z("",!0),r.task.matrix=="schedule"?(O(),J(u,{key:3,command:"up",icon:"el-icon-arrow-left"},{default:L(()=>[Jv]),_:1})):z("",!0),r.task.matrix=="todo"?(O(),J(u,{key:4,command:"down",icon:"el-icon-arrow-right"},{default:L(()=>[Zv]),_:1})):z("",!0)]),_:1})]),default:L(()=>[v("div",{class:"px-2 py-1 text-sm text-gray-400 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 dark:hover:text-gray-50 focus:outline-none hover:text-gray-600",title:e.isDisabled?"Can updates tasks when timer is running":"",onClick:t[11]||(t[11]=re(()=>{},["stop"]))},Yv,8,Bv)]),_:1},8,["onCommand","disabled"])):z("",!0)])]),r.isCompact?z("",!0):(O(),T("div",{key:0,class:U(["flex items-center mt-1 text-xs",{"justify-between":r.task.due_date}])},[r.task.description?(O(),T("button",{key:0,title:"Description",class:"px-2 py-1 rounded-md hover:bg-gray-200 focus:outline-none",onClick:t[13]||(t[13]=re((...k)=>n.toggleExpand&&n.toggleExpand(...k),["stop"]))},th)):z("",!0),(w=r.task.checklist)!=null&&w.length?(O(),T("button",{key:1,title:"Checklist",class:"flex items-center w-20 px-2 py-1 rounded-md hover:bg-gray-200 focus:outline-none",onClick:t[14]||(t[14]=re((...k)=>n.toggleExpand&&n.toggleExpand(...k),["stop"]))},[rh,v("div",null,[v("span",nh,H(r.task.checklist.filter(k=>k.done).length),1),ae(" / "+H(r.task.checklist.length),1)])])):z("",!0),ah],2)),W(y,null,{default:L(()=>[ue(v("div",oh,[v("div",{class:U(["pt-2 text-left whitespace-pre-line task-item__description",{"text-gray-400 text-sm":!r.task.description}]),placeholder:"Add a short description",innerHTML:r.task.description},null,10,sh),v("div",ih,[W(f,{items:r.task.checklist,task:r.task,onUpdated:n.updateItems},null,8,["items","task","onUpdated"])])],512),[[zn,e.isExpanded]])]),_:1})],34)}const uh=Re(Cv,[["render",lh],["__scopeId","data-v-d7c7c236"]]),ch={},dh={class:"octicon octicon-unfold link-gray mr-1","aria-label":"Expand",viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16",role:"img"},fh=v("path",{"fill-rule":"evenodd",d:"M8.177.677l2.896 2.896a.25.25 0 01-.177.427H8.75v1.25a.75.75 0 01-1.5 0V4H5.104a.25.25 0 01-.177-.427L7.823.677a.25.25 0 01.354 0zM7.25 10.75a.75.75 0 011.5 0V12h2.146a.25.25 0 01.177.427l-2.896 2.896a.25.25 0 01-.354 0l-2.896-2.896A.25.25 0 015.104 12H7.25v-1.25zm-5-2a.75.75 0 000-1.5h-.5a.75.75 0 000 1.5h.5zM6 8a.75.75 0 01-.75.75h-.5a.75.75 0 010-1.5h.5A.75.75 0 016 8zm2.25.75a.75.75 0 000-1.5h-.5a.75.75 0 000 1.5h.5zM12 8a.75.75 0 01-.75.75h-.5a.75.75 0 010-1.5h.5A.75.75 0 0112 8zm2.25.75a.75.75 0 000-1.5h-.5a.75.75 0 000 1.5h.5z"},null,-1),mh=[fh];function vh(e,t){return O(),T("svg",dh,mh)}const hh=Re(ch,[["render",vh]]),ph={},gh={class:"octicon octicon-fold link-gray mr-1","aria-label":"Collapse",viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16",role:"img"},yh=v("path",{"fill-rule":"evenodd",d:"M10.896 2H8.75V.75a.75.75 0 00-1.5 0V2H5.104a.25.25 0 00-.177.427l2.896 2.896a.25.25 0 00.354 0l2.896-2.896A.25.25 0 0010.896 2zM8.75 15.25a.75.75 0 01-1.5 0V14H5.104a.25.25 0 01-.177-.427l2.896-2.896a.25.25 0 01.354 0l2.896 2.896a.25.25 0 01-.177.427H8.75v1.25zm-6.5-6.5a.75.75 0 000-1.5h-.5a.75.75 0 000 1.5h.5zM6 8a.75.75 0 01-.75.75h-.5a.75.75 0 010-1.5h.5A.75.75 0 016 8zm2.25.75a.75.75 0 000-1.5h-.5a.75.75 0 000 1.5h.5zM12 8a.75.75 0 01-.75.75h-.5a.75.75 0 010-1.5h.5A.75.75 0 0112 8zm2.25.75a.75.75 0 000-1.5h-.5a.75.75 0 000 1.5h.5z"},null,-1),bh=[yh];function wh(e,t){return O(),T("svg",gh,bh)}const _h=Re(ph,[["render",wh]]);const kh={class:"task-group"},Oh={key:0,class:"flex items-center justify-between cursor-pointer"},$h={class:"flex"},xh={class:"mr-2 text-sm font-bold text-gray-400 dark:text-gray-300"},Bn={__name:"TaskGroup",props:{tasks:{type:Array,default(){return[]}},isQuadrant:Boolean,color:String,title:String,type:String,icons:Array,handleMode:Boolean,showControls:Boolean,showSelect:Boolean,currentTask:{type:Object,default(){return{}}},currentTimer:Object,showTitle:{type:Boolean,default:!0},maxHeight:{default:340,type:Number},taskClass:{type:String},dragClass:{type:String},placeholder:String,isItemAsHandler:Boolean,allowUpdate:{type:Boolean,default:!0},allowRun:Boolean,isCompact:Boolean,useExternalDone:Boolean},emits:{deleted:Object,selected:Object,edited:Object,up:Object,down:Object,move:Object,change:Object,undo:Object,done:Object,"toggle-timer":Object},setup(e,{emit:t}){const r=e;b(!1);const n=b(null);xe(()=>{r.maxHeight&&n.value&&(n.value.style.setProperty("--max-height",`${r.maxHeight}px`),r.placeholder&&n.value.style.setProperty("--placeholder",`"${r.placeholder}"`))});const{tasks:a,showSelect:o,currentTask:i,currentTimer:s,isItemAsHandler:l,handleMode:u}=ve(r),{width:d}=Po(),m=I(()=>d.value>758&&(u.value||l.value)?null:".handle"),f=I(()=>d.value<758&&l.value||u.value),y=I(()=>{const c={todo:{content:"Important & Urgent Tasks"},schedule:{content:"Important but not urgent"},delegate:{content:"Urgent but not important"},delete:{content:"not Important & not urgent"}};return c[r.type]?c[r.type].content:""}),w=b(!0),k=()=>{w.value=!w.value},P=(c,_)=>{t("move",c,_)},M=(c,_)=>{t("change",c,_)},C=()=>{},E=()=>{},A=I(()=>a.value.filter(c=>c.is_key).length),j=c=>{c.tracks=[],c.commit_date=null,c.done=!1,delete c.duration_ms,t("undo",c)},{formatDate:V}=pt(),h=async c=>{let _=!0,g=[];if(c.checklist&&(g=c.checklist.filter(D=>!D.done)),g.length&&(_=await ElMessageBox.confirm(`There are ${g.length} unresolved item(s)`,"Are you sure?",{confirmButtonText:"Mark all as done",cancelButtonText:"Cancel"}).then(()=>!0),_&&g.forEach(D=>D.done=!0)),!!_){if(c.commit_date=V(),c.done=!0,r.useExternalDone){t("done",c);return}C().then(()=>{t("done",c)})}},S=c=>{const _={...c};_.uid=null,_.title+=" copy",_.duration_ms=null,_.duration=0,_.order=0,_.track=[],_.copied_from=c.uid,_.is_copy=!0,E().then(()=>{ElNotification({message:"Task Copied"}),t("clone",_)})},$=c=>{const _={...c};_.track=[]},p=c=>{!c.is_key&&A.value<3?(c.is_key=!0,C({uid:c.uid,is_key:c.is_key}),ElNotification({message:"Marked as key"})):c.is_key&&(c.is_key=!1,C({uid:c.uid,is_key:c.is_key}))};return(c,_)=>{const g=ee("el-collapse-transition");return O(),T("div",kh,[e.showTitle?(O(),T("div",Oh,[v("h4",{class:U(["block mb-2 font-bold",[e.isQuadrant?`font-bold ${e.color} capitalize`:""]])},H(e.title)+" ("+H(x(a).length)+") ",3),v("div",$h,[v("small",xh,H(x(y)),1),v("div",{onClick:k},[w.value?(O(),J(_h,{key:1,class:"fill-current dark:text-gray-50"})):(O(),J(hh,{key:0,class:"fill-current dark:text-gray-50"}))])])])):z("",!0),De(c.$slots,"addForm"),De(c.$slots,"content",{},()=>[W(g,null,{default:L(()=>[ue(v("div",{class:"w-full list-group ic-scroller",ref_key:"listGroup",ref:n},[W(x(ht),{class:U(["dragArea",{empty:!x(a).length,[e.type]:!0,[e.dragClass]:!0}]),list:x(a),handle:x(m),group:{name:e.type,pull:!0,put:!0},onMove:P,onChange:_[0]||(_[0]=D=>M(D,e.type))},{default:L(()=>[(O(!0),T(ne,null,se(x(a),D=>(O(),J(uh,{key:D,task:D,type:e.type,"handle-mode":x(f),icons:e.icons,"show-select":x(o),"show-controls":e.showControls,"current-task":x(i),"current-timer":x(s),"is-item-as-handler":x(l),"is-compact":e.isCompact,class:U(e.taskClass),"allow-run":e.allowRun,"allow-update":e.allowUpdate,onToggleKey:G=>p(D),onToggleTimer:G=>t("toggle-timer",D),onSelected:G=>t("selected",D),onDeleted:G=>t("deleted",D),onUpdated:$,onEdited:G=>t("edited",D),onUndo:G=>j(D),onDone:G=>h(D),onClone:G=>S(D),onUp:G=>t("up",D),onDown:G=>t("down",D)},null,8,["task","type","handle-mode","icons","show-select","show-controls","current-task","current-timer","is-item-as-handler","is-compact","class","allow-run","allow-update","onToggleKey","onToggleTimer","onSelected","onDeleted","onEdited","onUndo","onDone","onClone","onUp","onDown"]))),128))]),_:1},8,["class","list","handle","group"]),x(a).length?z("",!0):De(c.$slots,"empty",{key:0})],512),[[zn,w.value]])]),_:3})])])}}},Sh={class:"mb-20"},Ph={class:"w-full md:block lg:flex matrix"},Th={class:"mb-4 quick__add"},Dh={class:"mb-4 quick__add"},Mh={key:0,class:"w-full px-5 py-4 bg-white rounded-md shadow-md"},Ch=v("div",{class:"mb-2 font-bold text-left text-gray-500"},[ae(" Timeline: "),v("span",{class:"text-sm font-normal"},"Track the number of days since the task was created until today")],-1),Eh={class:"flex items-center h-full mx-2 text-left"},Ih={class:"flex items-center"},Ah=v("label",{class:"mr-2"}," Sort By:",-1),jh={__name:"MatrixBoard",props:{mode:{type:String,default:"matrix"},showHelp:Boolean,showUncategorized:{type:Boolean,default:!0},search:String,user:String,allowUpdate:{type:Boolean,default:!0},allowAdd:{type:Boolean,default:!0},kanbanData:{type:Object,required:!0},stages:{type:Array,required:!0},fields:{type:Array,required:!0}},emits:[],setup(e,{emit:t}){const r=e,n=I(()=>r.mode=="backlog"),a=I(()=>r.mode.includes("matrix")),o=I(()=>r.mode=="lineup"),i=c=>o&&["todo","schedule"].includes(c),s=N({tasks:[],matrix:["todo","schedule","delegate","delete"],quadrants:{todo:{color:"text-green-400",border:"border-green-400",background:"bg-green-400",tasks:[]},schedule:{color:"text-blue-400",border:"border-blue-400",background:"bg-blue-400",tasks:[]},delegate:{color:"text-yellow-400",border:"border-yellow-400",background:"bg-yellow-400",tasks:[]},delete:{color:"text-red-400",border:"border-red-400",background:"bg-red-400",tasks:[]},backlog:{background:"bg-gray-400",color:"",tasks:[]}},isTaskModalOpen:!1,isTimeLine:I(()=>r.mode=="timeline")}),{search:l}=ve(r),{tasks:u}=ve(s),{filteredList:d}=ya(l,u),m=N({sortBy:{name:"matrix",label:"Matrix"},sortFields:[{name:"matrix",label:"Matrix"},{name:"diff",label:"Duration"},{name:"order",label:"Order"}]}),f=I(()=>{const c=d.value.map(_=>{var D;_.start=_.created_at.toDate(),_.end=new Date;const g=_.matrix||"backlog";return console.log(g),_.colorClass=(D=s.quadrants[g])==null?void 0:D.background,_.diff=differenceInCalendarDays(_.start,_.end),_});return orderBy(c,m.sortBy.name)}),y=c=>{var _;return(_=s.quadrants[c])==null?void 0:_.color},{toISO:w}=pt(),k=()=>{},P=(c="default")=>{const _={default:s.tasks,overdue:s.tasks.filter(g=>g.due_date&&g.due_date<new Date),stale:s.tasks.filter(g=>g.created_at&&differenceInCalendarDays(new Date,g.created_at.toDate())>14)};return _[c]||_.default};B(()=>[s.tasks,r.mode],()=>{Object.values(s.quadrants).forEach(g=>g.tasks=[]);const c=r.mode.slice(r.mode.search(":")+1);P(c).forEach(g=>{s.quadrants[g.matrix]&&!s.quadrants[g.matrix].tasks?s.quadrants[g.matrix].tasks=[g]:s.quadrants[g.matrix]&&s.quadrants[g.matrix].tasks.push(g)})});const M=c=>r.kanbanData[c].items,C=c=>Math.max(...c.map(_=>Number(_.order||0)))+1,E=c=>{c.order=C(s.quadrants[c.matrix||"backlog"].tasks);const _={...c};_.due_date=w(_.due_date),t("save",_)},A=async c=>{t("delete",c)},j=c=>{const _=s.quadrants[c.matrix];_.tasks=_.tasks.filter(g=>c.uid!=g.uid)},V=async(c,_)=>{const g=c.matrix;c.matrix=_;const D=s.quadrants;t("update",c),D[g].tasks=D[g].tasks.filter(G=>c.uid!=G.uid)},h=(c,_)=>{if(c.added){const g=r.kanbanData[_];let D=c.added.element.fields.find(G=>G.field_id==g.attributes.field_id);D?D.value=g.attributes.name:(D=this.fields.find(G=>G.id==g.attributes.field_id),c.added.element.fields.push({field_id:D.id,field_name:D.name,value:g.attributes.name})),c.added.element.matrix=_,c.added.element.order=c.added.newIndex,t("saved",c.added.element),S(_)}c.moved&&S(_)},S=c=>{const _=M(c);return k(_.map((g,D)=>(g.order=D,g)))},$=b({}),p=c=>{$.value=c,s.isTaskModalOpen=!1,s.isTaskModalOpen=!0};return(c,_)=>{const g=ee("quick-add"),D=ee("matrix-help-view"),G=ee("QuickAdd"),R=ee("jet-select");return O(),T("div",Sh,[v("div",Ph,[x(a)||x(o)?(O(),T("div",{key:0,class:U(["grid md:grid-cols-2 md:gap-10",{"w-full":x(o),"sm:w-full lg:w-full":x(a)&&!e.showUncategorized,"sm:w-full md:8/12":x(a)&&e.showUncategorized}])},[(O(!0),T(ne,null,se(s.matrix,te=>(O(),T("div",{class:U(["w-full pt-3 mb-10 md:mb-0 ic-scroller",[e.showHelp&&(!x(o)||i(te))?`border-2 ${s.quadrants[te].border} border-dashed pr-5 pl-3`:""]]),key:te},[!x(o)||i(te)?(O(),J(Bn,{key:0,title:te,type:te,search:x(l),tasks:M(te),color:s.quadrants[te].color,"show-controls":e.allowUpdate,"allow-update":e.allowUpdate,"allow-move":!1,"handle-mode":!0,onDone:j,onUndone:j,onDeleted:A,onEdited:p,onChange:h,onDown:_[0]||(_[0]=ie=>V(ie,"schedule")),onUp:_[1]||(_[1]=ie=>V(ie,"todo")),onMove:c.onMove,"is-quadrant":!0},or({_:2},[!e.showHelp&&e.allowAdd?{name:"addForm",fn:L(()=>[v("div",Th,[W(g,{onSaved:E,"allow-edit":!0,type:te},null,8,["type"])])])}:void 0,e.showHelp?{name:"content",fn:L(()=>[W(D,{matrix:te},null,8,["matrix"])])}:void 0]),1032,["title","type","search","tasks","color","show-controls","allow-update","onMove"])):z("",!0)],2))),128))],2)):z("",!0),x(n)||e.showUncategorized&&!s.isTimeLine?(O(),T("div",{key:1,class:U([{"md:w-full":x(n),"md:w-4/12 md:ml-20":x(a)&&e.showUncategorized,"md:hidden":x(a)&&!e.showUncategorized,"border-2 border-gray-400 border-dashed pr-5 pl-5":e.showHelp},"pt-3"])},[W(Bn,{title:"No prioritized",type:"backlog",color:"text-gray-400",tasks:M("backlog"),"handle-mode":e.allowUpdate,"is-quadrant":!0,"show-controls":e.allowUpdate,"max-height":x(n)?0:350,onDone:j,onUndone:j,onDeleted:A,onEdited:p,onChange:h,onMove:c.onMove},or({_:2},[!e.showHelp&&e.allowAdd?{name:"addForm",fn:L(()=>[v("div",Dh,[W(G,{onSaved:E,"allow-edit":!0,type:"backlog"})])])}:void 0,e.showHelp?{name:"content",fn:L(()=>[W(D,{matrix:"backlog"})])}:void 0]),1032,["tasks","handle-mode","show-controls","max-height","onMove"])],2)):z("",!0)]),e.mode=="timeline"?(O(),T("div",Mh,[Ch,W(x(Tl),{"show-toolbar":!0,tasks:x(f),onTaskClicked:p,"focused-text-class":"text-green-500","marker-bg-class":"bg-green-400"},{description:L(({focusedTextClass:te,item:ie,differenceInCalendarDays:bt})=>[v("div",Eh,[v("span",{class:U(["text-gray-400 capitalize",y(ie.matrix)])},H(ie.matrix)+": ",3),ae(" "+H(ie.title)+" ",1),v("span",{class:U(["ml-2 text-sm font-bold",te])},H(bt)+" days ",3)])]),actionsRight:L(()=>[v("div",Ih,[Ah,W(R,{selected:m.sortBy,"onUpdate:selected":_[2]||(_[2]=te=>m.sortBy=te),options:m.sortFields,label:"label","key-track":"value",class:"w-32"},null,8,["selected","options"])])]),_:1},8,["tasks"])])):z("",!0)])}}},Lh={class:"flex justify-between mr-2"},Rh={key:2},Fh=["onClick"],Nh=["src"],Uh={key:1},Vh={__name:"BoardTitle",props:{board:{type:Object,required:!0},automations:{type:Array,default:()=>[]}},emits:["saved"],setup(e,{emit:t}){const r=e,n=b();function a(){n.value=!n.value,Se(()=>{var s;(s=document.querySelector("#board-name"))==null||s.focus()})}const o=b(r.board.name),i=s=>{if(o.value!==r.board.name){const l={...r.board,name:o.value};t("saved",l)}s&&a()};return(s,l)=>(O(),T("div",Lh,[n.value?ue((O(),T("input",{key:1,"onUpdate:modelValue":l[1]||(l[1]=u=>o.value=u),id:"board-name",type:"text",class:"inline-block text-2xl font-bold w-full border rounded-md px-2 focus:outline-none focus:border-purple-500",onBlur:l[2]||(l[2]=u=>i(!0)),onKeypress:l[3]||(l[3]=pe(u=>i(!0),["enter"]))},null,544)),[[Me,o.value]]):(O(),T("span",{key:0,class:"text-3xl font-bold border border-transparent rounded-md hover:border-slate-300 px-2 w-full",onClick:l[0]||(l[0]=u=>a())},H(o.value),1)),e.automations.length?(O(),T("div",Rh,[(O(!0),T(ne,null,se(e.automations,u=>(O(),T("span",{class:"automation",key:`automation-${u.id}`,onClick:d=>s.runAutomation(u.id)},[u.service_logo?(O(),T("img",{key:0,src:u.service_logo,class:"automation-logo"},null,8,Nh)):(O(),T("div",Uh,H(u.name[0]),1))],8,Fh))),128))])):z("",!0)]))}};const Wh={class:"px-8 pb-24"},Bh={class:"flex justify-between board__toolbar"},Hh={class:"flex items-center"},Yh={class:"w-40"},zh={slot:"singleLabel","slot-scope":"props"},qh={class:"option__title"},Gh={slot:"option","slot-scope":"props"},Kh={class:"option__desc"},Qh={class:"option__title"},Xh=v("i",{class:"fa fa-eye"},null,-1),Jh=[Xh],Zh={class:""},ep={key:2,class:"flex justify-center w-full py-5"},tp=v("i",{class:"fa fa-plus"},null,-1),rp=[tp],np={__name:"BoardSection",props:{board:{type:Object,required:!0},automations:{type:Array,required:!0},users:{type:Array,required:!0},filters:{type:Object,default(){return{search:"",done:"",sort:""}}}},setup(e){const t=e;Ja("users",t.users);const r={list:{name:"list",title:"List",component:vr,icon:"fa fa-th-list"},matrix:{name:"matrix",title:"Matrix",component:jh,icon:"fa fa-border-all"}},n=N({createMode:!1,modeSelected:"list",itemToDelete:!1,items:[],comments:[],contacts:[{name:"Jesus Guerrero"}],searchOptions:{search:t.filters.search,done:t.filters.done,sort:t.filters.sort},openedItem:{},isEditMode:!1,isItemModalOpen:!1,isAutomationModalOpen:!1});B(n.searchOptions,Za.exports.throttle(()=>{let p=w(n.searchOptions);p=Object.keys(p).length?"?"+new URLSearchParams(w(n.searchOptions)):"",Oe.Inertia.replace(`/boards/${t.board.id}${p}`)},200),{deep:!0,immediate:!0});const a=I(()=>r[n.modeSelected].component),o=I(()=>{const p=t.board.fields.find(c=>c.name=="status");if(t.board.stages.length){const c={};return t.board.labels.forEach(_=>{_.field_id==p.id&&(c[_.name]={id:_.id,fieldId:_.field_id,attributes:_,items:[],newTask:{}})}),t.board.stages.forEach(_=>{_.items.forEach(g=>{c[g[p.name]]?c[g[p.name]].items.push(g):c.backlog.items.push(g)})}),c}return{}}),i=I(()=>Object.values(r).map(p=>p.name)),s=I(()=>t.board.stages.reduce((p,c)=>(p.push(...c.items.filter(_=>_.selected)),p),[]));xe(()=>{window.document.onscroll=function(){requestAnimationFrame(()=>{p()})};function p(){document.querySelectorAll(".ic-list").forEach((_,g)=>{const D=_.querySelectorAll(".false-header");window.pageYOffset>=_.offsetTop-60&&window.pageYOffset<=_.offsetTop+_.offsetHeight-157?_.querySelectorAll(".sticky_header").forEach(G=>{G.classList.add("sticky-active"),D.forEach(R=>R.classList.add("active")),G.style.transform=`translate3d(0px, ${window.pageYOffset-_.offsetTop+60}px, 1px)`}):_.querySelectorAll(".sticky_header").forEach(G=>{G.classList.remove("sticky-active"),D.forEach(R=>R.classList.remove("active")),G.style.transform=""})})}});function l(p,c=!0){const _=p.id?"PUT":"POST",g=p.id?`/${p.id}`:"";axios({url:`/items${g}`,method:_,data:p}).then(()=>{c&&Oe.Inertia.reload({preserveScroll:!0})})}function u(p={},c=!0){const _=p.id?"PUT":"POST",g=p.id?`/${p.id}`:"";return p.board_id=t.board.id,p.name=p.name||`Stage ${t.board.stages.length+1}`,axios({url:`/api/stages${g}`,method:_,data:p}).then(({data:D})=>{c&&Oe.Inertia.reload({preserveScroll:!0})})}function d(p={},c=!0){const _=p.id?"PUT":"POST",g=p.id?`/${p.id}`:"";return axios({url:`/api/boards${g}`,method:_,data:{name:p.name}}).then(()=>{c&&(Oe.Inertia.reload({preserveScroll:!0}),t.isEditMode=!1)})}function m(p){return axios({url:`/api/automations/${p}/run`,method:"POST"}).then(({data:c})=>{this.$notify({type:"success",title:"Automation sync",message:"Updated"}),Oe.Inertia.reload({preserveScroll:!0})})}function f(){t.board.stages.forEach(async(p,c)=>{p.order=c,await u(p,!1)}),Oe.Inertia.reload({preserveScroll:!0})}function y(){const p={with:"only",only:"","":"with"};n.searchOptions.done=p[n.searchOptions.done]}function w(p){return p?Object.entries(p).reduce((c,[_,g])=>(g&&(c[_]=g),c),{}):{}}function k(p){n.searchOptions.sort==p?n.searchOptions.sort=`-${p}`:n.searchOptions.sort=p}function P(){n.searchOptions.sort=""}function M(p){n.isItemModalOpen=!0,n.openedItem=p}function C(p,c=!0){showConfirm({title:`Deleting ${p.title} task`,content:"Are you sure you want to delete this tasks?",confirmationButtonText:"Yes, delete",confirm:()=>{axios({url:`/items/${p.id}`,method:"delete"}).then(()=>{c&&(this.itemToDelete=!1,this.$inertia.reload({preserveScroll:!0}))})}})}function E(p,c=!0){showConfirm({title:`Deleting ${p.length} tasks`,content:"Are you sure you want to delete these tasks?",confirmationButtonText:"Yes, delete",confirm:()=>{axios({url:"/api/items/bulk/delete",method:"post",data:p.map(_=>_.id)}).then(()=>{Oe.Inertia.reload({preserveScroll:!0})})}})}const{createMode:A,modeSelected:j,searchOptions:V,openedItem:h,isEditMode:S,isItemModalOpen:$}=ve(n);return(p,c)=>{const _=ee("multiselect");return O(),T("div",Wh,[v("header",Bh,[W(Vh,{class:"w-full",board:e.board,onSaved:d,automations:e.automations,onRunAutomation:m},null,8,["board","automations"]),v("div",Hh,[v("div",Yh,[W(_,{modelValue:x(j),"onUpdate:modelValue":c[0]||(c[0]=g=>Ce(j)?j.value=g:null),ref:"input","show-labels":!1,options:x(i),class:"w-full"},{default:L(()=>[v("template",zh,[v("span",qh,[v("i",{class:U([r[t.option].icon,"mr-2"])},null,2),ae(" "+H(r[t.option].title),1)])]),v("template",Gh,[v("div",Kh,[v("span",Qh,[v("i",{class:U([r[t.option].icon,"mr-2"])},null,2),ae(" "+H(r[t.option].title),1)])])])]),_:1},8,["modelValue","options"])]),ue(v("input",{type:"search",class:"w-48 ml-2 form-input",name:"",id:"","onUpdate:modelValue":c[1]||(c[1]=g=>x(V).search=g),placeholder:"search"},null,512),[[Me,x(V).search]]),v("span",{class:U(["ml-2 toolbar-buttons",{active:x(V).done}]),onClick:c[2]||(c[2]=g=>y())},Jh,2)])]),x(s).length?(O(),J(go,{key:0,"selected-items":x(s),onDeletePressed:c[3]||(c[3]=g=>E(x(s),!0))},null,8,["selected-items"])):z("",!0),v("div",Zh,[x(j)=="list"?(O(),J(x(ht),{key:0,modelValue:e.board.stages,"onUpdate:modelValue":c[4]||(c[4]=g=>e.board.stages=g),handle:".handle",onEnd:f},{default:L(()=>[W(eo,null,{default:L(()=>[(O(!0),T(ne,null,se(e.board.stages,g=>(O(),J(vr,{key:g.name,stage:g,board:e.board,items:g.items,"create-mode":x(A),filters:e.filters,onSort:k,onClearSort:P,onSaved:l,onOpenItem:M,onItemDeleted:C,onStageUpdated:u,class:"mt-10"},null,8,["stage","board","items","create-mode","filters"]))),128))]),_:1})]),_:1},8,["modelValue"])):(O(),J(Ht(x(a)),{key:1,stages:e.board.stages,fields:e.board.fields,"kanban-data":x(o),onSaved:l,class:"flex pt-5"},null,40,["stages","fields","kanban-data"])),x(j)=="list"?(O(),T("div",ep,[v("button",{class:"flex items-center justify-center w-8 h-8 px-2 text-purple-400 border-2 border-purple-400 rounded-full hover:bg-purple-400 hover:text-white",onClick:c[5]||(c[5]=g=>u())},rp)])):z("",!0)]),W(to,{onCancel:c[6]||(c[6]=g=>$.value=!1),onSaved:c[7]||(c[7]=g=>$.value=!1),"record-data":x(h),"is-open":x($)},null,8,["record-data","is-open"]),W(po,{onCancel:c[8]||(c[8]=g=>n.isAutomationModalOpen=!1),onSaved:c[9]||(c[9]=g=>n.isAutomationModalOpen=!1),"record-data":{},board:e.board,"is-open":n.isAutomationModalOpen},null,8,["board","is-open"])])}}},kp={__name:"Board",props:{board:{type:Object,default(){return{}}},automations:{type:Array,refault(){return[]}},users:{type:Array,refault(){return[]}},filters:{type:Object}},setup(e){return(t,r)=>(O(),J(Wa,{boards:t.boards},{default:L(()=>[W(np,{class:"pt-12 mx-2 w-full overflow-hidden",board:e.board,users:e.users,automations:e.automations,filters:e.filters},null,8,["board","users","automations","filters"])]),_:1},8,["boards"]))}};export{kp as default};
